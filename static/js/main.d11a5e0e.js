/*! For license information please see main.d11a5e0e.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,n)=>{t.exports=n(202)},153:(t,e,n)=>{var i=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:s,_owner:a.current}}e.jsx=c,e.jsxs=c},202:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)_.call(e,r)&&!k.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function N(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+I(l,0):s,w(o)?(r="",null!=t&&(r=t.replace(C,"$&/")+"/"),N(o,e,r,"",function(t){return t})):null!=o&&(T(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",w(t))for(var c=0;c<t.length;c++){var u=s+I(a=t[c],c);l+=N(a,e,r,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=N(a=a.value,e,r,u=s+I(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function P(t,e,n){if(null==t)return t;var i=[],r=0;return N(t,i,"","",function(t){return e.call(n,t,r++)}),i}function A(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},M={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:P,forEach:function(t,e,n){P(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return P(t,function(){e++}),e},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=r,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.act=O,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_.call(e,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=M.transition;M.transition={};try{t()}finally{M.transition=e}},e.unstable_act=O,e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,n){return D.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,n){return D.current.useReducer(t,e,n)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return D.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.3.1"},234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<r&&0>s(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function w(t){if(g=!1,x(t),!m)if(null!==i(c))m=!0,M(_);else{var e=i(u);null!==e&&R(w,e.startTime-t)}}function _(t,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(x(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),x(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&R(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,T=-1,C=5,I=-1;function N(){return!(e.unstable_now()-I<C)}function P(){if(null!==E){var t=e.unstable_now();I=t;var n=!0;try{n=E(!0,t)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=P,S=function(){D.postMessage(null)}}else S=function(){v(P,0)};function M(t){E=t,k||(k=!0,S())}function R(t,n){T=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,M(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===i(c)&&t===i(u)&&(g?(y(T),T=-1):g=!0,R(w,s-o))):(t.sortIndex=a,n(c,t),m||p||(m=!0,M(_))),t},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},391:(t,e,n)=>{var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},579:(t,e,n)=>{t.exports=n(153)},730:(t,e,n)=>{var i=n(43),r=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){g[t]=new m(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){g[t]=new m(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){g[t]=new m(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){g[t]=new m(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){g[t]=new m(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,i){var r=g.hasOwnProperty(e)?g[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)});var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=R&&t[R]||t["@@iterator"])?t:null}var j,L=Object.assign;function F(t){if(void 0===j)try{throw Error()}catch(Wt){var e=Wt.stack.trim().match(/\n( *(at )?)/);j=e&&e[1]||""}return"\n"+j+t}var V=!1;function U(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(Ut){var i=Ut}Reflect.construct(t,[],e)}else{try{e.call()}catch(Ut){i=Ut}t.call(e.prototype)}else{try{throw Error()}catch(Ut){i=Ut}t()}}catch(Ut){if(Ut&&i&&"string"===typeof Ut.stack){for(var r=Ut.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function z(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case D:e=t._payload,t=t._init;try{return B(t(e))}catch(Wt){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return L({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function X(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function $(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){$(t,e);var n=W(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return L({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function st(t,e){var n=W(e.value),i=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ht(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function pt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=pt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(dt).forEach(function(t){ft.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]})});var gt=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,_t=null,St=null;function kt(t){if(t=Ir(t)){if("function"!==typeof wt)throw Error(s(280));var e=t.stateNode;e&&(e=Pr(e),wt(t.stateNode,t.type,e))}}function Et(t){_t?St?St.push(t):St=[t]:_t=t}function Tt(){if(_t){var t=_t,e=St;if(St=_t=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function Ct(t,e){return t(e)}function It(){}var Nt=!1;function Pt(t,e,n){if(Nt)return t(e,n);Nt=!0;try{return Ct(t,e,n)}finally{Nt=!1,(null!==_t||null!==St)&&(It(),Tt())}}function At(t,e){var n=t.stateNode;if(null===n)return null;var i=Pr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Dt=!1;if(u)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch(zt){Dt=!1}function Rt(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ot=!1,jt=null,Lt=!1,Bt=null,Ht={onError:function(t){Ot=!0,jt=t}};function qt(t,e,n,i,r,s,o,a,l){Ot=!1,jt=null,Rt.apply(Ht,arguments)}function Gt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Kt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Xt(t){if(Gt(t)!==t)throw Error(s(188))}function Jt(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=Gt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Xt(r),t;if(o===i)return Xt(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),null!==t?Zt(t):null}function Zt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Zt(t);if(null!==e)return e;t=t.sibling}return null}var te=r.unstable_scheduleCallback,ee=r.unstable_cancelCallback,ne=r.unstable_shouldYield,ie=r.unstable_requestPaint,re=r.unstable_now,se=r.unstable_getCurrentPriorityLevel,oe=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,le=r.unstable_NormalPriority,ce=r.unstable_LowPriority,ue=r.unstable_IdlePriority,he=null,de=null;var fe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(pe(t)/me|0)|0},pe=Math.log,me=Math.LN2;var ve=64,ye=4194304;function be(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xe(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=be(a):0!==(s&=o)&&(i=be(s))}else 0!==(o=n&~r)?i=be(o):0!==s&&(i=be(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-fe(e)),i|=t[n],e&=~r;return i}function we(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function _e(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Se(){var t=ve;return 0===(4194240&(ve<<=1))&&(ve=64),t}function ke(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ee(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-fe(e)]=n}function Te(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-fe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ce=0;function Ie(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Ne,Pe,Ae,Me,Re,Oe=!1,je=[],Le=null,Fe=null,Ve=null,Ue=new Map,ze=new Map,Be=[],He="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function We(t,e){switch(t){case"focusin":case"focusout":Le=null;break;case"dragenter":case"dragleave":Fe=null;break;case"mouseover":case"mouseout":Ve=null;break;case"pointerover":case"pointerout":Ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ze.delete(e.pointerId)}}function qe(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=Ir(e))&&Pe(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Ge(t){var e=Cr(t.target);if(null!==e){var n=Gt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Kt(n)))return t.blockedOn=e,void Re(t.priority,function(){Ae(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ke(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=sn(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Ir(n))&&Pe(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);bt=i,n.target.dispatchEvent(i),bt=null,e.shift()}return!0}function Ye(t,e,n){Ke(t)&&n.delete(e)}function Qe(){Oe=!1,null!==Le&&Ke(Le)&&(Le=null),null!==Fe&&Ke(Fe)&&(Fe=null),null!==Ve&&Ke(Ve)&&(Ve=null),Ue.forEach(Ye),ze.forEach(Ye)}function Xe(t,e){t.blockedOn===e&&(t.blockedOn=null,Oe||(Oe=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qe)))}function $e(t){function e(e){return Xe(e,t)}if(0<je.length){Xe(je[0],t);for(var n=1;n<je.length;n++){var i=je[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Le&&Xe(Le,t),null!==Fe&&Xe(Fe,t),null!==Ve&&Xe(Ve,t),Ue.forEach(e),ze.forEach(e),n=0;n<Be.length;n++)(i=Be[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Be.length&&null===(n=Be[0]).blockedOn;)Ge(n),null===n.blockedOn&&Be.shift()}var Je=x.ReactCurrentBatchConfig,Ze=!0;function tn(t,e,n,i){var r=Ce,s=Je.transition;Je.transition=null;try{Ce=1,nn(t,e,n,i)}finally{Ce=r,Je.transition=s}}function en(t,e,n,i){var r=Ce,s=Je.transition;Je.transition=null;try{Ce=4,nn(t,e,n,i)}finally{Ce=r,Je.transition=s}}function nn(t,e,n,i){if(Ze){var r=sn(t,e,n,i);if(null===r)Zi(t,e,i,rn,n),We(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Le=qe(Le,t,e,n,i,r),!0;case"dragenter":return Fe=qe(Fe,t,e,n,i,r),!0;case"mouseover":return Ve=qe(Ve,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ue.set(s,qe(Ue.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ze.set(s,qe(ze.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(We(t,i),4&e&&-1<He.indexOf(t)){for(;null!==r;){var s=Ir(r);if(null!==s&&Ne(s),null===(s=sn(t,e,n,i))&&Zi(t,e,i,rn,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Zi(t,e,i,null,n)}}var rn=null;function sn(t,e,n,i){if(rn=null,null!==(t=Cr(t=xt(i))))if(null===(e=Gt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Kt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rn=t,null}function on(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(se()){case oe:return 1;case ae:return 4;case le:case ce:return 16;case ue:return 536870912;default:return 16}default:return 16}}var an=null,ln=null,cn=null;function un(){if(cn)return cn;var t,e,n=ln,i=n.length,r="value"in an?an.value:an.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return cn=r.slice(t,1<e?1-e:void 0)}function hn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function dn(){return!0}function fn(){return!1}function pn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return L(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),e}var mn,gn,vn,yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=pn(yn),xn=L({},yn,{view:0,detail:0}),wn=pn(xn),_n=L({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vn&&(vn&&"mousemove"===t.type?(mn=t.screenX-vn.screenX,gn=t.screenY-vn.screenY):gn=mn=0,vn=t),mn)},movementY:function(t){return"movementY"in t?t.movementY:gn}}),Sn=pn(_n),kn=pn(L({},_n,{dataTransfer:0})),En=pn(L({},xn,{relatedTarget:0})),Tn=pn(L({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=L({},yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),In=pn(Cn),Nn=pn(L({},yn,{data:0})),Pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Dn[t])&&!!e[t]}function Rn(){return Mn}var On=L({},xn,{key:function(t){if(t.key){var e=Pn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=hn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?An[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(t){return"keypress"===t.type?hn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?hn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),jn=pn(On),Ln=pn(L({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=pn(L({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),Vn=pn(L({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Un=L({},_n,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=pn(Un),Bn=[9,13,27,32],Hn=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var qn=u&&"TextEvent"in window&&!Wn,Gn=u&&(!Hn||Wn&&8<Wn&&11>=Wn),Kn=String.fromCharCode(32),Yn=!1;function Qn(t,e){switch(t){case"keyup":return-1!==Bn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var $n=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Jn[t.type]:"textarea"===e}function ti(t,e,n,i){Et(i),0<(e=er(e,"onChange")).length&&(n=new bn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ei=null,ni=null;function ii(t){Ki(t,0)}function ri(t){if(K(Nr(t)))return t}function si(t,e){if("change"===t)return e}var oi=!1;if(u){var ai;if(u){var li="oninput"in document;if(!li){var ci=document.createElement("div");ci.setAttribute("oninput","return;"),li="function"===typeof ci.oninput}ai=li}else ai=!1;oi=ai&&(!document.documentMode||9<document.documentMode)}function ui(){ei&&(ei.detachEvent("onpropertychange",hi),ni=ei=null)}function hi(t){if("value"===t.propertyName&&ri(ni)){var e=[];ti(e,ni,t,xt(t)),Pt(ii,e)}}function di(t,e,n){"focusin"===t?(ui(),ni=n,(ei=e).attachEvent("onpropertychange",hi)):"focusout"===t&&ui()}function fi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return ri(ni)}function pi(t,e){if("click"===t)return ri(e)}function mi(t,e){if("input"===t||"change"===t)return ri(e)}var gi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function vi(t,e){if(gi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!gi(t[r],e[r]))return!1}return!0}function yi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bi(t,e){var n,i=yi(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=yi(i)}}function xi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?xi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function wi(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(Yt){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function _i(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Si(t){var e=wi(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xi(n.ownerDocument.documentElement,n)){if(null!==i&&_i(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=bi(n,s);var o=bi(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ki=u&&"documentMode"in document&&11>=document.documentMode,Ei=null,Ti=null,Ci=null,Ii=!1;function Ni(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ii||null==Ei||Ei!==Y(i)||("selectionStart"in(i=Ei)&&_i(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Ci&&vi(Ci,i)||(Ci=i,0<(i=er(Ti,"onSelect")).length&&(e=new bn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ei)))}function Pi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},Di={},Mi={};function Ri(t){if(Di[t])return Di[t];if(!Ai[t])return t;var e,n=Ai[t];for(e in n)if(n.hasOwnProperty(e)&&e in Mi)return Di[t]=n[e];return t}u&&(Mi=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);var Oi=Ri("animationend"),ji=Ri("animationiteration"),Li=Ri("animationstart"),Fi=Ri("transitionend"),Vi=new Map,Ui="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){Vi.set(t,e),l(e,[t])}for(var Bi=0;Bi<Ui.length;Bi++){var Hi=Ui[Bi];zi(Hi.toLowerCase(),"on"+(Hi[0].toUpperCase()+Hi.slice(1)))}zi(Oi,"onAnimationEnd"),zi(ji,"onAnimationIteration"),zi(Li,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(Fi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function Gi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,c){if(qt.apply(this,arguments),Ot){if(!Ot)throw Error(s(198));var u=jt;Ot=!1,jt=null,Lt||(Lt=!0,Bt=u)}}(i,e,void 0,t),t.currentTarget=null}function Ki(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Gi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Gi(r,a,c),s=l}}}if(Lt)throw t=Bt,Lt=!1,Bt=null,t}function Yi(t,e){var n=e[kr];void 0===n&&(n=e[kr]=new Set);var i=t+"__bubble";n.has(i)||(Ji(e,t,2,!1),n.add(i))}function Qi(t,e,n){var i=0;e&&(i|=4),Ji(n,t,i,e)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function $i(t){if(!t[Xi]){t[Xi]=!0,o.forEach(function(e){"selectionchange"!==e&&(qi.has(e)||Qi(e,!1,t),Qi(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Xi]||(e[Xi]=!0,Qi("selectionchange",!1,e))}}function Ji(t,e,n,i){switch(on(e)){case 1:var r=tn;break;case 4:r=en;break;default:r=nn}n=r.bind(null,e,n,t),r=void 0,!Dt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Zi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=Cr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}Pt(function(){var i=s,r=xt(n),o=[];t:{var a=Vi.get(t);if(void 0!==a){var l=bn,c=t;switch(t){case"keypress":if(0===hn(n))break t;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=En;break;case"focusout":c="blur",l=En;break;case"beforeblur":case"afterblur":l=En;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fn;break;case Oi:case ji:case Li:l=Tn;break;case Fi:l=Vn;break;case"scroll":l=wn;break;case"wheel":l=zn;break;case"copy":case"cut":case"paste":l=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=At(p,d))&&u.push(tr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(c=n.relatedTarget||n.fromElement)||!Cr(c)&&!c[Sr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?Cr(c):null)&&(c!==(h=Gt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=Sn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Ln,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Nr(l),f=null==c?a:Nr(c),(a=new u(m,p+"leave",l,n,r)).target=h,a.relatedTarget=f,m=null,Cr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,p=0,f=u=l;f;f=nr(f))p++;for(f=0,m=d;m;m=nr(m))f++;for(;0<p-f;)u=nr(u),p--;for(;0<f-p;)d=nr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=nr(u),d=nr(d)}u=null}else u=null;null!==l&&ir(o,a,l,u,!1),null!==c&&null!==h&&ir(o,h,c,u,!0)}if("select"===(l=(a=i?Nr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=si;else if(Zn(a))if(oi)g=mi;else{g=fi;var v=di}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=pi);switch(g&&(g=g(t,i))?ti(o,g,n,r):(v&&v(t,a,i),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=i?Nr(i):window,t){case"focusin":(Zn(v)||"true"===v.contentEditable)&&(Ei=v,Ti=i,Ci=null);break;case"focusout":Ci=Ti=Ei=null;break;case"mousedown":Ii=!0;break;case"contextmenu":case"mouseup":case"dragend":Ii=!1,Ni(o,n,r);break;case"selectionchange":if(ki)break;case"keydown":case"keyup":Ni(o,n,r)}var y;if(Hn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else $n?Qn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Gn&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(y=un()):(ln="value"in(an=r)?an.value:an.textContent,$n=!0)),0<(v=er(i,b)).length&&(b=new Nn(b,t,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Xn(n))&&(b.data=y))),(y=qn?function(t,e){switch(t){case"compositionend":return Xn(e);case"keypress":return 32!==e.which?null:(Yn=!0,Kn);case"textInput":return(t=e.data)===Kn&&Yn?null:t;default:return null}}(t,n):function(t,e){if($n)return"compositionend"===t||!Hn&&Qn(t,e)?(t=un(),cn=ln=an=null,$n=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=er(i,"onBeforeInput")).length&&(r=new Nn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Ki(o,e)})}function tr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function er(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=At(t,n))&&i.unshift(tr(t,s,r)),null!=(s=At(t,e))&&i.push(tr(t,s,r))),t=t.return}return i}function nr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function ir(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=At(n,s))&&o.unshift(tr(n,l,a)):r||null!=(l=At(n,s))&&o.push(tr(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var rr=/\r\n?/g,sr=/\u0000|\uFFFD/g;function or(t){return("string"===typeof t?t:""+t).replace(rr,"\n").replace(sr,"")}function ar(t,e,n){if(e=or(e),or(t)!==e&&n)throw Error(s(425))}function lr(){}var cr=null,ur=null;function hr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var dr="function"===typeof setTimeout?setTimeout:void 0,fr="function"===typeof clearTimeout?clearTimeout:void 0,pr="function"===typeof Promise?Promise:void 0,mr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pr?function(t){return pr.resolve(null).then(t).catch(gr)}:dr;function gr(t){setTimeout(function(){throw t})}function vr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void $e(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);$e(e)}function yr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function br(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),wr="__reactFiber$"+xr,_r="__reactProps$"+xr,Sr="__reactContainer$"+xr,kr="__reactEvents$"+xr,Er="__reactListeners$"+xr,Tr="__reactHandles$"+xr;function Cr(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[wr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=br(t);null!==t;){if(n=t[wr])return n;t=br(t)}return e}n=(t=n).parentNode}return null}function Ir(t){return!(t=t[wr]||t[Sr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Nr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Pr(t){return t[_r]||null}var Ar=[],Dr=-1;function Mr(t){return{current:t}}function Rr(t){0>Dr||(t.current=Ar[Dr],Ar[Dr]=null,Dr--)}function Or(t,e){Dr++,Ar[Dr]=t.current,t.current=e}var jr={},Lr=Mr(jr),Fr=Mr(!1),Vr=jr;function Ur(t,e){var n=t.type.contextTypes;if(!n)return jr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Br(){Rr(Fr),Rr(Lr)}function Hr(t,e,n){if(Lr.current!==jr)throw Error(s(168));Or(Lr,e),Or(Fr,n)}function Wr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,H(t)||"Unknown",r));return L({},n,i)}function qr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jr,Vr=Lr.current,Or(Lr,t),Or(Fr,Fr.current),!0}function Gr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Wr(t,e,Vr),i.__reactInternalMemoizedMergedChildContext=t,Rr(Fr),Rr(Lr),Or(Lr,t)):Rr(Fr),Or(Fr,n)}var Kr=null,Yr=!1,Qr=!1;function Xr(t){null===Kr?Kr=[t]:Kr.push(t)}function $r(){if(!Qr&&null!==Kr){Qr=!0;var t=0,e=Ce;try{var n=Kr;for(Ce=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Kr=null,Yr=!1}catch(Ft){throw null!==Kr&&(Kr=Kr.slice(t+1)),te(oe,$r),Ft}finally{Ce=e,Qr=!1}}return null}var Jr=[],Zr=0,ts=null,es=0,ns=[],is=0,rs=null,ss=1,os="";function as(t,e){Jr[Zr++]=es,Jr[Zr++]=ts,ts=t,es=e}function ls(t,e,n){ns[is++]=ss,ns[is++]=os,ns[is++]=rs,rs=t;var i=ss;t=os;var r=32-fe(i)-1;i&=~(1<<r),n+=1;var s=32-fe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ss=1<<32-fe(e)+r|n<<r|i,os=s+t}else ss=1<<s|n<<r|i,os=t}function cs(t){null!==t.return&&(as(t,1),ls(t,1,0))}function us(t){for(;t===ts;)ts=Jr[--Zr],Jr[Zr]=null,es=Jr[--Zr],Jr[Zr]=null;for(;t===rs;)rs=ns[--is],ns[is]=null,os=ns[--is],ns[is]=null,ss=ns[--is],ns[is]=null}var hs=null,ds=null,fs=!1,ps=null;function ms(t,e){var n=Uc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function gs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,hs=t,ds=yr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,hs=t,ds=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==rs?{id:ss,overflow:os}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Uc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,hs=t,ds=null,!0);default:return!1}}function vs(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function ys(t){if(fs){var e=ds;if(e){var n=e;if(!gs(t,e)){if(vs(t))throw Error(s(418));e=yr(n.nextSibling);var i=hs;e&&gs(t,e)?ms(i,n):(t.flags=-4097&t.flags|2,fs=!1,hs=t)}}else{if(vs(t))throw Error(s(418));t.flags=-4097&t.flags|2,fs=!1,hs=t}}}function bs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;hs=t}function xs(t){if(t!==hs)return!1;if(!fs)return bs(t),fs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!hr(t.type,t.memoizedProps)),e&&(e=ds)){if(vs(t))throw ws(),Error(s(418));for(;e;)ms(t,e),e=yr(e.nextSibling)}if(bs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ds=yr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ds=null}}else ds=hs?yr(t.stateNode.nextSibling):null;return!0}function ws(){for(var t=ds;t;)t=yr(t.nextSibling)}function _s(){ds=hs=null,fs=!1}function Ss(t){null===ps?ps=[t]:ps.push(t)}var ks=x.ReactCurrentBatchConfig;function Es(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Ts(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cs(t){return(0,t._init)(t._payload)}function Is(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Bc(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Gc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Cs(s)===e.type)?((i=r(e,n.props)).ref=Es(t,e,n),i.return=t,i):((i=Hc(n.type,n.key,n.props,null,t.mode,i)).ref=Es(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Kc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Wc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Gc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Hc(e.type,e.key,e.props,null,t.mode,n)).ref=Es(t,null,e),n.return=t,n;case _:return(e=Kc(e,t.mode,n)).return=t,e;case D:return d(t,(0,e._init)(e._payload),n)}if(et(e)||O(e))return(e=Wc(e,t.mode,n,null)).return=t,e;Ts(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(t,e,n,i):null;case _:return n.key===r?u(t,e,n,i):null;case D:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||O(n))return null!==r?null:h(t,e,n,i,null);Ts(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case _:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case D:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||O(i))return h(e,t=t.get(n)||null,i,r,null);Ts(e,i)}return null}function m(r,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(r,h,a[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(r,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(r,h),fs&&as(r,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return fs&&as(r,m),c}for(h=i(r,h);m<a.length;m++)null!==(g=p(h,r,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach(function(t){return e(r,t)}),fs&&as(r,m),c}function g(r,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(r,m,y.value,c);if(null===b){null===m&&(m=v);break}t&&m&&null===b.alternate&&e(r,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(r,m),fs&&as(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return fs&&as(r,g),u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=p(m,r,g,y.value,c))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return t&&m.forEach(function(t){return e(r,t)}),fs&&as(r,g),u}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Cs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=Es(i,u,o),s.return=i,i=s;break t}n(i,u);break}e(i,u),u=u.sibling}o.type===S?((s=Wc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Hc(o.type,o.key,o.props,null,i.mode,l)).ref=Es(i,s,o),l.return=i,i=l)}return a(i);case _:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=Kc(o,i.mode,l)).return=i,i=s}return a(i);case D:return t(i,s,(u=o._init)(o._payload),l)}if(et(o))return m(i,s,o,l);if(O(o))return g(i,s,o,l);Ts(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Gc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var Ns=Is(!0),Ps=Is(!1),As=Mr(null),Ds=null,Ms=null,Rs=null;function Os(){Rs=Ms=Ds=null}function js(t){var e=As.current;Rr(As),t._currentValue=e}function Ls(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Ds=t,Rs=Ms=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Ia=!0),t.firstContext=null)}function Vs(t){var e=t._currentValue;if(Rs!==t)if(t={context:t,memoizedValue:e,next:null},null===Ms){if(null===Ds)throw Error(s(308));Ms=t,Ds.dependencies={lanes:0,firstContext:t}}else Ms=Ms.next=t;return e}var Us=null;function zs(t){null===Us?Us=[t]:Us.push(t)}function Bs(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,zs(e)):(n.next=r.next,r.next=n),e.interleaved=n,Hs(t,i)}function Hs(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ws=!1;function qs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ll)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Hs(t,n)}return null===(r=i.interleaved)?(e.next=e,zs(i)):(e.next=r.next,r.next=e),i.interleaved=e,Hs(t,n)}function Qs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Te(t,n)}}function Xs(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $s(t,e,n,i){var r=t.updateQueue;Ws=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break t;h=L({},h,d);break t;case 2:Ws=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);ql|=o,t.lanes=o,t.memoizedState=h}}function Js(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Zs={},to=Mr(Zs),eo=Mr(Zs),no=Mr(Zs);function io(t){if(t===Zs)throw Error(s(174));return t}function ro(t,e){switch(Or(no,e),Or(eo,t),Or(to,Zs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Rr(to),Or(to,e)}function so(){Rr(to),Rr(eo),Rr(no)}function oo(t){io(no.current);var e=io(to.current),n=lt(e,t.type);e!==n&&(Or(eo,t),Or(to,n))}function ao(t){eo.current===t&&(Rr(to),Rr(eo))}var lo=Mr(0);function co(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uo=[];function ho(){for(var t=0;t<uo.length;t++)uo[t]._workInProgressVersionPrimary=null;uo.length=0}var fo=x.ReactCurrentDispatcher,po=x.ReactCurrentBatchConfig,mo=0,go=null,vo=null,yo=null,bo=!1,xo=!1,wo=0,_o=0;function So(){throw Error(s(321))}function ko(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gi(t[n],e[n]))return!1;return!0}function Eo(t,e,n,i,r,o){if(mo=o,go=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fo.current=null===t||null===t.memoizedState?la:ca,t=n(i,r),xo){o=0;do{if(xo=!1,wo=0,25<=o)throw Error(s(301));o+=1,yo=vo=null,e.updateQueue=null,fo.current=ua,t=n(i,r)}while(xo)}if(fo.current=aa,e=null!==vo&&null!==vo.next,mo=0,yo=vo=go=null,bo=!1,e)throw Error(s(300));return t}function To(){var t=0!==wo;return wo=0,t}function Co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?go.memoizedState=yo=t:yo=yo.next=t,yo}function Io(){if(null===vo){var t=go.alternate;t=null!==t?t.memoizedState:null}else t=vo.next;var e=null===yo?go.memoizedState:yo.next;if(null!==e)yo=e,vo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(vo=t).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===yo?go.memoizedState=yo=t:yo=yo.next=t}return yo}function No(t,e){return"function"===typeof e?e(t):e}function Po(t){var e=Io(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=vo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((mo&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,go.lanes|=h,ql|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,gi(i,e.memoizedState)||(Ia=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,go.lanes|=o,ql|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ao(t){var e=Io(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);gi(o,e.memoizedState)||(Ia=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Do(){}function Mo(t,e){var n=go,i=Io(),r=e(),o=!gi(i.memoizedState,r);if(o&&(i.memoizedState=r,Ia=!0),i=i.queue,qo(jo.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,i,r,e),void 0,null),null===Fl)throw Error(s(349));0!==(30&mo)||Ro(n,e,r)}return r}function Ro(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Oo(t,e,n,i){e.value=n,e.getSnapshot=i,Lo(e)&&Fo(t)}function jo(t,e,n){return n(function(){Lo(e)&&Fo(t)})}function Lo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gi(t,n)}catch(Yt){return!0}}function Fo(t){var e=Hs(t,1);null!==e&&hc(e,t,1,-1)}function Vo(t){var e=Co();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},e.queue=t,t=t.dispatch=ia.bind(null,go,t),[e.memoizedState,t]}function Uo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=go.updateQueue)?(e={lastEffect:null,stores:null},go.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function zo(){return Io().memoizedState}function Bo(t,e,n,i){var r=Co();go.flags|=t,r.memoizedState=Uo(1|e,n,void 0,void 0===i?null:i)}function Ho(t,e,n,i){var r=Io();i=void 0===i?null:i;var s=void 0;if(null!==vo){var o=vo.memoizedState;if(s=o.destroy,null!==i&&ko(i,o.deps))return void(r.memoizedState=Uo(e,n,s,i))}go.flags|=t,r.memoizedState=Uo(1|e,n,s,i)}function Wo(t,e){return Bo(8390656,8,t,e)}function qo(t,e){return Ho(2048,8,t,e)}function Go(t,e){return Ho(4,2,t,e)}function Ko(t,e){return Ho(4,4,t,e)}function Yo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Qo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ho(4,4,Yo.bind(null,e,t),n)}function Xo(){}function $o(t,e){var n=Io();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ko(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Jo(t,e){var n=Io();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&ko(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Zo(t,e,n){return 0===(21&mo)?(t.baseState&&(t.baseState=!1,Ia=!0),t.memoizedState=n):(gi(n,e)||(n=Se(),go.lanes|=n,ql|=n,t.baseState=!0),e)}function ta(t,e){var n=Ce;Ce=0!==n&&4>n?n:4,t(!0);var i=po.transition;po.transition={};try{t(!1),e()}finally{Ce=n,po.transition=i}}function ea(){return Io().memoizedState}function na(t,e,n){var i=uc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ra(t))sa(e,n);else if(null!==(n=Bs(t,e,n,i))){hc(n,t,i,cc()),oa(n,e,i)}}function ia(t,e,n){var i=uc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(t))sa(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,gi(a,o)){var l=e.interleaved;return null===l?(r.next=r,zs(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(Ut){}null!==(n=Bs(t,e,r,i))&&(hc(n,t,i,r=cc()),oa(n,e,i))}}function ra(t){var e=t.alternate;return t===go||null!==e&&e===go}function sa(t,e){xo=bo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Te(t,n)}}var aa={readContext:Vs,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},la={readContext:Vs,useCallback:function(t,e){return Co().memoizedState=[t,void 0===e?null:e],t},useContext:Vs,useEffect:Wo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Bo(4194308,4,Yo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bo(4,2,t,e)},useMemo:function(t,e){var n=Co();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Co();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=na.bind(null,go,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Co().memoizedState=t},useState:Vo,useDebugValue:Xo,useDeferredValue:function(t){return Co().memoizedState=t},useTransition:function(){var t=Vo(!1),e=t[0];return t=ta.bind(null,t[1]),Co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=go,r=Co();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Fl)throw Error(s(349));0!==(30&mo)||Ro(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Wo(jo.bind(null,i,o,t),[t]),i.flags|=2048,Uo(9,Oo.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Co(),e=Fl.identifierPrefix;if(fs){var n=os;e=":"+e+"R"+(n=(ss&~(1<<32-fe(ss)-1)).toString(32)+n),0<(n=wo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=_o++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ca={readContext:Vs,useCallback:$o,useContext:Vs,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:Po,useRef:zo,useState:function(){return Po(No)},useDebugValue:Xo,useDeferredValue:function(t){return Zo(Io(),vo.memoizedState,t)},useTransition:function(){return[Po(No)[0],Io().memoizedState]},useMutableSource:Do,useSyncExternalStore:Mo,useId:ea,unstable_isNewReconciler:!1},ua={readContext:Vs,useCallback:$o,useContext:Vs,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ao,useRef:zo,useState:function(){return Ao(No)},useDebugValue:Xo,useDeferredValue:function(t){var e=Io();return null===vo?e.memoizedState=t:Zo(e,vo.memoizedState,t)},useTransition:function(){return[Ao(No)[0],Io().memoizedState]},useMutableSource:Do,useSyncExternalStore:Mo,useId:ea,unstable_isNewReconciler:!1};function ha(t,e){if(t&&t.defaultProps){for(var n in e=L({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function da(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:L({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var fa={isMounted:function(t){return!!(t=t._reactInternals)&&Gt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=cc(),r=uc(t),s=Ks(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ys(t,s,r))&&(hc(e,t,r,i),Qs(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=cc(),r=uc(t),s=Ks(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Ys(t,s,r))&&(hc(e,t,r,i),Qs(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cc(),i=uc(t),r=Ks(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Ys(t,r,i))&&(hc(e,t,i,n),Qs(e,t,i))}};function pa(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!vi(n,i)||!vi(r,s))}function ma(t,e,n){var i=!1,r=jr,s=e.contextType;return"object"===typeof s&&null!==s?s=Vs(s):(r=zr(e)?Vr:Lr.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Ur(t,r):jr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=fa,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ga(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&fa.enqueueReplaceState(e,e.state,null)}function va(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},qs(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Vs(s):(s=zr(e)?Vr:Lr.current,r.context=Ur(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(da(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&fa.enqueueReplaceState(r,r.state,null),$s(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function ya(t,e){try{var n="",i=e;do{n+=z(i),i=i.return}while(i);var r=n}catch(Qt){r="\nError generating stack: "+Qt.message+"\n"+Qt.stack}return{value:t,source:e,stack:r,digest:null}}function ba(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function xa(t,e){try{console.error(e.value)}catch(Wt){setTimeout(function(){throw Wt})}}var wa="function"===typeof WeakMap?WeakMap:Map;function _a(t,e,n){(n=Ks(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Zl||(Zl=!0,tc=i),xa(0,e)},n}function Sa(t,e,n){(n=Ks(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){xa(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){xa(0,e),"function"!==typeof i&&(null===ec?ec=new Set([this]):ec.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ka(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new wa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Rc.bind(null,t,e,n),e.then(t,t))}function Ea(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function Ta(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Ks(-1,1)).tag=2,Ys(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var Ca=x.ReactCurrentOwner,Ia=!1;function Na(t,e,n,i){e.child=null===t?Ps(e,null,n,i):Ns(e,t.child,n,i)}function Pa(t,e,n,i,r){n=n.render;var s=e.ref;return Fs(e,r),i=Eo(t,e,n,i,s,r),n=To(),null===t||Ia?(fs&&n&&cs(e),e.flags|=1,Na(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Za(t,e,r))}function Aa(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||zc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Hc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Da(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:vi)(o,i)&&t.ref===e.ref)return Za(t,e,r)}return e.flags|=1,(t=Bc(s,i)).ref=e.ref,t.return=e,e.child=t}function Da(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(vi(s,i)&&t.ref===e.ref){if(Ia=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Za(t,e,r);0!==(131072&t.flags)&&(Ia=!0)}}return Oa(t,e,n,i,r)}function Ma(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(Bl,zl),zl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Or(Bl,zl),zl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Or(Bl,zl),zl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Or(Bl,zl),zl|=i;return Na(t,e,r,n),e.child}function Ra(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Oa(t,e,n,i,r){var s=zr(n)?Vr:Lr.current;return s=Ur(e,s),Fs(e,r),n=Eo(t,e,n,i,s,r),i=To(),null===t||Ia?(fs&&i&&cs(e),e.flags|=1,Na(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Za(t,e,r))}function ja(t,e,n,i,r){if(zr(n)){var s=!0;qr(e)}else s=!1;if(Fs(e,r),null===e.stateNode)Ja(t,e),ma(e,n,i),va(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Vs(c):c=Ur(e,c=zr(n)?Vr:Lr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&ga(e,o,i,c),Ws=!1;var d=e.memoizedState;o.state=d,$s(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Fr.current||Ws?("function"===typeof u&&(da(e,n,u,i),l=e.memoizedState),(a=Ws||pa(e,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Gs(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ha(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Vs(l):l=Ur(e,l=zr(n)?Vr:Lr.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ga(e,o,i,l),Ws=!1,d=e.memoizedState,o.state=d,$s(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Fr.current||Ws?("function"===typeof f&&(da(e,n,f,i),p=e.memoizedState),(c=Ws||pa(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return La(t,e,n,i,s,r)}function La(t,e,n,i,r,s){Ra(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Gr(e,n,!1),Za(t,e,s);i=e.stateNode,Ca.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=Ns(e,t.child,null,s),e.child=Ns(e,null,a,s)):Na(t,e,a,s),e.memoizedState=i.state,r&&Gr(e,n,!0),e.child}function Fa(t){var e=t.stateNode;e.pendingContext?Hr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Hr(0,e.context,!1),ro(t,e.containerInfo)}function Va(t,e,n,i,r){return _s(),Ss(r),e.flags|=256,Na(t,e,n,i),e.child}var Ua,za,Ba,Ha,Wa={dehydrated:null,treeContext:null,retryLane:0};function qa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ga(t,e,n){var i,r=e.pendingProps,o=lo.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Or(lo,1&o),null===t)return ys(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=qc(l,r,0,null),t=Wc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=qa(n),e.memoizedState=Wa,t):Ka(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,Ya(t,e,a,i=ba(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=qc({mode:"visible",children:i.children},r,0,null),(o=Wc(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&Ns(e,t.child,null,a),e.child.memoizedState=qa(a),e.memoizedState=Wa,o);if(0===(1&e.mode))return Ya(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ya(t,e,a,i=ba(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),Ia||l){if(null!==(i=Fl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Hs(t,r),hc(i,t,r,-1))}return kc(),Ya(t,e,a,i=ba(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=jc.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,ds=yr(r.nextSibling),hs=e,fs=!0,ps=null,null!==t&&(ns[is++]=ss,ns[is++]=os,ns[is++]=rs,ss=t.id,os=t.overflow,rs=e),e=Ka(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Bc(i,a):(a=Wc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?qa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Wa,r}return t=(a=t.child).sibling,r=Bc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ka(t,e){return(e=qc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ya(t,e,n,i){return null!==i&&Ss(i),Ns(e,t.child,null,n),(t=Ka(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Qa(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Ls(t.return,e,n)}function Xa(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function $a(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Na(t,e,i.children,n),0!==(2&(i=lo.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qa(t,n,e);else if(19===t.tag)Qa(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Or(lo,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===co(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Xa(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===co(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Xa(e,!0,n,null,s);break;case"together":Xa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ja(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Za(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),ql|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Bc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function tl(t,e){if(!fs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function el(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function nl(t,e,n){var i=e.pendingProps;switch(us(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return el(e),null;case 1:case 17:return zr(e.type)&&Br(),el(e),null;case 3:return i=e.stateNode,so(),Rr(Fr),Rr(Lr),ho(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(xs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ps&&(mc(ps),ps=null))),za(t,e),el(e),null;case 5:ao(e);var r=io(no.current);if(n=e.type,null!==t&&null!=e.stateNode)Ba(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return el(e),null}if(t=io(to.current),xs(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[wr]=e,i[_r]=o,t=0!==(1&e.mode),n){case"dialog":Yi("cancel",i),Yi("close",i);break;case"iframe":case"object":case"embed":Yi("load",i);break;case"video":case"audio":for(r=0;r<Wi.length;r++)Yi(Wi[r],i);break;case"source":Yi("error",i);break;case"img":case"image":case"link":Yi("error",i),Yi("load",i);break;case"details":Yi("toggle",i);break;case"input":X(i,o),Yi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Yi("invalid",i);break;case"textarea":rt(i,o),Yi("invalid",i)}for(var l in vt(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&ar(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&ar(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Yi("scroll",i)}switch(n){case"input":G(i),Z(i,o,!0);break;case"textarea":G(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=lr)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[wr]=e,t[_r]=i,Ua(t,e,!1,!1),e.stateNode=t;t:{switch(l=yt(n,i),n){case"dialog":Yi("cancel",t),Yi("close",t),r=i;break;case"iframe":case"object":case"embed":Yi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Wi.length;r++)Yi(Wi[r],t);r=i;break;case"source":Yi("error",t),r=i;break;case"img":case"image":case"link":Yi("error",t),Yi("load",t),r=i;break;case"details":Yi("toggle",t),r=i;break;case"input":X(t,i),r=Q(t,i),Yi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=L({},i,{value:void 0}),Yi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Yi("invalid",t)}for(o in vt(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ut(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Yi("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":G(t),Z(t,i,!1);break;case"textarea":G(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+W(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=lr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return el(e),null;case 6:if(t&&null!=e.stateNode)Ha(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=io(no.current),io(to.current),xs(e)){if(i=e.stateNode,n=e.memoizedProps,i[wr]=e,(o=i.nodeValue!==n)&&null!==(t=hs))switch(t.tag){case 3:ar(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&ar(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[wr]=e,e.stateNode=i}return el(e),null;case 13:if(Rr(lo),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(fs&&null!==ds&&0!==(1&e.mode)&&0===(128&e.flags))ws(),_s(),e.flags|=98560,o=!1;else if(o=xs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[wr]=e}else _s(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;el(e),o=!1}else null!==ps&&(mc(ps),ps=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&lo.current)?0===Hl&&(Hl=3):kc())),null!==e.updateQueue&&(e.flags|=4),el(e),null);case 4:return so(),za(t,e),null===t&&$i(e.stateNode.containerInfo),el(e),null;case 10:return js(e.type._context),el(e),null;case 19:if(Rr(lo),null===(o=e.memoizedState))return el(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)tl(o,!1);else{if(0!==Hl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=co(t))){for(e.flags|=128,tl(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Or(lo,1&lo.current|2),e.child}t=t.sibling}null!==o.tail&&re()>$l&&(e.flags|=128,i=!0,tl(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=co(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!fs)return el(e),null}else 2*re()-o.renderingStartTime>$l&&1073741824!==n&&(e.flags|=128,i=!0,tl(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=re(),e.sibling=null,n=lo.current,Or(lo,i?1&n|2:1&n),e):(el(e),null);case 22:case 23:return xc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&zl)&&(el(e),6&e.subtreeFlags&&(e.flags|=8192)):el(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function il(t,e){switch(us(e),e.tag){case 1:return zr(e.type)&&Br(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return so(),Rr(Fr),Rr(Lr),ho(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return ao(e),null;case 13:if(Rr(lo),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));_s()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Rr(lo),null;case 4:return so(),null;case 10:return js(e.type._context),null;case 22:case 23:return xc(),null;default:return null}}Ua=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},za=function(){},Ba=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,io(to.current);var s,o=null;switch(n){case"input":r=Q(t,r),i=Q(t,i),o=[];break;case"select":r=L({},r,{value:void 0}),i=L({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=lr)}for(u in vt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Yi("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Ha=function(t,e,n,i){n!==i&&(e.flags|=4)};var rl=!1,sl=!1,ol="function"===typeof WeakSet?WeakSet:Set,al=null;function ll(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Yt){Mc(t,e,Yt)}else n.current=null}function cl(t,e,n){try{n()}catch(Yt){Mc(t,e,Yt)}}var ul=!1;function hl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&cl(e,n,s)}r=r.next}while(r!==i)}}function dl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function fl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function pl(t){var e=t.alternate;null!==e&&(t.alternate=null,pl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[wr],delete e[_r],delete e[kr],delete e[Er],delete e[Tr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ml(t){return 5===t.tag||3===t.tag||4===t.tag}function gl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ml(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function vl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=lr));else if(4!==i&&null!==(t=t.child))for(vl(t,e,n),t=t.sibling;null!==t;)vl(t,e,n),t=t.sibling}function yl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(yl(t,e,n),t=t.sibling;null!==t;)yl(t,e,n),t=t.sibling}var bl=null,xl=!1;function wl(t,e,n){for(n=n.child;null!==n;)_l(t,e,n),n=n.sibling}function _l(t,e,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(he,n)}catch($t){}switch(n.tag){case 5:sl||ll(n,e);case 6:var i=bl,r=xl;bl=null,wl(t,e,n),xl=r,null!==(bl=i)&&(xl?(t=bl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(xl?(t=bl,n=n.stateNode,8===t.nodeType?vr(t.parentNode,n):1===t.nodeType&&vr(t,n),$e(t)):vr(bl,n.stateNode));break;case 4:i=bl,r=xl,bl=n.stateNode.containerInfo,xl=!0,wl(t,e,n),bl=i,xl=r;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&cl(n,e,o),r=r.next}while(r!==i)}wl(t,e,n);break;case 1:if(!sl&&(ll(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch($t){Mc(n,e,$t)}wl(t,e,n);break;case 21:wl(t,e,n);break;case 22:1&n.mode?(sl=(i=sl)||null!==n.memoizedState,wl(t,e,n),sl=i):wl(t,e,n);break;default:wl(t,e,n)}}function Sl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ol),e.forEach(function(e){var i=Lc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))})}}function kl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,xl=!1;break t;case 3:case 4:bl=l.stateNode.containerInfo,xl=!0;break t}l=l.return}if(null===bl)throw Error(s(160));_l(o,a,r),bl=null,xl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(Ut){Mc(r,e,Ut)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)El(e,t),e=e.sibling}function El(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kl(e,t),Tl(t),4&i){try{hl(3,t,t.return),dl(3,t)}catch(Vt){Mc(t,t.return,Vt)}try{hl(5,t,t.return)}catch(Vt){Mc(t,t.return,Vt)}}break;case 1:kl(e,t),Tl(t),512&i&&null!==n&&ll(n,n.return);break;case 5:if(kl(e,t),Tl(t),512&i&&null!==n&&ll(n,n.return),32&t.flags){var r=t.stateNode;try{ht(r,"")}catch(Vt){Mc(t,t.return,Vt)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(r,o),yt(l,a);var u=yt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ut(r,d):"children"===h?ht(r,d):b(r,h,d,u)}switch(l){case"input":J(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[_r]=o}catch(Vt){Mc(t,t.return,Vt)}}break;case 6:if(kl(e,t),Tl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(Vt){Mc(t,t.return,Vt)}}break;case 3:if(kl(e,t),Tl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{$e(e.containerInfo)}catch(Vt){Mc(t,t.return,Vt)}break;case 4:default:kl(e,t),Tl(t);break;case 13:kl(e,t),Tl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Xl=re())),4&i&&Sl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(sl=(u=sl)||h,kl(e,t),sl=u):kl(e,t),Tl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(al=t,h=t.child;null!==h;){for(d=al=h;null!==al;){switch(p=(f=al).child,f.tag){case 0:case 11:case 14:case 15:hl(4,f,f.return);break;case 1:ll(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){i=f,n=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(Vt){Mc(i,n,Vt)}}break;case 5:ll(f,f.return);break;case 22:if(null!==f.memoizedState){Pl(d);continue}}null!==p?(p.return=f,al=p):Pl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pt("display",a))}catch(Vt){Mc(t,t.return,Vt)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(Vt){Mc(t,t.return,Vt)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kl(e,t),Tl(t),4&i&&Sl(t);case 21:}}function Tl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ml(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ht(r,""),i.flags&=-33),yl(t,gl(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;vl(t,gl(t),o);break;default:throw Error(s(161))}}catch(De){Mc(t,t.return,De)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Cl(t,e,n){al=t,Il(t,e,n)}function Il(t,e,n){for(var i=0!==(1&t.mode);null!==al;){var r=al,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||rl;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||sl;a=rl;var c=sl;if(rl=o,(sl=l)&&!c)for(al=r;null!==al;)l=(o=al).child,22===o.tag&&null!==o.memoizedState?Al(r):null!==l?(l.return=o,al=l):Al(r);for(;null!==s;)al=s,Il(s,e,n),s=s.sibling;al=r,rl=a,sl=c}Nl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,al=s):Nl(t)}}function Nl(t){for(;null!==al;){var e=al;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:sl||dl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!sl)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ha(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Js(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Js(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&$e(d)}}}break;default:throw Error(s(163))}sl||512&e.flags&&fl(e)}catch(f){Mc(e,e.return,f)}}if(e===t){al=null;break}if(null!==(n=e.sibling)){n.return=e.return,al=n;break}al=e.return}}function Pl(t){for(;null!==al;){var e=al;if(e===t){al=null;break}var n=e.sibling;if(null!==n){n.return=e.return,al=n;break}al=e.return}}function Al(t){for(;null!==al;){var e=al;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dl(4,e)}catch(De){Mc(e,n,De)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(De){Mc(e,r,De)}}var s=e.return;try{fl(e)}catch(De){Mc(e,s,De)}break;case 5:var o=e.return;try{fl(e)}catch(De){Mc(e,o,De)}}}catch(De){Mc(e,e.return,De)}if(e===t){al=null;break}var a=e.sibling;if(null!==a){a.return=e.return,al=a;break}al=e.return}}var Dl,Ml=Math.ceil,Rl=x.ReactCurrentDispatcher,Ol=x.ReactCurrentOwner,jl=x.ReactCurrentBatchConfig,Ll=0,Fl=null,Vl=null,Ul=0,zl=0,Bl=Mr(0),Hl=0,Wl=null,ql=0,Gl=0,Kl=0,Yl=null,Ql=null,Xl=0,$l=1/0,Jl=null,Zl=!1,tc=null,ec=null,nc=!1,ic=null,rc=0,sc=0,oc=null,ac=-1,lc=0;function cc(){return 0!==(6&Ll)?re():-1!==ac?ac:ac=re()}function uc(t){return 0===(1&t.mode)?1:0!==(2&Ll)&&0!==Ul?Ul&-Ul:null!==ks.transition?(0===lc&&(lc=Se()),lc):0!==(t=Ce)?t:t=void 0===(t=window.event)?16:on(t.type)}function hc(t,e,n,i){if(50<sc)throw sc=0,oc=null,Error(s(185));Ee(t,n,i),0!==(2&Ll)&&t===Fl||(t===Fl&&(0===(2&Ll)&&(Gl|=n),4===Hl&&gc(t,Ul)),dc(t,i),1===n&&0===Ll&&0===(1&e.mode)&&($l=re()+500,Yr&&$r()))}function dc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=we(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=xe(t,t===Fl?Ul:0);if(0===i)null!==n&&ee(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&ee(n),1===e)0===t.tag?function(t){Yr=!0,Xr(t)}(vc.bind(null,t)):Xr(vc.bind(null,t)),mr(function(){0===(6&Ll)&&$r()}),n=null;else{switch(Ie(i)){case 1:n=oe;break;case 4:n=ae;break;case 16:default:n=le;break;case 536870912:n=ue}n=Fc(n,fc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fc(t,e){if(ac=-1,lc=0,0!==(6&Ll))throw Error(s(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var i=xe(t,t===Fl?Ul:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=Ec(t,i);else{e=i;var r=Ll;Ll|=2;var o=Sc();for(Fl===t&&Ul===e||(Jl=null,$l=re()+500,wc(t,e));;)try{Cc();break}catch($t){_c(t,$t)}Os(),Rl.current=o,Ll=r,null!==Vl?e=0:(Fl=null,Ul=0,e=Hl)}if(0!==e){if(2===e&&(0!==(r=_e(t))&&(i=r,e=pc(t,r))),1===e)throw n=Wl,wc(t,0),gc(t,i),dc(t,re()),n;if(6===e)gc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!gi(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=Ec(t,i))&&(0!==(o=_e(t))&&(i=o,e=pc(t,o))),1===e))throw n=Wl,wc(t,0),gc(t,i),dc(t,re()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:Pc(t,Ql,Jl);break;case 3:if(gc(t,i),(130023424&i)===i&&10<(e=Xl+500-re())){if(0!==xe(t,0))break;if(((r=t.suspendedLanes)&i)!==i){cc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=dr(Pc.bind(null,t,Ql,Jl),e);break}Pc(t,Ql,Jl);break;case 4:if(gc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-fe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=re()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ml(i/1960))-i)){t.timeoutHandle=dr(Pc.bind(null,t,Ql,Jl),i);break}Pc(t,Ql,Jl);break;default:throw Error(s(329))}}}return dc(t,re()),t.callbackNode===n?fc.bind(null,t):null}function pc(t,e){var n=Yl;return t.current.memoizedState.isDehydrated&&(wc(t,e).flags|=256),2!==(t=Ec(t,e))&&(e=Ql,Ql=n,null!==e&&mc(e)),t}function mc(t){null===Ql?Ql=t:Ql.push.apply(Ql,t)}function gc(t,e){for(e&=~Kl,e&=~Gl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fe(e),i=1<<n;t[n]=-1,e&=~i}}function vc(t){if(0!==(6&Ll))throw Error(s(327));Ac();var e=xe(t,0);if(0===(1&e))return dc(t,re()),null;var n=Ec(t,e);if(0!==t.tag&&2===n){var i=_e(t);0!==i&&(e=i,n=pc(t,i))}if(1===n)throw n=Wl,wc(t,0),gc(t,e),dc(t,re()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pc(t,Ql,Jl),dc(t,re()),null}function yc(t,e){var n=Ll;Ll|=1;try{return t(e)}finally{0===(Ll=n)&&($l=re()+500,Yr&&$r())}}function bc(t){null!==ic&&0===ic.tag&&0===(6&Ll)&&Ac();var e=Ll;Ll|=1;var n=jl.transition,i=Ce;try{if(jl.transition=null,Ce=1,t)return t()}finally{Ce=i,jl.transition=n,0===(6&(Ll=e))&&$r()}}function xc(){zl=Bl.current,Rr(Bl)}function wc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,fr(n)),null!==Vl)for(n=Vl.return;null!==n;){var i=n;switch(us(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Br();break;case 3:so(),Rr(Fr),Rr(Lr),ho();break;case 5:ao(i);break;case 4:so();break;case 13:case 19:Rr(lo);break;case 10:js(i.type._context);break;case 22:case 23:xc()}n=n.return}if(Fl=t,Vl=t=Bc(t.current,null),Ul=zl=e,Hl=0,Wl=null,Kl=Gl=ql=0,Ql=Yl=null,null!==Us){for(e=0;e<Us.length;e++)if(null!==(i=(n=Us[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Us=null}return t}function _c(t,e){for(;;){var n=Vl;try{if(Os(),fo.current=aa,bo){for(var i=go.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}bo=!1}if(mo=0,yo=vo=go=null,xo=!1,wo=0,Ol.current=null,null===n||null===n.return){Hl=1,Wl=e,Vl=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Ul,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ea(a);if(null!==p){p.flags&=-257,Ta(p,a,l,0,e),1&p.mode&&ka(o,u,e),c=u;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0===(1&e)){ka(o,u,e),kc();break t}c=Error(s(426))}else if(fs&&1&l.mode){var v=Ea(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ta(v,a,l,0,e),Ss(ya(c,l));break t}}o=c=ya(c,l),4!==Hl&&(Hl=2),null===Yl?Yl=[o]:Yl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Xs(o,_a(0,c,e));break t;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ec||!ec.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,Xs(o,Sa(o,l,e));break t}}o=o.return}while(null!==o)}Nc(n)}catch(x){e=x,Vl===n&&null!==n&&(Vl=n=n.return);continue}break}}function Sc(){var t=Rl.current;return Rl.current=aa,null===t?aa:t}function kc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Fl||0===(268435455&ql)&&0===(268435455&Gl)||gc(Fl,Ul)}function Ec(t,e){var n=Ll;Ll|=2;var i=Sc();for(Fl===t&&Ul===e||(Jl=null,wc(t,e));;)try{Tc();break}catch(Ft){_c(t,Ft)}if(Os(),Ll=n,Rl.current=i,null!==Vl)throw Error(s(261));return Fl=null,Ul=0,Hl}function Tc(){for(;null!==Vl;)Ic(Vl)}function Cc(){for(;null!==Vl&&!ne();)Ic(Vl)}function Ic(t){var e=Dl(t.alternate,t,zl);t.memoizedProps=t.pendingProps,null===e?Nc(t):Vl=e,Ol.current=null}function Nc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=nl(n,e,zl)))return void(Vl=n)}else{if(null!==(n=il(n,e)))return n.flags&=32767,void(Vl=n);if(null===t)return Hl=6,void(Vl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Vl=e);Vl=e=t}while(null!==e);0===Hl&&(Hl=5)}function Pc(t,e,n){var i=Ce,r=jl.transition;try{jl.transition=null,Ce=1,function(t,e,n,i){do{Ac()}while(null!==ic);if(0!==(6&Ll))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-fe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Fl&&(Vl=Fl=null,Ul=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Fc(le,function(){return Ac(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=jl.transition,jl.transition=null;var a=Ce;Ce=1;var l=Ll;Ll|=4,Ol.current=null,function(t,e){if(cr=Ze,_i(t=wi())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(ge){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ur={focusedElem:t,selectionRange:n},Ze=!1,al=e;null!==al;)if(t=(e=al).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,al=t;else for(;null!==al;){e=al;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ha(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(ge){Mc(e,e.return,ge)}if(null!==(t=e.sibling)){t.return=e.return,al=t;break}al=e.return}m=ul,ul=!1}(t,n),El(n,t),Si(ur),Ze=!!cr,ur=cr=null,t.current=n,Cl(n,t,r),ie(),Ll=l,Ce=a,jl.transition=o}else t.current=n;if(nc&&(nc=!1,ic=t,rc=r),o=t.pendingLanes,0===o&&(ec=null),function(t){if(de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(he,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),dc(t,re()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Zl)throw Zl=!1,t=tc,tc=null,t;0!==(1&rc)&&0!==t.tag&&Ac(),o=t.pendingLanes,0!==(1&o)?t===oc?sc++:(sc=0,oc=t):sc=0,$r()}(t,e,n,i)}finally{jl.transition=r,Ce=i}return null}function Ac(){if(null!==ic){var t=Ie(rc),e=jl.transition,n=Ce;try{if(jl.transition=null,Ce=16>t?16:t,null===ic)var i=!1;else{if(t=ic,ic=null,rc=0,0!==(6&Ll))throw Error(s(331));var r=Ll;for(Ll|=4,al=t.current;null!==al;){var o=al,a=o.child;if(0!==(16&al.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(al=u;null!==al;){var h=al;switch(h.tag){case 0:case 11:case 15:hl(8,h,o)}var d=h.child;if(null!==d)d.return=h,al=d;else for(;null!==al;){var f=(h=al).sibling,p=h.return;if(pl(h),h===u){al=null;break}if(null!==f){f.return=p,al=f;break}al=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}al=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,al=a;else t:for(;null!==al;){if(0!==(2048&(o=al).flags))switch(o.tag){case 0:case 11:case 15:hl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,al=y;break t}al=o.return}}var b=t.current;for(al=b;null!==al;){var x=(a=al).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,al=x;else t:for(a=b;null!==al;){if(0!==(2048&(l=al).flags))try{switch(l.tag){case 0:case 11:case 15:dl(9,l)}}catch(_){Mc(l,l.return,_)}if(l===a){al=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,al=w;break t}al=l.return}}if(Ll=r,$r(),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(he,t)}catch(_){}i=!0}return i}finally{Ce=n,jl.transition=e}}return!1}function Dc(t,e,n){t=Ys(t,e=_a(0,e=ya(n,e),1),1),e=cc(),null!==t&&(Ee(t,1,e),dc(t,e))}function Mc(t,e,n){if(3===t.tag)Dc(t,t,n);else for(;null!==e;){if(3===e.tag){Dc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ec||!ec.has(i))){e=Ys(e,t=Sa(e,t=ya(n,t),1),1),t=cc(),null!==e&&(Ee(e,1,t),dc(e,t));break}}e=e.return}}function Rc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=cc(),t.pingedLanes|=t.suspendedLanes&n,Fl===t&&(Ul&n)===n&&(4===Hl||3===Hl&&(130023424&Ul)===Ul&&500>re()-Xl?wc(t,0):Kl|=n),dc(t,e)}function Oc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ye,0===(130023424&(ye<<=1))&&(ye=4194304)));var n=cc();null!==(t=Hs(t,e))&&(Ee(t,e,n),dc(t,n))}function jc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Oc(t,n)}function Lc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Oc(t,n)}function Fc(t,e){return te(t,e)}function Vc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uc(t,e,n,i){return new Vc(t,e,n,i)}function zc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bc(t,e){var n=t.alternate;return null===n?((n=Uc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hc(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)zc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Wc(n.children,r,o,e);case k:a=8,r|=8;break;case E:return(t=Uc(12,n,e,2|r)).elementType=E,t.lanes=o,t;case N:return(t=Uc(13,n,e,r)).elementType=N,t.lanes=o,t;case P:return(t=Uc(19,n,e,r)).elementType=P,t.lanes=o,t;case M:return qc(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:a=10;break t;case C:a=9;break t;case I:a=11;break t;case A:a=14;break t;case D:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Uc(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Wc(t,e,n,i){return(t=Uc(7,t,i,e)).lanes=n,t}function qc(t,e,n,i){return(t=Uc(22,t,i,e)).elementType=M,t.lanes=n,t.stateNode={isHidden:!1},t}function Gc(t,e,n){return(t=Uc(6,t,null,e)).lanes=n,t}function Kc(t,e,n){return(e=Uc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ke(0),this.expirationTimes=ke(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qc(t,e,n,i,r,s,o,a,l){return t=new Yc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Uc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qs(s),t}function Xc(t){if(!t)return jr;t:{if(Gt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(zr(n))return Wr(t,n,e)}return e}function $c(t,e,n,i,r,s,o,a,l){return(t=Qc(n,i,!0,t,0,s,0,a,l)).context=Xc(null),n=t.current,(s=Ks(i=cc(),r=uc(n))).callback=void 0!==e&&null!==e?e:null,Ys(n,s,r),t.current.lanes=r,Ee(t,r,i),dc(t,i),t}function Jc(t,e,n,i){var r=e.current,s=cc(),o=uc(r);return n=Xc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Ks(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Ys(r,e,o))&&(hc(t,r,o,s),Qs(t,r,o)),o}function Zc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function tu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function eu(t,e){tu(t,e),(t=t.alternate)&&tu(t,e)}Dl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Fr.current)Ia=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return Ia=!1,function(t,e,n){switch(e.tag){case 3:Fa(e),_s();break;case 5:oo(e);break;case 1:zr(e.type)&&qr(e);break;case 4:ro(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Or(As,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Or(lo,1&lo.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ga(t,e,n):(Or(lo,1&lo.current),null!==(t=Za(t,e,n))?t.sibling:null);Or(lo,1&lo.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return $a(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Or(lo,lo.current),i)break;return null;case 22:case 23:return e.lanes=0,Ma(t,e,n)}return Za(t,e,n)}(t,e,n);Ia=0!==(131072&t.flags)}else Ia=!1,fs&&0!==(1048576&e.flags)&&ls(e,es,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ja(t,e),t=e.pendingProps;var r=Ur(e,Lr.current);Fs(e,n),r=Eo(null,e,i,t,r,n);var o=To();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(i)?(o=!0,qr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,qs(e),r.updater=fa,e.stateNode=r,r._reactInternals=e,va(e,i,t,n),e=La(null,e,i,!0,o,n)):(e.tag=0,fs&&o&&cs(e),Na(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Ja(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return zc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===A)return 14}return 2}(i),t=ha(i,t),r){case 0:e=Oa(null,e,i,t,n);break t;case 1:e=ja(null,e,i,t,n);break t;case 11:e=Pa(null,e,i,t,n);break t;case 14:e=Aa(null,e,i,ha(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Oa(t,e,i,r=e.elementType===i?r:ha(i,r),n);case 1:return i=e.type,r=e.pendingProps,ja(t,e,i,r=e.elementType===i?r:ha(i,r),n);case 3:t:{if(Fa(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Gs(t,e),$s(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Va(t,e,i,n,r=ya(Error(s(423)),e));break t}if(i!==r){e=Va(t,e,i,n,r=ya(Error(s(424)),e));break t}for(ds=yr(e.stateNode.containerInfo.firstChild),hs=e,fs=!0,ps=null,n=Ps(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_s(),i===r){e=Za(t,e,n);break t}Na(t,e,i,n)}e=e.child}return e;case 5:return oo(e),null===t&&ys(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,hr(i,r)?a=null:null!==o&&hr(i,o)&&(e.flags|=32),Ra(t,e),Na(t,e,a,n),e.child;case 6:return null===t&&ys(e),null;case 13:return Ga(t,e,n);case 4:return ro(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Ns(e,null,i,n):Na(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Pa(t,e,i,r=e.elementType===i?r:ha(i,r),n);case 7:return Na(t,e,e.pendingProps,n),e.child;case 8:case 12:return Na(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Or(As,i._currentValue),i._currentValue=a,null!==o)if(gi(o.value,a)){if(o.children===r.children&&!Fr.current){e=Za(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Ks(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ls(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ls(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Na(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fs(e,n),i=i(r=Vs(r)),e.flags|=1,Na(t,e,i,n),e.child;case 14:return r=ha(i=e.type,e.pendingProps),Aa(t,e,i,r=ha(i.type,r),n);case 15:return Da(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ha(i,r),Ja(t,e),e.tag=1,zr(i)?(t=!0,qr(e)):t=!1,Fs(e,n),ma(e,i,r),va(e,i,r,n),La(null,e,i,!0,t,n);case 19:return $a(t,e,n);case 22:return Ma(t,e,n)}throw Error(s(156,e.tag))};var nu="function"===typeof reportError?reportError:function(t){console.error(t)};function iu(t){this._internalRoot=t}function ru(t){this._internalRoot=t}function su(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function ou(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function au(){}function lu(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=Zc(o);a.call(t)}}Jc(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Zc(o);s.call(t)}}var o=$c(e,i,t,0,null,!1,0,"",au);return t._reactRootContainer=o,t[Sr]=o.current,$i(8===t.nodeType?t.parentNode:t),bc(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Zc(l);a.call(t)}}var l=Qc(t,0,!1,null,0,!1,0,"",au);return t._reactRootContainer=l,t[Sr]=l.current,$i(8===t.nodeType?t.parentNode:t),bc(function(){Jc(e,l,n,i)}),l}(n,e,t,r,i);return Zc(o)}ru.prototype.render=iu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Jc(t,e,null,null)},ru.prototype.unmount=iu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;bc(function(){Jc(null,t,null,null)}),e[Sr]=null}},ru.prototype.unstable_scheduleHydration=function(t){if(t){var e=Me();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Be.length&&0!==e&&e<Be[n].priority;n++);Be.splice(n,0,t),0===n&&Ge(t)}},Ne=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=be(e.pendingLanes);0!==n&&(Te(e,1|n),dc(e,re()),0===(6&Ll)&&($l=re()+500,$r()))}break;case 13:bc(function(){var e=Hs(t,1);if(null!==e){var n=cc();hc(e,t,1,n)}}),eu(t,1)}},Pe=function(t){if(13===t.tag){var e=Hs(t,134217728);if(null!==e)hc(e,t,134217728,cc());eu(t,134217728)}},Ae=function(t){if(13===t.tag){var e=uc(t),n=Hs(t,e);if(null!==n)hc(n,t,e,cc());eu(t,e)}},Me=function(){return Ce},Re=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}},wt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Pr(i);if(!r)throw Error(s(90));K(i),J(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ct=yc,It=bc;var cu={usingClientEntryPoint:!1,Events:[Ir,Nr,Pr,Et,Tt,yc]},uu={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{he=du.inject(hu),de=du}catch(zt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!su(t))throw Error(s(299));var n=!1,i="",r=nu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Qc(t,1,!1,null,0,n,0,i,r),t[Sr]=e.current,$i(8===t.nodeType?t.parentNode:t),new iu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t){return bc(t)},e.hydrate=function(t,e,n){if(!ou(e))throw Error(s(200));return lu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!su(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=$c(e,null,t,1,null!=n?n:null,r,0,o,a),t[Sr]=e.current,$i(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ru(e)},e.render=function(t,e,n){if(!ou(e))throw Error(s(200));return lu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ou(t))throw Error(s(40));return!!t._reactRootContainer&&(bc(function(){lu(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0)},e.unstable_batchedUpdates=yc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ou(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return lu(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},853:(t,e,n)=>{t.exports=n(234)},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach(t=>o[t]=()=>i[t]);return o.default=()=>i,n.d(s,o),s}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Ft){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i,r=n(43),s=n.t(r,2),o=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(i||(i={}));const u="popstate";function h(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function d(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(Ft){}}}function f(t,e){return{usr:t.state,key:t.key,idx:e}}function p(t,e,n,i){return void 0===n&&(n=null),c({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?g(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function m(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function g(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function v(t,e,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=i.Pop,d=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){l=i.Pop;let t=v(),e=null==t?null:t-g;g=t,d&&d({action:l,location:x.location,delta:e})}function b(t){let e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:m(t);return n=n.replace(/ $/,"%20"),h(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let x={get action(){return l},get location(){return t(s,a)},listen(t){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),d=t,()=>{s.removeEventListener(u,y),d=null}},createHref:t=>e(s,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l=i.Push;let r=p(x.location,t,e);n&&n(r,t),g=v()+1;let c=f(r,g),u=x.createHref(r);try{a.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}o&&d&&d({action:l,location:x.location,delta:1})},replace:function(t,e){l=i.Replace;let r=p(x.location,t,e);n&&n(r,t),g=v();let s=f(r,g),c=x.createHref(r);a.replaceState(s,"",c),o&&d&&d({action:l,location:x.location,delta:0})},go:t=>a.go(t)};return x}var y;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(t,e,n){return void 0===n&&(n="/"),x(t,e,n,!1)}function x(t,e,n,i){let r=R(("string"===typeof e?g(e):e).pathname||"/",n);if(null==r)return null;let s=w(t);!function(t){t.sort((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every((t,n)=>t===e[n]);return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map(t=>t.childrenIndex),e.routesMeta.map(t=>t.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let t=M(r);o=A(s[a],t,i)}return o}function w(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(t,r,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=V([i,o.relativePath]),l=n.concat(o);t.children&&t.children.length>0&&(h(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:P(a,t.index),routesMeta:l})};return t.forEach((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of _(t.path))r(t,e,i);else r(t,e)}),e}function _(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=_(i.join("/")),a=[];return a.push(...o.map(t=>""===t?s:[s,t].join("/"))),r&&a.push(...o),a.map(e=>t.startsWith("/")&&""===e?"/":e)}const S=/^:[\w-]+$/,k=3,E=2,T=1,C=10,I=-2,N=t=>"*"===t;function P(t,e){let n=t.split("/"),i=n.length;return n.some(N)&&(i+=I),e&&(i+=E),n.filter(t=>!N(t)).reduce((t,e)=>t+(S.test(e)?k:""===e?T:C),i)}function A(t,e,n){void 0===n&&(n=!1);let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let t=i[a],l=a===i.length-1,c="/"===s?e:e.slice(s.length)||"/",u=D({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=D({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:V([s,u.pathname]),pathnameBase:U(V([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=V([s,u.pathnameBase]))}return o}function D(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);d("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce((t,e,n)=>{let{paramName:i,isOptional:r}=e;if("*"===i){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),t},{});return{params:l,pathname:s,pathnameBase:o,pattern:t}}function M(t){try{return t.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(e){return d(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function R(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function O(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(t){return t.filter((t,e)=>0===e||t.route.path&&t.route.path.length>0)}function L(t,e){let n=j(t);return e?n.map((t,e)=>e===n.length-1?t.pathname:t.pathnameBase):n.map(t=>t.pathnameBase)}function F(t,e,n,i){let r;void 0===i&&(i=!1),"string"===typeof t?r=g(t):(r=c({},t),h(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),h(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),h(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let s,o=""===t||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let t=e.length-1;if(!i&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}s=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof t?g(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)}),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:z(i),hash:B(r)}}(r,s),u=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const V=t=>t.join("/").replace(/\/\/+/g,"/"),U=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",B=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function H(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const W=["post","put","patch","delete"],q=(new Set(W),["get",...W]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G.apply(this,arguments)}const K=r.createContext(null);const Y=r.createContext(null);const Q=r.createContext(null);const X=r.createContext(null);const $=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function Z(){return null!=r.useContext(X)}function tt(){return Z()||h(!1),r.useContext(X).location}function et(t){r.useContext(Q).static||r.useLayoutEffect(t)}function nt(){let{isDataRoute:t}=r.useContext($);return t?function(){let{router:t}=dt(ut.UseNavigateStable),e=pt(ht.UseNavigateStable),n=r.useRef(!1);et(()=>{n.current=!0});let i=r.useCallback(function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?t.navigate(i):t.navigate(i,G({fromRouteId:e},r)))},[t,e]);return i}():function(){Z()||h(!1);let t=r.useContext(K),{basename:e,future:n,navigator:i}=r.useContext(Q),{matches:s}=r.useContext($),{pathname:o}=tt(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=r.useRef(!1);et(()=>{l.current=!0});let c=r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=F(n,JSON.parse(a),o,"path"===r.relative);null==t&&"/"!==e&&(s.pathname="/"===s.pathname?e:V([e,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)},[e,i,a,o,t]);return c}()}function it(t,e){let{relative:n}=void 0===e?{}:e,{future:i}=r.useContext(Q),{matches:s}=r.useContext($),{pathname:o}=tt(),a=JSON.stringify(L(s,i.v7_relativeSplatPath));return r.useMemo(()=>F(t,JSON.parse(a),o,"path"===n),[t,a,o,n])}function rt(t,e,n,s){Z()||h(!1);let{navigator:o}=r.useContext(Q),{matches:a}=r.useContext($),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=tt();if(e){var p;let t="string"===typeof e?g(e):e;"/"===u||(null==(p=t.pathname)?void 0:p.startsWith(u))||h(!1),d=t}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let t=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(t.length).join("/")}let y=b(t,{pathname:v});let x=ct(y&&y.map(t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:V([u,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:V([u,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])})),a,n,s);return e&&x?r.createElement(X.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},x):x}function st(){let t=function(){var t;let e=r.useContext(J),n=ft(ht.UseRouteError),i=pt(ht.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=H(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:s},n):null,null)}const ot=r.createElement(st,null);class at extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement($.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lt(t){let{routeContext:e,match:n,children:i}=t,s=r.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement($.Provider,{value:e},i)}function ct(t,e,n,i){var s;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==t){var o;if(!n)return null;if(n.errors)t=n.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===e.length&&!n.initialized&&n.matches.length>0))return null;t=n.matches}}let a=t,l=null==(s=n)?void 0:s.errors;if(null!=l){let t=a.findIndex(t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id]));t>=0||h(!1),a=a.slice(0,Math.min(a.length,t+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let t=a[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=r),t.route.id){let{loaderData:e,errors:i}=n,r=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||r){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((t,i,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||ot,c&&(u<0&&0===s?(p="route-fallback",!1||mt[p]||(mt[p]=!0),h=!0,f=null):u===s&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,s+1)),g=()=>{let e;return e=o?d:h?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:t,r.createElement(lt,{match:i,routeContext:{outlet:t,matches:m,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(at,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ut=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ut||{}),ht=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ht||{});function dt(t){let e=r.useContext(K);return e||h(!1),e}function ft(t){let e=r.useContext(Y);return e||h(!1),e}function pt(t){let e=function(){let t=r.useContext($);return t||h(!1),t}(),n=e.matches[e.matches.length-1];return n.route.id||h(!1),n.route.id}const mt={};function gt(t,e){null==t||t.v7_startTransition,void 0===(null==t?void 0:t.v7_relativeSplatPath)&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}s.startTransition;function vt(t){let{to:e,replace:n,state:i,relative:s}=t;Z()||h(!1);let{future:o,static:a}=r.useContext(Q),{matches:l}=r.useContext($),{pathname:c}=tt(),u=nt(),d=F(e,L(l,o.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(d);return r.useEffect(()=>u(JSON.parse(f),{replace:n,state:i,relative:s}),[u,f,s,n,i]),null}function yt(t){h(!1)}function bt(t){let{basename:e="/",children:n=null,location:s,navigationType:o=i.Pop,navigator:a,static:l=!1,future:c}=t;Z()&&h(!1);let u=e.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:u,navigator:a,static:l,future:G({v7_relativeSplatPath:!1},c)}),[u,c,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,b=r.useMemo(()=>{let t=R(f,u);return null==t?null:{location:{pathname:t,search:p,hash:m,state:v,key:y},navigationType:o}},[u,f,p,m,v,y,o]);return null==b?null:r.createElement(Q.Provider,{value:d},r.createElement(X.Provider,{children:n,value:b}))}function xt(t){let{children:e,location:n}=t;return rt(wt(e),n)}new Promise(()=>{});r.Component;function wt(t,e){void 0===e&&(e=[]);let n=[];return r.Children.forEach(t,(t,i)=>{if(!r.isValidElement(t))return;let s=[...e,i];if(t.type===r.Fragment)return void n.push.apply(n,wt(t.props.children,s));t.type!==yt&&h(!1),t.props.index&&t.props.children&&h(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=wt(t.props.children,s)),n.push(o)}),n}function _t(){return _t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_t.apply(this,arguments)}function St(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const kt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ft){}new Map;const Et=s.startTransition;l.flushSync,s.useId;function Tt(t){let{basename:e,children:n,future:i,window:s}=t,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),v(function(t,e){let{pathname:n,search:i,hash:r}=t.location;return p("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){return"string"===typeof e?e:m(e)},null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback(t=>{h&&Et?Et(()=>u(t)):u(t)},[u,h]);return r.useLayoutEffect(()=>l.listen(d),[l,d]),r.useEffect(()=>gt(i),[i]),r.createElement(bt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,It=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=r.forwardRef(function(t,e){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=St(t,kt),{basename:g}=r.useContext(Q),v=!1;if("string"===typeof u&&It.test(u)&&(n=u,Ct))try{let t=new URL(window.location.href),e=u.startsWith("//")?new URL(t.protocol+u):new URL(u),n=R(e.pathname,g);e.origin===t.origin&&null!=n?u=n+e.search+e.hash:v=!0}catch(Ft){}let y=function(t,e){let{relative:n}=void 0===e?{}:e;Z()||h(!1);let{basename:i,navigator:s}=r.useContext(Q),{hash:o,pathname:a,search:l}=it(t,{relative:n}),c=a;return"/"!==i&&(c="/"===a?i:V([i,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),b=function(t,e){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===e?{}:e,c=nt(),u=tt(),h=it(t,{relative:a});return r.useCallback(e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,n)){e.preventDefault();let n=void 0!==i?i:m(u)===m(h);c(t,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,h,i,s,n,t,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});return r.createElement("a",_t({},p,{href:n||y,onClick:v||o?i:function(t){i&&i(t),t.defaultPrevented||b(t)},ref:e,target:c}))});var Pt,At;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pt||(Pt={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(At||(At={}));function Dt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Rt(t){var e=function(t,e){if("object"!=Mt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=Mt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mt(e)?e:e+""}function Ot(t,e,n){return(e=Rt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach(function(e){Ot(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}let Ft={data:""},Vt=t=>"object"==typeof window?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ft,Ut=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zt=/\/\*[^]*?\*\/|  +/g,Bt=/\n+/g,Ht=(t,e)=>{let n="",i="",r="";for(let s in t){let o=t[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":i+="f"==s[1]?Ht(o,s):s+"{"+Ht(o,"k"==s[1]?"":e)+"}":"object"==typeof o?i+=Ht(o,e?e.replace(/([^,])+/g,t=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,e=>/&/.test(e)?e.replace(/&/g,t):t?t+" "+e:e)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Ht.p?Ht.p(s,o):s+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+i},Wt={},qt=t=>{if("object"==typeof t){let e="";for(let n in t)e+=n+qt(t[n]);return e}return t},Gt=(t,e,n,i,r)=>{let s=qt(t),o=Wt[s]||(Wt[s]=(t=>{let e=0,n=11;for(;e<t.length;)n=101*n+t.charCodeAt(e++)>>>0;return"go"+n})(s));if(!Wt[o]){let e=s!==t?t:(t=>{let e,n,i=[{}];for(;e=Ut.exec(t.replace(zt,""));)e[4]?i.shift():e[3]?(n=e[3].replace(Bt," ").trim(),i.unshift(i[0][n]=i[0][n]||{})):i[0][e[1]]=e[2].replace(Bt," ").trim();return i[0]})(t);Wt[o]=Ht(r?{["@keyframes "+o]:e}:e,n?"":"."+o)}let a=n&&Wt.g?Wt.g:null;return n&&(Wt.g=Wt[o]),((t,e,n,i)=>{i?e.data=e.data.replace(i,t):-1===e.data.indexOf(t)&&(e.data=n?t+e.data:e.data+t)})(Wt[o],e,i,a),o};function Kt(t){let e=this||{},n=t.call?t(e.p):t;return Gt(n.unshift?n.raw?((t,e,n)=>t.reduce((t,i,r)=>{let s=e[r];if(s&&s.call){let t=s(n),e=t&&t.props&&t.props.className||/^go/.test(t)&&t;s=e?"."+e:t&&"object"==typeof t?t.props?"":Ht(t,""):!1===t?"":t}return t+i+(null==s?"":s)},""))(n,[].slice.call(arguments,1),e.p):n.reduce((t,n)=>Object.assign(t,n&&n.call?n(e.p):n),{}):n,Vt(e.target),e.g,e.o,e.k)}Kt.bind({g:1});let Yt,Qt,Xt,$t=Kt.bind({k:1});function Jt(t,e){let n=this||{};return function(){let i=arguments;function r(s,o){let a=Object.assign({},s),l=a.className||r.className;n.p=Object.assign({theme:Qt&&Qt()},a),n.o=/ *go\d+/.test(l),a.className=Kt.apply(n,i)+(l?" "+l:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),Xt&&c[0]&&Xt(a),Yt(c,a)}return e?e(r):r}}var Zt,te,ee,ne,ie,re,se,oe,ae,le,ce,ue,he,de,fe,pe,me=(t,e)=>(t=>"function"==typeof t)(t)?t(e):t,ge=(()=>{let t=0;return()=>(++t).toString()})(),ve=(()=>{let t;return()=>{if(void 0===t&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),ye=(t,e)=>{switch(e.type){case 0:return Lt(Lt({},t),{},{toasts:[e.toast,...t.toasts].slice(0,20)});case 1:return Lt(Lt({},t),{},{toasts:t.toasts.map(t=>t.id===e.toast.id?Lt(Lt({},t),e.toast):t)});case 2:let{toast:n}=e;return ye(t,{type:t.toasts.find(t=>t.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return Lt(Lt({},t),{},{toasts:t.toasts.map(t=>t.id===i||void 0===i?Lt(Lt({},t),{},{dismissed:!0,visible:!1}):t)});case 4:return void 0===e.toastId?Lt(Lt({},t),{},{toasts:[]}):Lt(Lt({},t),{},{toasts:t.toasts.filter(t=>t.id!==e.toastId)});case 5:return Lt(Lt({},t),{},{pausedAt:e.time});case 6:let r=e.time-(t.pausedAt||0);return Lt(Lt({},t),{},{pausedAt:void 0,toasts:t.toasts.map(t=>Lt(Lt({},t),{},{pauseDuration:t.pauseDuration+r}))})}},be=[],xe={toasts:[],pausedAt:void 0},we=t=>{xe=ye(xe,t),be.forEach(t=>{t(xe)})},_e={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Se=t=>(e,n)=>{let i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Lt(Lt({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||ge()})}(e,t,n);return we({type:2,toast:i}),i.id},ke=(t,e)=>Se("blank")(t,e);ke.error=Se("error"),ke.success=Se("success"),ke.loading=Se("loading"),ke.custom=Se("custom"),ke.dismiss=t=>{we({type:3,toastId:t})},ke.remove=t=>we({type:4,toastId:t}),ke.promise=(t,e,n)=>{let i=ke.loading(e.loading,Lt(Lt({},n),null==n?void 0:n.loading));return"function"==typeof t&&(t=t()),t.then(t=>{let r=e.success?me(e.success,t):void 0;return r?ke.success(r,Lt(Lt({id:i},n),null==n?void 0:n.success)):ke.dismiss(i),t}).catch(t=>{let r=e.error?me(e.error,t):void 0;r?ke.error(r,Lt(Lt({id:i},n),null==n?void 0:n.error)):ke.dismiss(i)}),t};var Ee=(t,e)=>{we({type:1,toast:{id:t,height:e}})},Te=()=>{we({type:5,time:Date.now()})},Ce=new Map,Ie=t=>{let{toasts:e,pausedAt:n}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[e,n]=(0,r.useState)(xe),i=(0,r.useRef)(xe);(0,r.useEffect)(()=>(i.current!==xe&&n(xe),be.push(n),()=>{let t=be.indexOf(n);t>-1&&be.splice(t,1)}),[]);let s=e.toasts.map(e=>{var n,i,r;return Lt(Lt(Lt(Lt({},t),t[e.type]),e),{},{removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(i=t[e.type])?void 0:i.duration)||(null==t?void 0:t.duration)||_e[e.type],style:Lt(Lt(Lt({},t.style),null==(r=t[e.type])?void 0:r.style),e.style)})});return Lt(Lt({},e),{},{toasts:s})}(t);(0,r.useEffect)(()=>{if(n)return;let t=Date.now(),i=e.map(e=>{if(e.duration===1/0)return;let n=(e.duration||0)+e.pauseDuration-(t-e.createdAt);if(!(n<0))return setTimeout(()=>ke.dismiss(e.id),n);e.visible&&ke.dismiss(e.id)});return()=>{i.forEach(t=>t&&clearTimeout(t))}},[e,n]);let i=(0,r.useCallback)(()=>{n&&we({type:6,time:Date.now()})},[n]),s=(0,r.useCallback)((t,n)=>{let{reverseOrder:i=!1,gutter:r=8,defaultPosition:s}=n||{},o=e.filter(e=>(e.position||s)===(t.position||s)&&e.height),a=o.findIndex(e=>e.id===t.id),l=o.filter((t,e)=>e<a&&t.visible).length;return o.filter(t=>t.visible).slice(...i?[l+1]:[0,l]).reduce((t,e)=>t+(e.height||0)+r,0)},[e]);return(0,r.useEffect)(()=>{e.forEach(t=>{if(t.dismissed)!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Ce.has(t))return;let n=setTimeout(()=>{Ce.delete(t),we({type:4,toastId:t})},e);Ce.set(t,n)}(t.id,t.removeDelay);else{let e=Ce.get(t.id);e&&(clearTimeout(e),Ce.delete(t.id))}})},[e]),{toasts:e,handlers:{updateHeight:Ee,startPause:Te,endPause:i,calculateOffset:s}}},Ne=$t(Zt||(Zt=Dt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Pe=$t(te||(te=Dt(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ae=$t(ee||(ee=Dt(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),De=Jt("div")(ne||(ne=Dt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),t=>t.primary||"#ff4b4b",Ne,Pe,t=>t.secondary||"#fff",Ae),Me=$t(ie||(ie=Dt(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Re=Jt("div")(re||(re=Dt(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),t=>t.secondary||"#e0e0e0",t=>t.primary||"#616161",Me),Oe=$t(se||(se=Dt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),je=$t(oe||(oe=Dt(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Le=Jt("div")(ae||(ae=Dt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),t=>t.primary||"#61d345",Oe,je,t=>t.secondary||"#fff"),Fe=Jt("div")(le||(le=Dt(["\n  position: absolute;\n"]))),Ve=Jt("div")(ce||(ce=Dt(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Ue=$t(ue||(ue=Dt(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ze=Jt("div")(he||(he=Dt(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Ue),Be=t=>{let{toast:e}=t,{icon:n,type:i,iconTheme:s}=e;return void 0!==n?"string"==typeof n?r.createElement(ze,null,n):n:"blank"===i?null:r.createElement(Ve,null,r.createElement(Re,Lt({},s)),"loading"!==i&&r.createElement(Fe,null,"error"===i?r.createElement(De,Lt({},s)):r.createElement(Le,Lt({},s))))},He=t=>"\n0% {transform: translate3d(0,".concat(-200*t,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),We=t=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*t,"%,-1px) scale(.6); opacity:0;}\n"),qe=Jt("div")(de||(de=Dt(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Ge=Jt("div")(fe||(fe=Dt(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Ke=r.memo(t=>{let{toast:e,position:n,style:i,children:s}=t,o=e.height?((t,e)=>{let n=t.includes("top")?1:-1,[i,r]=ve()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[He(n),We(n)];return{animation:e?"".concat($t(i)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat($t(r)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(e.position||n||"top-center",e.visible):{opacity:0},a=r.createElement(Be,{toast:e}),l=r.createElement(Ge,Lt({},e.ariaProps),me(e.message,e));return r.createElement(qe,{className:e.className,style:Lt(Lt(Lt({},o),i),e.style)},"function"==typeof s?s({icon:a,message:l}):r.createElement(r.Fragment,null,a,l))});!function(t,e,n,i){Ht.p=e,Yt=t,Qt=n,Xt=i}(r.createElement);var Ye=t=>{let{id:e,className:n,style:i,onHeightUpdate:s,children:o}=t,a=r.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;s(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return r.createElement("div",{ref:a,className:n,style:i},o)},Qe=Kt(pe||(pe=Dt(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Xe=t=>{let{reverseOrder:e,position:n="top-center",toastOptions:i,gutter:s,children:o,containerStyle:a,containerClassName:l}=t,{toasts:c,handlers:u}=Ie(i);return r.createElement("div",{id:"_rht_toaster",style:Lt({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},a),className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(t=>{let i=t.position||n,a=((t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return Lt(Lt({left:0,right:0,display:"flex",position:"absolute",transition:ve()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(e*(n?1:-1),"px)")},i),r)})(i,u.calculateOffset(t,{reverseOrder:e,gutter:s,defaultPosition:n}));return r.createElement(Ye,{id:t.id,key:t.id,onHeightUpdate:u.updateHeight,className:t.visible?Qe:"",style:a},"custom"===t.type?me(t.message,t):o?o(t):r.createElement(Ke,{toast:t,position:i}))}))},$e=ke;const Je=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Je(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw new tn;const l=e<<2|s>>4;if(i.push(l),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const en=function(t){return function(t){const e=Je(t);return Ze.encodeByteArray(e,!0)}(t).replace(/\./g,"")},nn=function(t){try{return Ze.decodeString(t,!0)}catch(Ft){console.error("base64Decode failed: ",Ft)}return null};const rn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,sn=()=>{try{return rn()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/productivity-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ft){return}const e=t&&nn(t[1]);return e&&JSON.parse(e)})()}catch(Ft){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Ft))}},on=t=>{var e,n;return null===(n=null===(e=sn())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},an=()=>{var t;return null===(t=sn())||void 0===t?void 0:t.config},ln=t=>{var e;return null===(e=sn())||void 0===e?void 0:e["_".concat(t)]};class cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function un(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hn(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function dn(){return!function(){var t;const e=null===(t=sn())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Ft){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fn(){try{return"object"===typeof indexedDB}catch(Ft){return!1}}function pn(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})}class mn extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}}class gn{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(vn,(t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")})}(i,e):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new mn(n,s,e)}}const vn=/\{\$([^}]+)}/g;function yn(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(bn(n)&&bn(s)){if(!yn(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function bn(t){return null!==t&&"object"===typeof t}function xn(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wn(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}}),e}function _n(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Sn{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=kn),void 0===i.error&&(i.error=kn),void 0===i.complete&&(i.complete=kn);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(Ft){}}),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(Ft){"undefined"!==typeof console&&console.error&&console.error(Ft)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kn(){}function En(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(e,t),i=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+i)}function Tn(t){return t&&t._delegate?t._delegate:t}class Cn{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const In="[DEFAULT]";class Nn{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new cn;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(Ft){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ft){if(i)return null;throw Ft}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:In})}catch(Ft){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(Ft){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===In?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In;return this.component?this.component.multipleInstances?t:In:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Nn(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const An=[];var Dn;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Dn||(Dn={}));const Mn={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},Rn=Dn.INFO,On={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},jn=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=On[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(t.name,":"),...s)};class Ln{constructor(t){this.name=t,this._logLevel=Rn,this._logHandler=jn,this._userLogHandler=null,An.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dn))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?Mn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...e),this._logHandler(this,Dn.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...e),this._logHandler(this,Dn.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...e),this._logHandler(this,Dn.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...e),this._logHandler(this,Dn.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...e),this._logHandler(this,Dn.ERROR,...e)}}let Fn,Vn;const Un=new WeakMap,zn=new WeakMap,Bn=new WeakMap,Hn=new WeakMap,Wn=new WeakMap;let qn={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zn.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Bn.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Gn(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vn||(Vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(Qn(this),n),Yn(Un.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Yn(t.apply(Qn(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(Qn(this),e,...i);return Bn.set(s,e.sort?e.sort():[e]),Yn(s)}}function Kn(t){return"function"===typeof t?Gn(t):(t instanceof IDBTransaction&&function(t){if(zn.has(t))return;const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});zn.set(t,e)}(t),e=t,(Fn||(Fn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,qn):t);var e}function Yn(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(Yn(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&Un.set(e,t)}).catch(()=>{}),Wn.set(e,t),e}(t);if(Hn.has(t))return Hn.get(t);const e=Kn(t);return e!==t&&(Hn.set(t,e),Wn.set(e,t)),e}const Qn=t=>Wn.get(t);function Xn(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=Yn(o);return i&&o.addEventListener("upgradeneeded",t=>{i(Yn(o.result),t.oldVersion,t.newVersion,Yn(o.transaction),t)}),n&&o.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),a.then(t=>{s&&t.addEventListener("close",()=>s()),r&&t.addEventListener("versionchange",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),a}const $n=["get","getKey","getAll","getAllKeys","count"],Jn=["put","add","delete","clear"],Zn=new Map;function ti(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(Zn.get(e))return Zn.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Jn.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!$n.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return Zn.set(e,s),s}!function(t){qn=t(qn)}(t=>Lt(Lt({},t),{},{get:(e,n,i)=>ti(e,n)||t.get(e,n,i),has:(e,n)=>!!ti(e,n)||t.has(e,n)}));class ei{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null}).filter(t=>t).join(" ")}}const ni="@firebase/app",ii="0.10.13",ri=new Ln("@firebase/app"),si="@firebase/app-compat",oi="@firebase/analytics-compat",ai="@firebase/analytics",li="@firebase/app-check-compat",ci="@firebase/app-check",ui="@firebase/auth",hi="@firebase/auth-compat",di="@firebase/database",fi="@firebase/data-connect",pi="@firebase/database-compat",mi="@firebase/functions",gi="@firebase/functions-compat",vi="@firebase/installations",yi="@firebase/installations-compat",bi="@firebase/messaging",xi="@firebase/messaging-compat",wi="@firebase/performance",_i="@firebase/performance-compat",Si="@firebase/remote-config",ki="@firebase/remote-config-compat",Ei="@firebase/storage",Ti="@firebase/storage-compat",Ci="@firebase/firestore",Ii="@firebase/vertexai-preview",Ni="@firebase/firestore-compat",Pi="firebase",Ai="[DEFAULT]",Di={[ni]:"fire-core",[si]:"fire-core-compat",[ai]:"fire-analytics",[oi]:"fire-analytics-compat",[ci]:"fire-app-check",[li]:"fire-app-check-compat",[ui]:"fire-auth",[hi]:"fire-auth-compat",[di]:"fire-rtdb",[fi]:"fire-data-connect",[pi]:"fire-rtdb-compat",[mi]:"fire-fn",[gi]:"fire-fn-compat",[vi]:"fire-iid",[yi]:"fire-iid-compat",[bi]:"fire-fcm",[xi]:"fire-fcm-compat",[wi]:"fire-perf",[_i]:"fire-perf-compat",[Si]:"fire-rc",[ki]:"fire-rc-compat",[Ei]:"fire-gcs",[Ti]:"fire-gcs-compat",[Ci]:"fire-fst",[Ni]:"fire-fst-compat",[Ii]:"fire-vertex","fire-js":"fire-js",[Pi]:"fire-js-all"},Mi=new Map,Ri=new Map,Oi=new Map;function ji(t,e){try{t.container.addComponent(e)}catch(Ft){ri.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),Ft)}}function Li(t){const e=t.name;if(Oi.has(e))return ri.debug("There were multiple attempts to register component ".concat(e,".")),!1;Oi.set(e,t);for(const n of Mi.values())ji(n,t);for(const n of Ri.values())ji(n,t);return!0}function Fi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vi(t){return void 0!==t.settings}const Ui=new gn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class zi{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const Bi="10.14.1";function Hi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:Ai,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw Ui.create("bad-app-name",{appName:String(r)});if(n||(n=an()),!n)throw Ui.create("no-options");const s=Mi.get(r);if(s){if(yn(n,s.options)&&yn(i,s.config))return s;throw Ui.create("duplicate-app",{appName:r})}const o=new Pn(r);for(const l of Oi.values())o.addComponent(l);const a=new zi(n,i,o);return Mi.set(r,a),a}function Wi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai;const e=Mi.get(t);if(!e&&t===Ai&&an())return Hi();if(!e)throw Ui.create("no-app",{appName:t});return e}function qi(t,e,n){var i;let r=null!==(i=Di[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void ri.warn(t.join(" "))}Li(new Cn("".concat(r,"-version"),()=>({library:r,version:e}),"VERSION"))}const Gi="firebase-heartbeat-store";let Ki=null;function Yi(){return Ki||(Ki=Xn("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Gi)}catch(Ft){console.warn(Ft)}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),Ki}async function Qi(t,e){try{const n=(await Yi()).transaction(Gi,"readwrite"),i=n.objectStore(Gi);await i.put(e,Xi(t)),await n.done}catch(Ft){if(Ft instanceof mn)ri.warn(Ft.message);else{const e=Ui.create("idb-set",{originalErrorMessage:null===Ft||void 0===Ft?void 0:Ft.message});ri.warn(e.message)}}}function Xi(t){return"".concat(t.name,"!").concat(t.options.appId)}class $i{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Zi(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ji();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(t=>t.date===i))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(Ft){ri.warn(Ft)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ji(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find(t=>t.agent===r.agent);if(t){if(t.dates.push(r.date),tr(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),tr(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=en(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(Ft){return ri.warn(Ft),""}}}function Ji(){return(new Date).toISOString().substring(0,10)}class Zi{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!fn()&&pn().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Yi()).transaction(Gi),n=await e.objectStore(Gi).get(Xi(t));return await e.done,n}catch(Ft){if(Ft instanceof mn)ri.warn(Ft.message);else{const e=Ui.create("idb-get",{originalErrorMessage:null===Ft||void 0===Ft?void 0:Ft.message});ri.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qi(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qi(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function tr(t){return en(JSON.stringify({version:2,heartbeats:t})).length}var er;er="",Li(new Cn("platform-logger",t=>new ei(t),"PRIVATE")),Li(new Cn("heartbeat",t=>new $i(t),"PRIVATE")),qi(ni,ii,er),qi(ni,ii,"esm2017"),qi("fire-js","");function nr(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ir(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rr=ir,sr=new gn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),or=new Ln("@firebase/auth");function ar(t){if(or.logLevel<=Dn.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];or.error("Auth (".concat(Bi,"): ").concat(t),...n)}}function lr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw fr(t,...n)}function cr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return fr(t,...n)}function ur(t,e,n){const i=Object.assign(Object.assign({},rr()),{[e]:n});return new gn("auth","Firebase",i).create(e,{appName:t.name})}function hr(t){return ur(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dr(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&lr(t,"argument-error"),ur(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function fr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("string"!==typeof t){const e=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(e,...i)}return sr.create(t,...n)}function pr(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw fr(e,...i)}}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ar(e),new Error(e)}function gr(t,e){t||mr(e)}function vr(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function yr(){return"http:"===br()||"https:"===br()}function br(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class xr{constructor(t,e){this.shortDelay=t,this.longDelay=e,gr(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yr()||hn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function wr(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class _r{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kr=new xr(3e4,6e4);function Er(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tr(t,e,n,i){return Cr(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=xn(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:a},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),_r.fetch()(Nr(t,t.config.apiHost,n,o),l)})}async function Cr(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Sr),e);try{const e=new Ar(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Dr(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Dr(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Dr(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw Dr(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ur(t,a,o);lr(t,a)}}catch(Ft){if(Ft instanceof mn)throw Ft;lr(t,"network-request-failed",{message:String(Ft)})}}async function Ir(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Tr(t,e,n,i,r);return"mfaPendingCredential"in s&&lr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Nr(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i);return t.config.emulator?wr(t.config,r):"".concat(t.config.apiScheme,"://").concat(r)}function Pr(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ar{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(cr(this.auth,"network-request-failed")),kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=cr(t,e,i);return r.customData._tokenResponse=n,r}function Mr(t){return void 0!==t&&void 0!==t.enterprise}class Rr{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Pr(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}async function Or(t,e){return Tr(t,"GET","/v2/recaptchaConfig",Er(t,e))}async function jr(t,e){return Tr(t,"POST","/v1/accounts:lookup",e)}function Lr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(Ft){}}function Fr(t){return 1e3*Number(t)}function Vr(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return ar("JWT malformed, contained fewer than 3 sections"),null;try{const t=nn(n);return t?JSON.parse(t):(ar("Failed to decode base64 JWT payload"),null)}catch(Ft){return ar("Caught error parsing JWT payload as JSON",null===Ft||void 0===Ft?void 0:Ft.toString()),null}}function Ur(t){const e=Vr(t);return pr(e,"internal-error"),pr("undefined"!==typeof e.exp,"internal-error"),pr("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function zr(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(Ft){throw Ft instanceof mn&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(Ft)&&t.auth.currentUser===t&&await t.auth.signOut(),Ft}}class Br{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ft){return void((null===Ft||void 0===Ft?void 0:Ft.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Hr{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lr(this.lastLoginAt),this.creationTime=Lr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wr(t){var e;const n=t.auth,i=await t.getIdToken(),r=await zr(t,jr(n,{idToken:i}));pr(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?qr(s.providerUserInfo):[],a=function(t,e){const n=t.filter(t=>!e.some(e=>e.providerId===t.providerId));return[...n,...e]}(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hr(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}function qr(t){return t.map(t=>{var{providerId:e}=t,n=nr(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pr(t.idToken,"internal-error"),pr("undefined"!==typeof t.idToken,"internal-error"),pr("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):Ur(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){pr(0!==t.length,"internal-error");const e=Ur(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(pr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(t,e){const n=await Cr(t,{},async()=>{const n=xn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=Nr(t,i,"/v1/token","key=".concat(r)),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",_r.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new Gr;return n&&(pr("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(pr("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(pr("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gr,this.toJSON())}_performRefresh(){return mr("not implemented")}}function Kr(t,e){pr("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class Yr{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=nr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Hr(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await zr(this,this.stsTokenManager.getToken(this.auth,t));return pr(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Tn(t),i=await n.getIdToken(e),r=Vr(i);pr(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Lr(Fr(r.auth_time)),issuedAtTime:Lr(Fr(r.iat)),expirationTime:Lr(Fr(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Tn(t);await Wr(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(pr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Yr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){pr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Wr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(hr(this.auth));const t=await this.getIdToken();return await zr(this,async function(t,e){return Tr(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:_}=e;pr(y&&_,t,"internal-error");const S=Gr.fromJSON(this.name,_);pr("string"===typeof y,t,"internal-error"),Kr(u,t.name),Kr(h,t.name),pr("boolean"===typeof b,t,"internal-error"),pr("boolean"===typeof x,t,"internal-error"),Kr(d,t.name),Kr(f,t.name),Kr(p,t.name),Kr(m,t.name),Kr(g,t.name),Kr(v,t.name);const k=new Yr({uid:y,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map(t=>Object.assign({},t))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new Gr;i.updateFromServerResponse(e);const r=new Yr({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Wr(r),r}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];pr(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?qr(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length),o=new Gr;o.updateFromIdToken(n);const a=new Yr({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Hr(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(a,l),a}}const Qr=new Map;function Xr(t){gr(t instanceof Function,"Expected a class definition");let e=Qr.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qr.set(t,e),e)}class $r{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}$r.type="NONE";const Jr=$r;function Zr(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class ts{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Zr(this.userKey,i.apiKey,r),this.fullPersistenceKey=Zr("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Yr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new ts(Xr(Jr),t,n);const i=(await Promise.all(e.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let r=i[0]||Xr(Jr);const s=Zr(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){const n=Yr._fromJSON(t,e);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter(t=>t._shouldAllowMigration);return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map(async t=>{if(t!==r)try{await t._remove(s)}catch(l){}})),new ts(r,t,n)):new ts(r,t,n)}}function es(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ss(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ns(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(as(e))return"Blackberry";if(ls(e))return"Webos";if(is(e))return"Safari";if((e.includes("chrome/")||rs(e))&&!e.includes("edge/"))return"Chrome";if(os(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ns(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/firefox\//i.test(t)}function is(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:un()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/crios\//i.test(t)}function ss(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/iemobile/i.test(t)}function os(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/android/i.test(t)}function as(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/blackberry/i.test(t)}function ls(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/webos/i.test(t)}function cs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function us(){return function(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function hs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un();return cs(t)||os(t)||ls(t)||as(t)||/windows phone/i.test(t)||ss(t)}function ds(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=es(un());break;case"Worker":e="".concat(es(un()),"-").concat(t);break;default:e=t}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(Bi,"/").concat(i)}class fs{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise((n,i)=>{try{n(t(e))}catch(Ft){i(Ft)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(Ft){e.reverse();for(const n of e)try{n()}catch(Le){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ft||void 0===Ft?void 0:Ft.message})}}}class ps{constructor(t){var e,n,i,r;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=t.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}class ms{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vs(this),this.idTokenSubscription=new vs(this),this.beforeStateQueue=new fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Xr(e)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ts.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ft){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await jr(this,{idToken:t}),n=await Yr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Vi(this.app)){const t=this.app.settings.authIdToken;return t?new Promise(e=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(t).then(e,e))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(Ft){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ft))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(Ft){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Wr(t)}catch(Ft){if((null===Ft||void 0===Ft?void 0:Ft.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vi(this.app))return Promise.reject(hr(this));const e=t?Tn(t):null;return e&&pr(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&pr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vi(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(t))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return Tr(t,"GET","/v2/passwordPolicy",Er(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new ps(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new gn("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Tr(t,"POST","/v2/accounts:revokeToken",Er(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Xr(t)||this._popupRedirectResolver;pr(e,this,"argument-error"),this.redirectPersistenceManager=await ts.create(this,[Xr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pr(o,this,"internal-error"),o.then(()=>{s||r(this.currentUser)}),"function"===typeof e){const r=t.addObserver(e,n,i);return()=>{s=!0,r()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ds(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(or.logLevel<=Dn.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];or.warn("Auth (".concat(Bi,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function gs(t){return Tn(t)}class vs{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new Sn(t,e);return n.subscribe.bind(n)}(t=>this.observer=t)}get next(){return pr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ys={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bs(t){return ys.loadJS(t)}function xs(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class ws{constructor(t){this.type="recaptcha-enterprise",this.auth=gs(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,i){const r=window.grecaptcha;Mr(r)?r.enterprise.ready(()=>{r.enterprise.execute(e,{action:t}).then(t=>{n(t)}).catch(()=>{n("NO_RECAPTCHA")})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((t,i)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise(async(e,n)=>{Or(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0!==i.recaptchaKey){const n=new Rr(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(t=>{n(t)})})})(this.auth).then(r=>{if(!e&&Mr(window.grecaptcha))n(r,t,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let e=ys.recaptchaEnterpriseScript;0!==e.length&&(e+=r),bs(e).then(()=>{n(r,t,i)}).catch(t=>{i(t)})}}).catch(t=>{i(t)})})}}async function _s(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new ws(t);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ss(t,e,n,i){var r;if(null===(r=t._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await _s(t,e,n,"getOobCode"===n);return i(t,r)}return i(t,e).catch(async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await _s(t,e,n,"getOobCode"===n);return i(t,r)}return Promise.reject(r)})}function ks(t,e,n){const i=gs(t);pr(i._canInitEmulator,i,"emulator-config-failed"),pr(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Es(e),{host:o,port:a}=function(t){const e=Es(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:Ts(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:Ts(e)}}}(e),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Es(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ts(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Cs{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return mr("not implemented")}_getIdTokenResponse(t){return mr("not implemented")}_linkToIdToken(t,e){return mr("not implemented")}_getReauthenticationResolver(t){return mr("not implemented")}}async function Is(t,e){return Tr(t,"POST","/v1/accounts:signUp",e)}async function Ns(t,e){return Ir(t,"POST","/v1/accounts:signInWithPassword",Er(t,e))}async function Ps(t,e){return Tr(t,"POST","/v1/accounts:sendOobCode",Er(t,e))}async function As(t,e){return Ps(t,e)}class Ds extends Cs{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Ds(t,e,"password")}static _fromEmailAndCode(t,e){return new Ds(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Ss(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ns);case"emailLink":return async function(t,e){return Ir(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))}(t,{email:this._email,oobCode:this._password});default:lr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Ss(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Is);case"emailLink":return async function(t,e){return Ir(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:lr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ms(t,e){return Ir(t,"POST","/v1/accounts:signInWithIdp",Er(t,e))}class Rs extends Cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Rs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):lr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=nr(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Rs(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return Ms(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Ms(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ms(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xn(e)}return t}}const Os={USER_NOT_FOUND:"user-not-found"};class js extends Cs{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new js({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new js({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Er(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Er(t,e));if(n.temporaryProof)throw Dr(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Er(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Os)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new js({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Ls{constructor(t){var e,n,i,r,s,o;const a=wn(_n(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);pr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=wn(_n(t)).link,n=e?wn(_n(e)).deep_link_id:null,i=wn(_n(t)).deep_link_id;return(i?wn(_n(i)).link:null)||i||n||e||t}(t);try{return new Ls(e)}catch(n){return null}}}class Fs{constructor(){this.providerId=Fs.PROVIDER_ID}static credential(t,e){return Ds._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Ls.parseLink(e);return pr(n,"argument-error"),Ds._fromEmailAndCode(t,n.code,n.tenantId)}}Fs.PROVIDER_ID="password",Fs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vs{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Us extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends Us{constructor(){super("facebook.com")}static credential(t){return Rs._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch(n){return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com",zs.PROVIDER_ID="facebook.com";class Bs extends Us{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Rs._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Bs.credential(n,i)}catch(r){return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com",Bs.PROVIDER_ID="google.com";class Hs extends Us{constructor(){super("github.com")}static credential(t){return Rs._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch(n){return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com",Hs.PROVIDER_ID="github.com";class Ws extends Us{constructor(){super("twitter.com")}static credential(t,e){return Rs._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ws.credential(n,i)}catch(r){return null}}}async function qs(t,e){return Ir(t,"POST","/v1/accounts:signUp",Er(t,e))}Ws.TWITTER_SIGN_IN_METHOD="twitter.com",Ws.PROVIDER_ID="twitter.com";class Gs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Yr._fromIdTokenResponse(t,n,i),s=Ks(n);return new Gs({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=Ks(n);return new Gs({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function Ks(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ys extends mn{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ys.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new Ys(t,e,n,i)}}function Qs(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ys._fromErrorAndOperation(t,n,e,i);throw n})}async function Xs(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await zr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",i)}async function $s(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=t;if(Vi(i.app))return Promise.reject(hr(i));const r="reauthenticate";try{const s=await zr(t,Qs(i,r,e,t),n);pr(s.idToken,i,"internal-error");const o=Vr(s.idToken);pr(o,i,"internal-error");const{sub:a}=o;return pr(t.uid===a,i,"user-mismatch"),Gs._forOperation(t,r,s)}catch(Ft){throw(null===Ft||void 0===Ft?void 0:Ft.code)==="auth/".concat("user-not-found")&&lr(i,"user-mismatch"),Ft}}async function Js(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Vi(t.app))return Promise.reject(hr(t));const i="signIn",r=await Qs(t,i,e),s=await Gs._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Zs(t,e){return Js(gs(t),e)}function to(t,e,n){var i;pr((null===(i=n.url)||void 0===i?void 0:i.length)>0,t,"invalid-continue-uri"),pr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pr(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pr(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function eo(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function no(t,e){const n=Tn(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&to(n.auth,i,e);const{email:r}=await async function(t,e){return Ps(t,e)}(n.auth,i);r!==t.email&&await t.reload()}new WeakMap;const io="__sak";class ro{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(io,"1"),this.storage.removeItem(io),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class so extends ro{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);us()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}so.type="LOCAL";const oo=so;class ao extends ro{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ao.type="SESSION";const lo=ao;class co{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(e=>e.isListeningto(t));if(e)return e;const n=new co(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async t=>t(e.origin,r)),a=await function(t){return Promise.all(t.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function uo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}co.receivers=[];class ho{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise((o,a)=>{const l=uo("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function fo(){return window}function po(){return"undefined"!==typeof fo().WorkerGlobalScope&&"function"===typeof fo().importScripts}const mo="firebaseLocalStorageDb",go="firebaseLocalStorage",vo="fbase_key";class yo{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function bo(t,e){return t.transaction([go],e?"readwrite":"readonly").objectStore(go)}function xo(){const t=indexedDB.open(mo,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(go,{keyPath:vo})}catch(Ft){n(Ft)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(go)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(mo);return new yo(t).toPromise()}(),e(await xo()))})})}async function wo(t,e,n){const i=bo(t,!0).put({[vo]:e,value:n});return new yo(i).toPromise()}function _o(t,e){const n=bo(t,!0).delete(e);return new yo(n).toPromise()}class So{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await xo()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(Ft){if(e++>3)throw Ft;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return po()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=co._getInstance(po()?self:null),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ho(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xo();return await wo(t,io,"1"),await _o(t,io),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wo(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(e=>async function(t,e){const n=bo(t,!1).get(e),i=await new yo(n).toPromise();return void 0===i?null:i.value}(e,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>_o(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(t=>{const e=bo(t,!1).getAll();return new yo(e).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}So.type="LOCAL";const ko=So;xs("rcb"),new xr(3e4,6e4);const Eo="recaptcha";async function To(t,e,n){var i;const r=await n.verify();try{let s;if(pr("string"===typeof r,t,"argument-error"),pr(n.type===Eo,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){pr("enroll"===e.type,t,"internal-error");const n=await function(t,e){return Tr(t,"POST","/v2/accounts/mfaEnrollment:start",Er(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{pr("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;pr(n,t,"missing-multi-factor-info");const o=await function(t,e){return Tr(t,"POST","/v2/accounts/mfaSignIn:start",Er(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Tr(t,"POST","/v1/accounts:sendVerificationCode",Er(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}class Co{constructor(t){this.providerId=Co.PROVIDER_ID,this.auth=gs(t)}verifyPhoneNumber(t,e){return To(this.auth,t,Tn(e))}static credential(t,e){return js._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Co.credentialFromTaggedObject(e)}static credentialFromError(t){return Co.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?js._fromTokenResponse(n,i):null}}function Io(t,e){return e?Xr(e):(pr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Co.PROVIDER_ID="phone",Co.PHONE_SIGN_IN_METHOD="phone";class No extends Cs{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ms(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ms(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ms(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Po(t){return Js(t.auth,new No(t),t.bypassAuthState)}function Ao(t){const{auth:e,user:n}=t;return pr(n,e,"internal-error"),$s(n,new No(t),t.bypassAuthState)}async function Do(t){const{auth:e,user:n}=t;return pr(n,e,"internal-error"),Xs(n,new No(t),t.bypassAuthState)}class Mo{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ft){this.reject(Ft)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(Ft){this.reject(Ft)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Po;case"linkViaPopup":case"linkViaRedirect":return Do;case"reauthViaPopup":case"reauthViaRedirect":return Ao;default:lr(this.auth,"internal-error")}}resolve(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ro=new xr(2e3,1e4);class Oo extends Mo{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pr(t,this.auth,"internal-error"),t}async onExecution(){gr(1===this.filter.length,"Popup operations only handle one event");const t=uo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(t,Ro.get())};t()}}Oo.currentPopupAction=null;const jo=new Map;class Lo extends Mo{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=jo.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=Uo(e),i=Vo(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(Ft){t=()=>Promise.reject(Ft)}jo.set(this.auth._key(),t)}return this.bypassAuthState||jo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fo(t,e){jo.set(t._key(),e)}function Vo(t){return Xr(t._redirectPersistence)}function Uo(t){return Zr("pendingRedirect",t.config.apiKey,t.name)}async function zo(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Vi(t.app))return Promise.reject(hr(t));const i=gs(t),r=Io(i,e),s=new Lo(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class Bo{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wo(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Wo(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(cr(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ho(t))}saveEventToCache(t){this.cachedEventUids.add(Ho(t)),this.lastProcessedEventTime=Date.now()}}function Ho(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Wo(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Go=/^https?/;async function Ko(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Tr(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const i of e)try{if(Yo(i))return}catch(n){}lr(t,"unauthorized-domain")}function Yo(t){const e=vr(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Go.test(n))return!1;if(qo.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Qo=new xr(3e4,6e4);function Xo(){const t=fo().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function $o(t){return new Promise((e,n)=>{var i,r,s;function o(){Xo(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xo(),n(cr(t,"network-request-failed"))},timeout:Qo.get()})}if(null===(r=null===(i=fo().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=fo().gapi)||void 0===s?void 0:s.load)){const e=xs("iframefcb");return fo()[e]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},bs("".concat(ys.gapiScript,"?onload=").concat(e)).catch(t=>n(t))}o()}}).catch(t=>{throw Jo=null,t})}let Jo=null;const Zo=new xr(5e3,15e3),ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ea=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function na(t){const e=t.config;pr(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wr(e,"emulator/auth/iframe"):"https://".concat(t.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:e.apiKey,appName:t.name,v:Bi},r=ea.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(xn(i).slice(1))}async function ia(t){const e=await function(t){return Jo=Jo||$o(t),Jo}(t),n=fo().gapi;return pr(n,t,"internal-error"),e.open({where:document.body,url:na(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ta,dontclear:!0},e=>new Promise(async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=cr(t,"network-request-failed"),s=fo().setTimeout(()=>{i(r)},Zo.get());function o(){fo().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{i(r)})}))}const ra={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sa{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ft){}}}function oa(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ra),{width:i.toString(),height:r.toString(),top:s,left:o}),c=un().toLowerCase();n&&(a=rs(c)?"_blank":n),ns(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((t,e)=>{let[n,i]=e;return"".concat(t).concat(n,"=").concat(i,",")},"");if(function(){var t;return cs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:un())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new sa(null);const h=window.open(e||"",a,u);pr(h,t,"popup-blocked");try{h.focus()}catch(Ft){}return new sa(h)}const aa="__/auth/handler",la="emulator/auth/handler",ca=encodeURIComponent("fac");async function ua(t,e,n,i,r,s){pr(t.config.authDomain,t,"auth-domain-config-required"),pr(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Bi,eventId:r};if(e instanceof Vs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof Us){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(ca,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(aa);return wr(e,la)}(t),"?").concat(xn(a).slice(1)).concat(c)}const ha="webStorageSupport";const da=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=zo,this._overrideRedirectResult=Fo}async _openPopup(t,e,n,i){var r;gr(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return oa(t,await ua(t,e,n,vr(),i),uo())}async _openRedirect(t,e,n,i){await this._originValidation(t);return function(t){fo().location.href=t}(await ua(t,e,n,vr(),i)),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(gr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await ia(t),n=new Bo(t);return e.register("authEvent",e=>{pr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ha,{type:ha},n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[ha];void 0!==r&&e(!!r),lr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Ko(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return hs()||is()||cs()}};var fa="@firebase/auth",pa="1.7.9";class ma{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){pr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ga=ln("authIdTokenMaxAge")||300;let va=null;var ya;!function(t){ys=t}({loadJS:t=>new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=cr("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ya="Browser",Li(new Cn("auth",(t,e)=>{let{options:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;pr(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:ya,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ds(ya)},c=new ms(i,r,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Xr);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Li(new Cn("auth-internal",t=>(t=>new ma(t))(gs(t.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),qi(fa,pa,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ya)),qi(fa,pa,"esm2017");var ba,xa,wa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_a={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function i(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var i=e-this.blockSize,r=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=i;)n(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var r={};function s(t){return-128<=t&&128>t?function(t,e){var n=r;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(t){return new i([0|t],0>t?-1:0)}):new i([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=4294967296;return new i(e,0)}var a=s(0),l=s(1),c=s(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new i(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(u(e))throw Error("division by zero");if(u(t))return new m(a,a);if(h(t))return e=g(d(t),e),new m(d(e.g),d(e.h));if(h(e))return e=g(t,d(e)),new m(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=e;0>=i.l(t);)n=v(n),i=v(i);var r=y(n,1),s=y(i,1);for(i=y(i,2),n=y(n,2);!u(i);){var c=s.add(i);0>=c.l(t)&&(r=r.add(n),s=c),i=y(i,1),n=y(n,1)}return e=f(t,r.j(e)),new m(r,e)}for(r=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(s=o(n)).j(e);h(c)||0<c.l(t);)c=(s=o(n-=i)).j(e);u(s)&&(s=l),r=r.add(s),t=f(t,c)}return new m(r,t)}function v(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.i(r)<<1|t.i(r-1)>>>31;return new i(n,t.h)}function y(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new i(s,t.h)}(t=i.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.i(n);t+=(0<=i?i:4294967296+i)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),n=this,i="";;){var r=g(n,e).g,s=((0<(n=f(n,r.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var l=this.i(r)>>>16,f=65535&this.i(r),m=t.i(s)>>>16,g=65535&t.i(s);n[2*r+2*s]+=f*g,p(n,2*r+2*s),n[2*r+2*s+1]+=l*g,p(n,2*r+2*s+1),n[2*r+2*s+1]+=f*m,p(n,2*r+2*s+1),n[2*r+2*s+2]+=l*m,p(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new i(n,0)},t.A=function(t){return g(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)&t.i(r);return new i(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)|t.i(r);return new i(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)^t.i(r);return new i(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,xa=_a.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=o,i.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=o(Math.pow(n,8)),r=a,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),r=r.j(l).add(o(c))):r=(r=r.j(i)).add(o(c))}return r},ba=_a.Integer=i}).apply("undefined"!==typeof wa?wa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Sa,ka,Ea,Ta,Ca,Ia,Na,Pa,Aa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Da={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Aa&&Aa];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,i){if(i)t:{var r=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in r))break t;r=r[o]}(i=i(s=r[t=t[t.length-1]]))!=s&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,i=!1,r={next:function(){if(!i&&n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(t,e){return e})}});var i=i||{},r=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function m(){var t=r.navigator;return t&&(t=t.userAgent)?t:""}function g(t){return g[" "](t),t}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<x.length;e++)n=x[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function _(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function S(t){r.setTimeout(()=>{throw t},0)}function k(){var t=N;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var E=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new T,t=>t.reset());class T{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,N=new class{constructor(){this.h=this.g=null}add(t,e){const n=E.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const t=r.Promise.resolve(void 0);C=()=>{t.then(A)}};var A=()=>{for(var t;t=k();){try{t.h.call(t.g)}catch(Wt){S(Wt)}var e=E;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function D(){this.s=this.s,this.C=this.C}function M(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};r.addEventListener("test",t,e),r.removeEventListener("test",t,e)}catch(Wt){}return t}();function O(t,e){if(M.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v){t:{try{g(e.nodeName);var r=!0;break t}catch(Qt){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:j[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&O.aa.h.call(this)}}h(O,M);var j={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++F,this.da=this.fa=!1}function U(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function z(t){this.src=t,this.g={},this.h=0}function B(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=Array.prototype.indexOf.call(r,e,void 0);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(U(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function H(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}z.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=H(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new V(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var W="closure_lm_"+(1e6*Math.random()|0),q={};function G(t,e,n,i,r){if(i&&i.once)return Y(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)G(t,e[s],n,i,r);return null}return n=et(n),t&&t[L]?t.K(e,n,o(i)?!!i.capture:!!i,r):K(t,e,n,!1,i,r)}function K(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=o(r)?!!r.capture:!!r,l=Z(t);if(l||(t[W]=l=new z(t)),(n=l.add(e,n,i,a,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=J;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)R||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent($(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Y(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y(t,e[s],n,i,r);return null}return n=et(n),t&&t[L]?t.L(e,n,o(i)?!!i.capture:!!i,r):K(t,e,n,!0,i,r)}function Q(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Q(t,e[s],n,i,r);else i=o(i)?!!i.capture:!!i,n=et(n),t&&t[L]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=H(s=t.g[e],n,i,r))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H(e,n,i,r)),(n=-1<t?e[t]:null)&&X(n))}function X(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[L])B(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent($(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Z(e))?(B(n,t),0==n.h&&(n.src=null,e[W]=null)):U(t)}}}function $(t){return t in q?q[t]:q[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new O(e,this);var n=t.listener,i=t.ha||t.src;t.fa&&X(t),t=n.call(i,e)}return t}function Z(t){return(t=t[W])instanceof z?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function it(t,e){var n,i=t.F;if(i)for(n=[];i;i=i.F)n.push(i);if(t=t.M,i=e.type||e,"string"===typeof e)e=new M(e,t);else if(e instanceof M)e.target=e.target||t;else{var r=e;w(e=new M(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=rt(o,i,!0,e)&&r}if(r=rt(o=e.g=t,i,!0,e)&&r,r=rt(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=rt(o=e.g=n[s],i,!1,e)&&r}function rt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function st(t,e,n){if("function"===typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:r.setTimeout(t,e||0)}function ot(t){t.g=st(()=>{t.g=null,t.i&&(t.i=!1,ot(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,D),nt.prototype[L]=!0,nt.prototype.removeEventListener=function(t,e,n,i){Q(this,t,e,n,i)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)U(n[i]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},nt.prototype.L=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};class at extends D{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(t){D.call(this),this.h=t,this.g={}}h(lt,D);var ct=[];function ut(t){y(t.g,function(t,e){this.g.hasOwnProperty(e)&&X(t)},t),t.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ut(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=r.JSON.stringify,dt=r.JSON.parse,ft=class{stringify(t){return r.JSON.stringify(t,void 0)}parse(t){return r.JSON.parse(t,void 0)}};function pt(){}function mt(t){return t.h||(t.h=t.i())}function gt(){}pt.prototype.h=null;var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){M.call(this,"d")}function bt(){M.call(this,"c")}h(yt,M),h(bt,M);var xt={},wt=null;function _t(){return wt=wt||new nt}function St(t){M.call(this,xt.La,t)}function kt(t){const e=_t();it(e,new St(e))}function Et(t,e){M.call(this,xt.STAT_EVENT,t),this.stat=e}function Tt(t){const e=_t();it(e,new Et(e,t))}function Ct(t,e){M.call(this,xt.Ma,t),this.size=e}function It(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){t()},e)}function Nt(){this.g=!0}function Pt(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ht(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}xt.La="serverreachability",h(St,M),xt.STAT_EVENT="statevent",h(Et,M),xt.Ma="timingevent",h(Ct,M),Nt.prototype.xa=function(){this.g=!1},Nt.prototype.info=function(){};var At,Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Rt(){}function Ot(t,e,n,i){this.j=t,this.i=e,this.l=n,this.R=i||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jt}function jt(){this.i=null,this.g="",this.h=!1}h(Rt,pt),Rt.prototype.g=function(){return new XMLHttpRequest},Rt.prototype.i=function(){return{}},At=new Rt;var Lt={},Vt={};function Bt(t,e,n){t.L=1,t.v=ve(de(e)),t.m=n,t.P=!0,Ht(t,null)}function Ht(t,e){t.F=Date.now(),Kt(t),t.A=de(t.v);var n=t.A,i=t.R;Array.isArray(i)||(i=[String(i)]),Pe(n.i,"t",i),t.C=0,n=t.j.J,t.h=new jt,t.g=yn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new at(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,i=t.ca;var r="readystatechange";Array.isArray(r)||(r&&(ct[0]=r.toString()),r=ct);for(var s=0;s<r.length;s++){var o=G(n,r[s],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),kt(),function(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.i,t.u,t.A,t.l,t.R,t.m)}function qt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Gt(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Vt:(n=Number(e.substring(n,i)),isNaN(n)?Lt:(i+=1)+n>e.length?Vt:(e=e.slice(i,i+n),t.C=i+n,e))}function Kt(t){t.S=Date.now()+t.I,Xt(t,t.I)}function Xt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(c(t.ba,t),e)}function $t(t){t.B&&(r.clearTimeout(t.B),t.B=null)}function Jt(t){0==t.j.G||t.J||fn(t.j,t)}function Zt(t){$t(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function te(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||se(n.h,t)))if(!t.K&&se(n.h,t)&&3==n.G){try{var i=n.Da.g.parse(e)}catch(Ut){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;dn(n),en(n)}cn(n),Tt(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=It(c(n.Za,n),6e3));if(1>=re(n.h)&&n.ca){try{n.ca()}catch(Ut){}n.ca=void 0}}else mn(n,11)}else if((t.K||n.g==t)&&dn(n),!p(e))for(r=n.Da.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oe(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.ya=t,ge(i.I,i.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((i=n).qa=vn(i,i.J?i.ia:null,i.W),o.K){ae(i.h,o);var a=o,l=i.L;l&&(a.I=l),a.B&&($t(a),Kt(a)),i.g=o}else ln(i);0<n.i.length&&rn(n)}else"stop"!=c[0]&&"close"!=c[0]||mn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}kt()}catch(Ut){}}Ot.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==Xe(t)?e.j():this.Y(t)},Ot.prototype.Y=function(t){try{if(t==this.g)t:{const d=Xe(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||$e(this.g)))){this.J||4!=d||7==e||kt(),$t(this);var n=this.g.Z();this.X=n;e:if(qt(this)){var i=$e(this.g);t="";var s=i.length,o=4==Xe(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Zt(this),Jt(this);var a="";break e}this.h.i=new r.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:!(o&&e==s-1)});i.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,Tt(12),Zt(this),Jt(this);break t}Pt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,te(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Gt(this,a),t==Vt){4==d&&(this.s=4,Tt(14),n=!1),Pt(this.i,this.l,null,"[Incomplete Response]");break}if(t==Lt){this.s=4,Tt(15),Pt(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pt(this.i,this.l,t,null),te(this,t)}if(qt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Tt(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),un(h),h.M=!0,Tt(11))}}else Pt(this.i,this.l,a,"[Invalid Chunked Response]"),Zt(this),Jt(this)}else Pt(this.i,this.l,a,null),te(this,a);4==d&&Zt(this),this.o&&!this.J&&(4==d?fn(this.j,this):(this.o=!1,Kt(this)))}else(function(t){const e={};t=(t.g&&2<=Xe(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(p(t[i]))continue;var n=_(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(t){return t.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Zt(this),Jt(this)}}}catch(Ma){}},Ot.prototype.cancel=function(){this.J=!0,Zt(this)},Ot.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.i,this.A),2!=this.L&&(kt(),Tt(17)),Zt(this),this.s=2,Jt(this)):Xt(this,this.S-t)};var ee=class{constructor(t,e){this.g=t,this.map=e}};function ne(t){this.l=t||10,r.PerformanceNavigationTiming?t=0<(t=r.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ie(t){return!!t.h||!!t.g&&t.g.size>=t.j}function re(t){return t.h?1:t.g?t.g.size:0}function se(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function oe(t,e){t.g?t.g.add(e):t.h=e}function ae(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function le(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(s(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}ne.prototype.cancel=function(){if(this.i=le(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function he(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof he){this.h=t.h,fe(this,t.j),this.o=t.o,this.g=t.g,pe(this,t.s),this.l=t.l;var e=t.i,n=new Te;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),me(this,n),this.m=t.m}else t&&(e=String(t).match(ue))?(this.h=!1,fe(this,e[1]||"",!0),this.o=ye(e[2]||""),this.g=ye(e[3]||"",!0),pe(this,e[4]),this.l=ye(e[5]||"",!0),me(this,e[6]||"",!0),this.m=ye(e[7]||"")):(this.h=!1,this.i=new Te(null,this.h))}function de(t){return new he(t)}function fe(t,e,n){t.j=n?ye(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function me(t,e,n){e instanceof Te?(t.i=e,function(t,e){e&&!t.j&&(Ce(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ie(this,e),Pe(this,n,t))},t)),t.j=e}(t.i,t.h)):(n||(e=be(e,ke)),t.i=new Te(e,t.h))}function ge(t,e,n){t.i.set(e,n)}function ve(t){return ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ye(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function be(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,xe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}he.prototype.toString=function(){var t=[],e=this.j;e&&t.push(be(e,we,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(be(e,we,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(be(n,"/"==n.charAt(0)?Se:_e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",be(n,Ee)),t.join("")};var we=/[#\/\?@]/g,_e=/[#\?:]/g,Se=/[#\?]/g,ke=/[#\?@]/g,Ee=/#/g;function Te(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ce(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ie(t,e){Ce(t),e=Ae(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ne(t,e){return Ce(t),e=Ae(t,e),t.g.has(e)}function Pe(t,e,n){Ie(t,e),0<n.length&&(t.i=null,t.g.set(Ae(t,e),d(n)),t.h+=n.length)}function Ae(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function De(t,e,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(Qt){}}function Me(){this.g=new ft}function Re(t,e,n){const i=n||"";try{ce(t,function(t,n){let r=t;o(t)&&(r=ht(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(Ft){throw e.push(i+"type="+encodeURIComponent("_badmap")),Ft}}function Oe(t){this.l=t.Ub||null,this.j=t.eb||!1}function je(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Le(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Fe(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Ve(t)}function Ve(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ue(t){let e="";return y(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function ze(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ue(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ge(t,e,n))}function Be(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Te.prototype).add=function(t,e){Ce(this),this.i=null,t=Ae(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){Ce(this),this.g.forEach(function(n,i){n.forEach(function(n){t.call(e,n,i,this)},this)},this)},t.na=function(){Ce(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},t.V=function(t){Ce(this);let e=[];if("string"===typeof t)Ne(this,t)&&(e=e.concat(this.g.get(Ae(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return Ce(this),this.i=null,Ne(this,t=Ae(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.V(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")},h(Oe,pt),Oe.prototype.g=function(){return new je(this.l,this.j)},Oe.prototype.i=function(t){return function(){return t}}({}),h(je,nt),(t=je.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Ve(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||r).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fe(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ve(this)),this.g&&(this.readyState=3,Ve(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Le(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fe(this):Ve(this),3==this.readyState&&Le(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Fe(this))},t.Qa=function(t){this.g&&(this.response=t,Fe(this))},t.ga=function(){this.g&&Fe(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(je.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Be,nt);var He=/^https?$/i,We=["POST","PUT"];function qe(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Ge(t),Ye(t)}function Ge(t){t.A||(t.A=!0,it(t,"complete"),it(t,"error"))}function Ke(t){if(t.h&&"undefined"!=typeof i&&(!t.v[1]||4!=Xe(t)||2!=t.Z()))if(t.u&&4==Xe(t))st(t.Ea,0,t);else if(it(t,"readystatechange"),4==Xe(t)){t.h=!1;try{const i=t.Z();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===i){var o=String(t.D).match(ue)[1]||null;!o&&r.self&&r.self.location&&(o=r.self.location.protocol.slice(0,-1)),s=!He.test(o?o.toLowerCase():"")}n=s}if(n)it(t,"complete"),it(t,"success");else{t.m=6;try{var a=2<Xe(t)?t.g.statusText:""}catch(l){a=""}t.l=a+" ["+t.Z()+"]",Ge(t)}}finally{Ye(t)}}}function Ye(t,e){if(t.g){Qe(t);const n=t.g,i=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||it(t,"ready");try{n.onreadystatechange=i}catch(Ft){}}}function Qe(t){t.I&&(r.clearTimeout(t.I),t.I=null)}function Xe(t){return t.g?t.g.readyState:0}function $e(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Je(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ze(t){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Je("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Je("baseRetryDelayMs",5e3,t),this.cb=Je("retryDelaySeedMs",1e4,t),this.Wa=Je("forwardChannelMaxRetries",2,t),this.wa=Je("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new ne(t&&t.concurrentRequestLimit),this.Da=new Me,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(t){if(nn(t),3==t.G){var e=t.U++,n=de(t.I);if(ge(n,"SID",t.K),ge(n,"RID",e),ge(n,"TYPE","terminate"),on(t,n),(e=new Ot(t,t.j,e)).L=2,e.v=ve(de(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(e.v.toString(),"")}catch(Yt){}!n&&r.Image&&((new Image).src=e.v,n=!0),n||(e.g=yn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Kt(e)}gn(t)}function en(t){t.g&&(un(t),t.g.cancel(),t.g=null)}function nn(t){en(t),t.u&&(r.clearTimeout(t.u),t.u=null),dn(t),t.h.cancel(),t.s&&("number"===typeof t.s&&r.clearTimeout(t.s),t.s=null)}function rn(t){if(!ie(t.h)&&!t.s){t.s=!0;var e=t.Ga;C||P(),I||(C(),I=!0),N.add(e,t),t.B=0}}function sn(t,e){var n;n=e?e.l:t.U++;const i=de(t.I);ge(i,"SID",t.K),ge(i,"RID",n),ge(i,"AID",t.T),on(t,i),t.m&&t.o&&ze(i,t.m,t.o),n=new Ot(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=an(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),oe(t.h,n),Bt(n,i,e)}function on(t,e){t.H&&y(t.H,function(t,n){ge(e,n,t)}),t.l&&ce({},function(t,n){ge(e,n,t)})}function an(t,e,n){n=Math.min(t.i.length,n);var i=t.l?c(t.l.Na,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=r[o].g;const a=r[o].map;if(n-=e,0>n)e=Math.max(0,r[o].g-100),s=!1;else try{Re(a,t,"req"+n+"_")}catch(Ma){i&&i(a)}}if(s){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function ln(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;C||P(),I||(C(),I=!0),N.add(e,t),t.v=0}}function cn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=It(c(t.Fa,t),pn(t,t.v)),t.v++,!0)}function un(t){null!=t.A&&(r.clearTimeout(t.A),t.A=null)}function hn(t){t.g=new Ot(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=de(t.qa);ge(e,"RID","rpc"),ge(e,"SID",t.K),ge(e,"AID",t.T),ge(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ge(e,"TO",t.ja),ge(e,"TYPE","xmlhttp"),on(t,e),t.m&&t.o&&ze(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=ve(de(e)),n.m=null,n.P=!0,Ht(n,t)}function dn(t){null!=t.C&&(r.clearTimeout(t.C),t.C=null)}function fn(t,e){var n=null;if(t.g==e){dn(t),un(t),t.g=null;var i=2}else{if(!se(t.h,e))return;n=e.D,ae(t.h,e),i=1}if(0!=t.G)if(e.o)if(1==i){n=e.m?e.m.length:0,e=Date.now()-e.F;var r=t.B;it(i=_t(),new Ct(i,n)),rn(t)}else ln(t);else if(3==(r=e.s)||0==r&&0<e.X||!(1==i&&function(t,e){return!(re(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=It(c(t.Ga,t,e),pn(t,t.B)),t.B++,!0))}(t,e)||2==i&&cn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:mn(t,5);break;case 4:mn(t,10);break;case 3:mn(t,6);break;default:mn(t,2)}}function pn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function mn(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),i=t.Xa;const e=!i;i=new he(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||fe(i,"https"),ve(i),e?function(t,e){const n=new Nt;if(r.Image){const i=new Image;i.onload=u(De,n,"TestLoadImage: loaded",!0,e,i),i.onerror=u(De,n,"TestLoadImage: error",!1,e,i),i.onabort=u(De,n,"TestLoadImage: abort",!1,e,i),i.ontimeout=u(De,n,"TestLoadImage: timeout",!1,e,i),r.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(i.toString(),n):function(t,e){new Nt;const n=new AbortController,i=setTimeout(()=>{n.abort(),De(0,0,!1,e)},1e4);fetch(t,{signal:n.signal}).then(t=>{clearTimeout(i),t.ok?De(0,0,!0,e):De(0,0,!1,e)}).catch(()=>{clearTimeout(i),De(0,0,!1,e)})}(i.toString(),n)}else Tt(2);t.G=0,t.l&&t.l.sa(e),gn(t),nn(t)}function gn(t){if(t.G=0,t.ka=[],t.l){const e=le(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function vn(t,e,n){var i=n instanceof he?de(n):new he(n);if(""!=i.g)e&&(i.g=e+"."+i.g),pe(i,i.s);else{var s=r.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new he(null);i&&fe(o,i),e&&(o.g=e),s&&pe(o,s),n&&(o.l=n),i=o}return n=t.D,e=t.ya,n&&e&&ge(i,n,e),ge(i,"VER",t.la),on(t,i),i}function yn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Be(new Oe({eb:n})):new Be(t.pa)).Ha(t.J),e}function bn(){}function xn(){}function wn(t,e){nt.call(this),this.g=new Ze(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new kn(this)}function _n(t){yt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Sn(){bt.call(this),this.status=1}function kn(t){this.g=t}(t=Be.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():At.g(),this.v=this.o?mt(this.o):mt(At),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(Qt){return void qe(this,Qt)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),s=r.FormData&&t instanceof r.FormData,!(0<=Array.prototype.indexOf.call(We,e,void 0))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qe(this),this.u=!0,this.g.send(t),this.u=!1}catch(Qt){qe(this,Qt)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,it(this,"complete"),it(this,"abort"),Ye(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ye(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ke(this):this.bb())},t.bb=function(){Ke(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Xe(this)?this.g.status:-1}catch(zt){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(zt){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Ze.prototype).la=8,t.G=1,t.connect=function(t,e,n,i){Tt(0),this.W=t,this.H=e||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=vn(this,null,this.W),rn(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new Ot(this,this.j,t);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=an(this,r,e),ge(n=de(this.I),"RID",t),ge(n,"CVER",22),this.D&&ge(n,"X-HTTP-Session-Id",this.D),on(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ue(s)))+"&"+e:this.m&&ze(n,this.m,s)),oe(this.h,r),this.Ua&&ge(n,"TYPE","init"),this.P?(ge(n,"$req",e),ge(n,"SID","null"),r.T=!0,Bt(r,n,null)):Bt(r,n,e),this.G=2}}else 3==this.G&&(t?sn(this,t):0==this.i.length||ie(this.h)||sn(this))},t.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),en(this),hn(this))},t.Za=function(){null!=this.C&&(this.C=null,en(this),cn(this),Tt(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=bn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},xn.prototype.g=function(t,e){return new wn(t,e)},h(wn,nt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){tn(this.g)},wn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new ee(e.Ya++,t)),3==e.G&&rn(e)},wn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,wn.aa.N.call(this)},h(_n,yt),h(Sn,bt),h(kn,bn),kn.prototype.ua=function(){it(this.g,"a")},kn.prototype.ta=function(t){it(this.g,new _n(t))},kn.prototype.sa=function(t){it(this.g,new Sn)},kn.prototype.ra=function(){it(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Pa=Da.createWebChannelTransport=function(){return new xn},Na=Da.getStatEventTarget=function(){return _t()},Ia=Da.Event=xt,Ca=Da.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,Ta=Da.ErrorCode=Dt,Mt.COMPLETE="complete",Ea=Da.EventType=Mt,gt.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,ka=Da.WebChannel=gt,Da.FetchXmlHttpFactory=Oe,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Sa=Da.XhrIo=Be}).apply("undefined"!==typeof Aa?Aa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ma="@firebase/firestore";class Ra{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");let Oa="10.14.0";const ja=new Ln("@firebase/firestore");function La(){return ja.logLevel}function Fa(t){if(ja.logLevel<=Dn.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(za);ja.debug("Firestore (".concat(Oa,"): ").concat(t),...r)}}function Va(t){if(ja.logLevel<=Dn.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(za);ja.error("Firestore (".concat(Oa,"): ").concat(t),...r)}}function Ua(t){if(ja.logLevel<=Dn.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(za);ja.warn("Firestore (".concat(Oa,"): ").concat(t),...r)}}function za(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(Vt){return t}}function Ba(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(Oa,") INTERNAL ASSERTION FAILED: ")+t;throw Va(e),new Error(e)}function Ha(t,e){t||Ba()}function Wa(t,e){return t}const qa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ga extends mn{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ka{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Ya{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class Qa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ra.UNAUTHENTICATED))}shutdown(){}}class Xa{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class $a{constructor(t){this.t=t,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ha(void 0===this.o);let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new Ka;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ka,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const e=r;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},o=t=>{Fa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(t=>o(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Fa("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ka)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Fa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Ha("string"==typeof e.accessToken),new Ya(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ha(null===t||"string"==typeof t),new Ra(t)}}class Ja{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Za{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new Ja(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ra.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tl{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class el{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Ha(void 0===this.o);const n=t=>{null!=t.error&&Fa("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,Fa("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const i=t=>{Fa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(t=>i(t)),setTimeout(()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?i(t):Fa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(Ha("string"==typeof t.token),this.R=t.token,new tl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nl(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class il{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=nl(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62))}return n}}function rl(t,e){return t<e?-1:t>e?1:0}function sl(t,e,n){return t.length===e.length&&t.every((t,i)=>n(t,e[i]))}class ol{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ga(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ga(qa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ga(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ga(qa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ol.fromMillis(Date.now())}static fromDate(t){return ol.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new ol(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?rl(this.nanoseconds,t.nanoseconds):rl(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class al{constructor(t){this.timestamp=t}static fromTimestamp(t){return new al(t)}static min(){return new al(new ol(0,0))}static max(){return new al(new ol(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ll{constructor(t,e,n){void 0===e?e=0:e>t.length&&Ba(),void 0===n?n=t.length-e:n>t.length-e&&Ba(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===ll.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ll?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class cl extends ll{construct(t,e,n){return new cl(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Ga(qa.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter(t=>t.length>0))}return new cl(t)}static emptyPath(){return new cl([])}}const ul=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hl extends ll{construct(t,e,n){return new hl(t,e,n)}static isValidIdentifier(t){return ul.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hl.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hl(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Ga(qa.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Ga(qa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Ga(qa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Ga(qa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hl(e)}static emptyPath(){return new hl([])}}class dl{constructor(t){this.path=t}static fromPath(t){return new dl(cl.fromString(t))}static fromName(t){return new dl(cl.fromString(t).popFirst(5))}static empty(){return new dl(cl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===cl.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return cl.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dl(new cl(t.slice()))}}class fl{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}fl.UNKNOWN_ID=-1;function pl(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=al.fromTimestamp(1e9===i?new ol(n+1,0):new ol(n,i));return new gl(r,dl.empty(),e)}function ml(t){return new gl(t.readTime,t.key,-1)}class gl{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new gl(al.min(),dl.empty(),-1)}static max(){return new gl(al.max(),dl.empty(),-1)}}function vl(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=dl.comparator(t.documentKey,e.documentKey),0!==n?n:rl(t.largestBatchId,e.largestBatchId))}const yl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}async function xl(t){if(t.code!==qa.FAILED_PRECONDITION||t.message!==yl)throw t;Fa("LocalStore","Unexpectedly lost primary lease")}class wl{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ba(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new wl((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof wl?e:wl.resolve(e)}catch(t){return wl.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):wl.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):wl.reject(e)}static resolve(t){return new wl((e,n)=>{e(t)})}static reject(t){return new wl((e,n)=>{n(t)})}static waitFor(t){return new wl((e,n)=>{let i=0,r=0,s=!1;t.forEach(t=>{++i,t.next(()=>{++r,s&&r===i&&e()},t=>n(t))}),s=!0,r===i&&e()})}static or(t){let e=wl.resolve(!1);for(const n of t)e=e.next(t=>t?wl.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,i)=>{n.push(e.call(this,t,i))}),this.waitFor(n)}static mapArray(t,e){return new wl((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next(t=>{s[l]=t,++o,o===r&&n(s)},t=>i(t))}})}static doWhile(t,e){return new wl((n,i)=>{const r=()=>{!0===t()?e().next(()=>{r()},i):n()};r()})}}function _l(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return"IndexedDbTransactionError"===t.name}class kl{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function El(t){return null==t}function Tl(t){return 0===t&&1/t==-1/0}function Cl(t){return"number"==typeof t&&Number.isInteger(t)&&!Tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}kl.oe=-1;const Il=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pl=Nl,Al=[...Pl,"indexConfiguration","indexState","indexEntries"];function Dl(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ml(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rl(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ol{constructor(t,e){this.comparator=t,this.root=e||Ll.EMPTY}insert(t,e){return new Ol(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ll.BLACK,null,null))}remove(t){return new Ol(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ll.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push("".concat(e,":").concat(n)),!1)),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jl(this.root,t,this.comparator,!1)}getReverseIterator(){return new jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jl(this.root,t,this.comparator,!0)}}class jl{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ll{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Ll.RED,this.left=null!=i?i:Ll.EMPTY,this.right=null!=r?r:Ll.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Ll(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ll.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Ll.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ll.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ll.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ba();if(this.right.isRed())throw Ba();const t=this.left.check();if(t!==this.right.check())throw Ba();return t+(this.isRed()?0:1)}}Ll.EMPTY=null,Ll.RED=!0,Ll.BLACK=!1,Ll.EMPTY=new class{constructor(){this.size=0}get key(){throw Ba()}get value(){throw Ba()}get color(){throw Ba()}get left(){throw Ba()}get right(){throw Ba()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Ll(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fl{constructor(t){this.comparator=t,this.data=new Ol(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(t){return new Vl(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Fl))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Fl(this.comparator);return e.data=t,e}}class Vl{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ul{constructor(t){this.fields=t,t.sort(hl.comparator)}static empty(){return new Ul([])}unionWith(t){let e=new Fl(hl.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Ul(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sl(this.fields,t.fields,(t,e)=>t.isEqual(e))}}class zl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bl{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new zl("Invalid base64 string: "+t):t}}(t);return new Bl(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Bl(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rl(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Bl.EMPTY_BYTE_STRING=new Bl("");const Hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(t){if(Ha(!!t),"string"==typeof t){let e=0;const n=Hl.exec(t);if(Ha(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ql(t.seconds),nanos:ql(t.nanos)}}function ql(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gl(t){return"string"==typeof t?Bl.fromBase64String(t):Bl.fromUint8Array(t)}function Kl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yl(t){const e=t.mapValue.fields.__previous_value__;return Kl(e)?Yl(e):e}function Ql(t){const e=Wl(t.mapValue.fields.__local_write_time__.timestampValue);return new ol(e.seconds,e.nanos)}class Xl{constructor(t,e,n,i,r,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class $l{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}const Jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kl(t)?4:mc(t)?9007199254740991:fc(t)?10:11:Ba()}function tc(t,e){if(t===e)return!0;const n=Zl(t);if(n!==Zl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Wl(t.timestampValue),i=Wl(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gl(t.bytesValue).isEqual(Gl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ql(t.geoPointValue.latitude)===ql(e.geoPointValue.latitude)&&ql(t.geoPointValue.longitude)===ql(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ql(t.integerValue)===ql(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ql(t.doubleValue),i=ql(e.doubleValue);return n===i?Tl(n)===Tl(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],tc);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Dl(n)!==Dl(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!tc(n[r],i[r])))return!1;return!0}(t,e);default:return Ba()}}function ec(t,e){return void 0!==(t.values||[]).find(t=>tc(t,e))}function nc(t,e){if(t===e)return 0;const n=Zl(t),i=Zl(e);if(n!==i)return rl(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rl(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ql(t.integerValue||t.doubleValue),i=ql(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return ic(t.timestampValue,e.timestampValue);case 4:return ic(Ql(t),Ql(e));case 5:return rl(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Gl(t),i=Gl(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=rl(n[r],i[r]);if(0!==t)return t}return rl(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=rl(ql(t.latitude),ql(e.latitude));return 0!==n?n:rl(ql(t.longitude),ql(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rc(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,i,r,s;const o=t.fields||{},a=e.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(i=a.value)||void 0===i?void 0:i.arrayValue,u=rl((null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:rc(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===Jl.mapValue&&e===Jl.mapValue)return 0;if(t===Jl.mapValue)return 1;if(e===Jl.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=rl(i[o],s[o]);if(0!==t)return t;const e=nc(n[i[o]],r[s[o]]);if(0!==e)return e}return rl(i.length,s.length)}(t.mapValue,e.mapValue);default:throw Ba()}}function ic(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rl(t,e);const n=Wl(t),i=Wl(e),r=rl(n.seconds,i.seconds);return 0!==r?r:rl(n.nanos,i.nanos)}function rc(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=nc(n[r],i[r]);if(t)return t}return rl(n.length,i.length)}function sc(t){return oc(t)}function oc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Wl(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Gl(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return dl.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=oc(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(oc(t.fields[r]));return n+"}"}(t.mapValue):Ba()}function ac(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function lc(t){return!!t&&"integerValue"in t}function cc(t){return!!t&&"arrayValue"in t}function uc(t){return!!t&&"nullValue"in t}function hc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dc(t){return!!t&&"mapValue"in t}function fc(t){var e,n;return"__vector__"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ml(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=pc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mc(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class gc{constructor(t){this.value=t}static empty(){return new gc({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!dc(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=pc(e)}setAll(t){let e=hl.emptyPath(),n={},i=[];t.forEach((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=pc(t):i.push(r.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());dc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return tc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];dc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Ml(e,(e,n)=>t[e]=n);for(const i of n)delete t[i]}clone(){return new gc(pc(this.value))}}function vc(t){const e=[];return Ml(t.fields,(t,n)=>{const i=new hl([t]);if(dc(n)){const t=vc(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)}),new Ul(e)}class yc{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new yc(t,0,al.min(),al.min(),al.min(),gc.empty(),0)}static newFoundDocument(t,e,n,i){return new yc(t,1,e,al.min(),n,i,0)}static newNoDocument(t,e){return new yc(t,2,e,al.min(),al.min(),gc.empty(),0)}static newUnknownDocument(t,e){return new yc(t,3,e,al.min(),al.min(),gc.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(al.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gc.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=al.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yc&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class bc{constructor(t,e){this.position=t,this.inclusive=e}}function xc(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?dl.comparator(dl.fromName(o.referenceValue),n.key):nc(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function wc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tc(t.position[n],e.position[n]))return!1;return!0}class _c{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Sc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class kc{}class Ec extends kc{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Mc(t,e,n):"array-contains"===e?new Lc(t,n):"in"===e?new Fc(t,n):"not-in"===e?new Vc(t,n):"array-contains-any"===e?new Uc(t,n):new Ec(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Rc(t,n):new Oc(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(nc(e,this.value)):null!==e&&Zl(this.value)===Zl(e)&&this.matchesComparison(nc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ba()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tc extends kc{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Tc(t,e)}matches(t){return Cc(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Cc(t){return"and"===t.op}function Ic(t){return Nc(t)&&Cc(t)}function Nc(t){for(const e of t.filters)if(e instanceof Tc)return!1;return!0}function Pc(t){if(t instanceof Ec)return t.field.canonicalString()+t.op.toString()+sc(t.value);if(Ic(t))return t.filters.map(t=>Pc(t)).join(",");{const e=t.filters.map(t=>Pc(t)).join(",");return"".concat(t.op,"(").concat(e,")")}}function Ac(t,e){return t instanceof Ec?function(t,e){return e instanceof Ec&&t.op===e.op&&t.field.isEqual(e.field)&&tc(t.value,e.value)}(t,e):t instanceof Tc?function(t,e){return e instanceof Tc&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,i)=>t&&Ac(n,e.filters[i]),!0)}(t,e):void Ba()}function Dc(t){return t instanceof Ec?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(sc(t.value))}(t):t instanceof Tc?function(t){return t.op.toString()+" {"+t.getFilters().map(Dc).join(" ,")+"}"}(t):"Filter"}class Mc extends Ec{constructor(t,e,n){super(t,e,n),this.key=dl.fromName(n.referenceValue)}matches(t){const e=dl.comparator(t.key,this.key);return this.matchesComparison(e)}}class Rc extends Ec{constructor(t,e){super(t,"in",e),this.keys=jc("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Oc extends Ec{constructor(t,e){super(t,"not-in",e),this.keys=jc("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>dl.fromName(t.referenceValue))}class Lc extends Ec{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return cc(e)&&ec(e.arrayValue,this.value)}}class Fc extends Ec{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ec(this.value.arrayValue,e)}}class Vc extends Ec{constructor(t,e){super(t,"not-in",e)}matches(t){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ec(this.value.arrayValue,e)}}class Uc extends Ec{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!cc(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>ec(this.value.arrayValue,t))}}class zc{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function Bc(t){return new zc(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Hc(t){const e=Wa(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>Pc(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),El(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>sc(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>sc(t)).join(",")),e.ue=t}return e.ue}function Wc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ac(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wc(t.startAt,e.startAt)&&wc(t.endAt,e.endAt)}function qc(t){return dl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Gc{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Kc(t,e,n,i,r,s,o,a){return new Gc(t,e,n,i,r,s,o,a)}function Yc(t){return new Gc(t)}function Qc(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Xc(t){return null!==t.collectionGroup}function $c(t){const e=Wa(t);if(null===e.ce){e.ce=[];const t=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",i=function(t){let e=new Fl(hl.comparator);return t.filters.forEach(t=>{t.getFlattenedFilters().forEach(t=>{t.isInequality()&&(e=e.add(t.field))})}),e}(e);i.forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new _c(i,n))}),t.has(hl.keyField().canonicalString())||e.ce.push(new _c(hl.keyField(),n))}return e.ce}function Jc(t){const e=Wa(t);return e.le||(e.le=Zc(e,$c(t))),e.le}function Zc(t,e){if("F"===t.limitType)return Bc(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(t=>{const e="desc"===t.dir?"asc":"desc";return new _c(t.field,e)});const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return Bc(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function tu(t,e){const n=t.filters.concat([e]);return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eu(t,e,n){return new Gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nu(t,e){return Wc(Jc(t),Jc(e))&&t.limitType===e.limitType}function iu(t){return"".concat(Hc(Jc(t)),"|lt:").concat(t.limitType)}function ru(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map(t=>Dc(t)).join(", "),"]")),El(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map(t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>sc(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>sc(t)).join(",")),"Target(".concat(e,")")}(Jc(t)),"; limitType=").concat(t.limitType,")")}function su(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):dl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of $c(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=xc(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,$c(t),e))&&!(t.endAt&&!function(t,e,n){const i=xc(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,$c(t),e))}(t,e)}function ou(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function au(t){return(e,n)=>{let i=!1;for(const r of $c(t)){const t=lu(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function lu(t,e,n){const i=t.field.isKeyField()?dl.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?nc(i,r):Ba()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ba()}}class cu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ml(this.inner,(e,n)=>{for(const[i,r]of n)t(i,r)})}isEmpty(){return Rl(this.inner)}size(){return this.innerSize}}const uu=new Ol(dl.comparator);function hu(){return uu}const du=new Ol(dl.comparator);function fu(){let t=du;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function pu(t){let e=du;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function mu(){return vu()}function gu(){return vu()}function vu(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const yu=new Ol(dl.comparator),bu=new Fl(dl.comparator);function xu(){let t=bu;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const wu=new Fl(rl);function _u(){return wu}function Su(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(e)?"-0":e}}function ku(t){return{integerValue:""+t}}function Eu(t,e){return Cl(e)?ku(e):Su(t,e)}class Tu{constructor(){this._=void 0}}function Cu(t,e,n){return t instanceof Pu?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Kl(e)&&(e=Yl(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Au?Du(t,e):t instanceof Mu?Ru(t,e):function(t,e){const n=Nu(t,e),i=ju(n)+ju(t.Pe);return lc(n)&&lc(t.Pe)?ku(i):Su(t.serializer,i)}(t,e)}function Iu(t,e,n){return t instanceof Au?Du(t,e):t instanceof Mu?Ru(t,e):n}function Nu(t,e){return t instanceof Ou?function(t){return lc(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Pu extends Tu{}class Au extends Tu{constructor(t){super(),this.elements=t}}function Du(t,e){const n=Lu(e);for(const i of t.elements)n.some(t=>tc(t,i))||n.push(i);return{arrayValue:{values:n}}}class Mu extends Tu{constructor(t){super(),this.elements=t}}function Ru(t,e){let n=Lu(e);for(const i of t.elements)n=n.filter(t=>!tc(t,i));return{arrayValue:{values:n}}}class Ou extends Tu{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function ju(t){return ql(t.integerValue||t.doubleValue)}function Lu(t){return cc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Fu{constructor(t,e){this.field=t,this.transform=e}}class Vu{constructor(t,e){this.version=t,this.transformResults=e}}class Uu{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Uu}static exists(t){return new Uu(void 0,t)}static updateTime(t){return new Uu(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Bu{}function Hu(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Zu(t.key,Uu.none()):new Yu(t.key,t.data,Uu.none());{const n=t.data,i=gc.empty();let r=new Fl(hl.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new Qu(t.key,i,new Ul(r.toArray()),Uu.none())}}function Wu(t,e,n){t instanceof Yu?function(t,e,n){const i=t.value.clone(),r=$u(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Qu?function(t,e,n){if(!zu(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=$u(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Xu(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,i){return t instanceof Yu?function(t,e,n,i){if(!zu(t.precondition,e))return n;const r=t.value.clone(),s=Ju(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof Qu?function(t,e,n,i){if(!zu(t.precondition,e))return n;const r=Ju(t.fieldTransforms,i,e),s=e.data;return s.setAll(Xu(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,i):function(t,e,n){return zu(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Gu(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Nu(i.transform,t||null);null!=r&&(null===n&&(n=gc.empty()),n.set(i.field,r))}return n||null}function Ku(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&sl(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Au&&e instanceof Au||t instanceof Mu&&e instanceof Mu?sl(t.elements,e.elements,tc):t instanceof Ou&&e instanceof Ou?tc(t.Pe,e.Pe):t instanceof Pu&&e instanceof Pu}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yu extends Bu{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qu extends Bu{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Xu(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function $u(t,e,n){const i=new Map;Ha(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Iu(o,a,n[r]))}return i}function Ju(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,Cu(t,s,e))}return i}class Zu extends Bu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class th extends Bu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eh{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&Wu(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=qu(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=qu(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=gu();return this.mutations.forEach(i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=Hu(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(al.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),xu())}isEqual(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,(t,e)=>Ku(t,e))&&sl(this.baseMutations,t.baseMutations,(t,e)=>Ku(t,e))}}class nh{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Ha(t.mutations.length===n.length);let i=yu;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new nh(t,e,n,i)}}class ih{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class rh{constructor(t,e){this.count=t,this.unchangedNames=e}}var sh,oh;function ah(t){switch(t){default:return Ba();case qa.CANCELLED:case qa.UNKNOWN:case qa.DEADLINE_EXCEEDED:case qa.RESOURCE_EXHAUSTED:case qa.INTERNAL:case qa.UNAVAILABLE:case qa.UNAUTHENTICATED:return!1;case qa.INVALID_ARGUMENT:case qa.NOT_FOUND:case qa.ALREADY_EXISTS:case qa.PERMISSION_DENIED:case qa.FAILED_PRECONDITION:case qa.ABORTED:case qa.OUT_OF_RANGE:case qa.UNIMPLEMENTED:case qa.DATA_LOSS:return!0}}function lh(t){if(void 0===t)return Va("GRPC error has no .code"),qa.UNKNOWN;switch(t){case sh.OK:return qa.OK;case sh.CANCELLED:return qa.CANCELLED;case sh.UNKNOWN:return qa.UNKNOWN;case sh.DEADLINE_EXCEEDED:return qa.DEADLINE_EXCEEDED;case sh.RESOURCE_EXHAUSTED:return qa.RESOURCE_EXHAUSTED;case sh.INTERNAL:return qa.INTERNAL;case sh.UNAVAILABLE:return qa.UNAVAILABLE;case sh.UNAUTHENTICATED:return qa.UNAUTHENTICATED;case sh.INVALID_ARGUMENT:return qa.INVALID_ARGUMENT;case sh.NOT_FOUND:return qa.NOT_FOUND;case sh.ALREADY_EXISTS:return qa.ALREADY_EXISTS;case sh.PERMISSION_DENIED:return qa.PERMISSION_DENIED;case sh.FAILED_PRECONDITION:return qa.FAILED_PRECONDITION;case sh.ABORTED:return qa.ABORTED;case sh.OUT_OF_RANGE:return qa.OUT_OF_RANGE;case sh.UNIMPLEMENTED:return qa.UNIMPLEMENTED;case sh.DATA_LOSS:return qa.DATA_LOSS;default:return Ba()}}(oh=sh||(sh={}))[oh.OK=0]="OK",oh[oh.CANCELLED=1]="CANCELLED",oh[oh.UNKNOWN=2]="UNKNOWN",oh[oh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oh[oh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oh[oh.NOT_FOUND=5]="NOT_FOUND",oh[oh.ALREADY_EXISTS=6]="ALREADY_EXISTS",oh[oh.PERMISSION_DENIED=7]="PERMISSION_DENIED",oh[oh.UNAUTHENTICATED=16]="UNAUTHENTICATED",oh[oh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oh[oh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oh[oh.ABORTED=10]="ABORTED",oh[oh.OUT_OF_RANGE=11]="OUT_OF_RANGE",oh[oh.UNIMPLEMENTED=12]="UNIMPLEMENTED",oh[oh.INTERNAL=13]="INTERNAL",oh[oh.UNAVAILABLE=14]="UNAVAILABLE",oh[oh.DATA_LOSS=15]="DATA_LOSS";let ch=null;function uh(){return new TextEncoder}const hh=new ba([4294967295,4294967295],0);function dh(t){const e=uh().encode(t),n=new xa;return n.update(e),new Uint8Array(n.digest())}function fh(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ba([n,i],0),new ba([r,s],0)]}class ph{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new mh("Invalid padding: ".concat(e));if(n<0)throw new mh("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new mh("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new mh("Invalid padding when bitmap length is 0: ".concat(e));this.Ie=8*t.length-e,this.Te=ba.fromNumber(this.Ie)}Ee(t,e,n){let i=t.add(e.multiply(ba.fromNumber(n)));return 1===i.compare(hh)&&(i=new ba([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=dh(t),[n,i]=fh(e);for(let r=0;r<this.hashCount;r++){const t=this.Ee(n,i,r);if(!this.de(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new ph(r,i,e);return n.forEach(t=>s.insert(t)),s}insert(t){if(0===this.Ie)return;const e=dh(t),[n,i]=fh(e);for(let r=0;r<this.hashCount;r++){const t=this.Ee(n,i,r);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,vh.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new gh(al.min(),i,new Ol(rl),hu(),xu())}}class vh{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new vh(n,e,xu(),xu(),xu())}}class yh{constructor(t,e,n,i){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=i}}class bh{constructor(t,e){this.targetId=t,this.me=e}}class xh{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class wh{constructor(){this.fe=0,this.ge=kh(),this.pe=Bl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=xu(),e=xu(),n=xu();return this.ge.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Ba()}}),new vh(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=kh()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ha(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _h{constructor(t){this.Le=t,this.Be=new Map,this.ke=hu(),this.qe=Sh(),this.Qe=new Ol(rl)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:Ba()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((t,n)=>{this.ze(n)&&e(n)})}He(t){const e=t.targetId,n=t.me.count,i=this.Je(e);if(i){const r=i.target;if(qc(r))if(0===n){const t=new dl(r.path);this.Ue(e,t,yc.newNoDocument(t,al.min()))}else Ha(1===n);else{const i=this.Ye(e);if(i!==n){const n=this.Ze(t),r=n?this.Xe(n,t,i):1;if(0!==r){this.je(e);const t=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,t)}null==ch||ch.et(function(t,e,n,i,r){var s,o,a,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==i?void 0:i.mightContain(t))&&void 0!==e&&e}}),h}(i,t.me,this.Le.tt(),n,r))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=e;let s,o;try{s=Gl(n).toUint8Array()}catch(t){if(t instanceof zl)return Ua("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new ph(s,i,r)}catch(t){return Ua(t instanceof mh?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Ie?null:o}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let i=0;return n.forEach(n=>{const r=this.Le.tt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.mightContain(s)||(this.Ue(e,n,null),i++)}),i}rt(t){const e=new Map;this.Be.forEach((n,i)=>{const r=this.Je(i);if(r){if(n.current&&qc(r.target)){const e=new dl(r.target.path);null!==this.ke.get(e)||this.it(i,e)||this.Ue(i,e,yc.newNoDocument(e,t))}n.be&&(e.set(i,n.ve()),n.Ce())}});let n=xu();this.qe.forEach((t,e)=>{let i=!0;e.forEachWhile(t=>{const e=this.Je(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)}),i&&(n=n.add(t))}),this.ke.forEach((e,n)=>n.setReadTime(t));const i=new gh(t,e,this.Qe,this.ke,n);return this.ke=hu(),this.qe=Sh(),this.Qe=new Ol(rl),i}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new wh,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Fl(rl),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Fa("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new wh),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Sh(){return new Ol(dl.comparator)}function kh(){return new Ol(dl.comparator)}const Eh={asc:"ASCENDING",desc:"DESCENDING"},Th={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ch={and:"AND",or:"OR"};class Ih{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Nh(t,e){return t.useProto3Json||El(e)?e:{value:e}}function Ph(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ah(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dh(t,e){return Ph(t,e.toTimestamp())}function Mh(t){return Ha(!!t),al.fromTimestamp(function(t){const e=Wl(t);return new ol(e.seconds,e.nanos)}(t))}function Rh(t,e){return Oh(t,e).canonicalString()}function Oh(t,e){const n=function(t){return new cl(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function jh(t){const e=cl.fromString(t);return Ha(nd(e)),e}function Lh(t,e){return Rh(t.databaseId,e.path)}function Fh(t,e){const n=jh(e);if(n.get(1)!==t.databaseId.projectId)throw new Ga(qa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ga(qa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new dl(Bh(n))}function Vh(t,e){return Rh(t.databaseId,e)}function Uh(t){const e=jh(t);return 4===e.length?cl.emptyPath():Bh(e)}function zh(t){return new cl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bh(t){return Ha(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Hh(t,e,n){return{name:Lh(t,e),fields:n.value.mapValue.fields}}function Wh(t,e){let n;if(e instanceof Yu)n={update:Hh(t,e.key,e.value)};else if(e instanceof Zu)n={delete:Lh(t,e.key)};else if(e instanceof Qu)n={update:Hh(t,e.key,e.data),updateMask:ed(e.fieldMask)};else{if(!(e instanceof th))return Ba();n={verify:Lh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Pu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Au)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ou)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw Ba()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Dh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ba()}(t,e.precondition)),n}function qh(t,e){return{documents:[Vh(t,e.path)]}}function Gh(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Vh(t,r);const s=function(t){if(0!==t.length)return td(Tc.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:Jh(t.field),direction:Qh(t.dir)}}(t))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nh(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{_t:n,parent:r}}function Kh(t){let e=Uh(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ha(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=Yh(t);return e instanceof Tc&&Ic(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map(t=>function(t){return new _c(Zh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,El(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new bc(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new bc(n,e)}(n.endAt)),Kc(e,r,o,s,a,"F",l,c)}function Yh(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Zh(t.unaryFilter.field);return Ec.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Zh(t.unaryFilter.field);return Ec.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zh(t.unaryFilter.field);return Ec.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Zh(t.unaryFilter.field);return Ec.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ba()}}(t):void 0!==t.fieldFilter?function(t){return Ec.create(Zh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ba()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Tc.create(t.compositeFilter.filters.map(t=>Yh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ba()}}(t.compositeFilter.op))}(t):Ba()}function Qh(t){return Eh[t]}function Xh(t){return Th[t]}function $h(t){return Ch[t]}function Jh(t){return{fieldPath:t.canonicalString()}}function Zh(t){return hl.fromServerFormat(t.fieldPath)}function td(t){return t instanceof Ec?function(t){if("=="===t.op){if(hc(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NAN"}};if(uc(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hc(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NOT_NAN"}};if(uc(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jh(t.field),op:Xh(t.op),value:t.value}}}(t):t instanceof Tc?function(t){const e=t.getFilters().map(t=>td(t));return 1===e.length?e[0]:{compositeFilter:{op:$h(t.op),filters:e}}}(t):Ba()}function ed(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class id{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:al.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:al.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new id(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class rd{constructor(t){this.ct=t}}function sd(t){const e=Kh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eu(e,e.limit,"L"):e}class od{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(ql(t.integerValue));else if("doubleValue"in t){const n=ql(t.doubleValue);isNaN(n)?this.dt(e,13):(this.dt(e,15),Tl(n)?e.At(0):e.At(n))}else if("timestampValue"in t){let n=t.timestampValue;this.dt(e,20),"string"==typeof n&&(n=Wl(n)),e.Rt("".concat(n.seconds||"")),e.At(n.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(Gl(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.dt(e,45),e.At(n.latitude||0),e.At(n.longitude||0)}else"mapValue"in t?mc(t)?this.dt(e,Number.MAX_SAFE_INTEGER):fc(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):Ba()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const n=t.fields||{};this.dt(e,55);for(const i of Object.keys(n))this.Vt(i,e),this.Tt(n[i],e)}wt(t,e){var n,i;const r=t.fields||{};this.dt(e,53);const s="value",o=(null===(i=null===(n=r[s].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.length)||0;this.dt(e,15),e.At(ql(o)),this.Vt(s,e),this.Tt(r[s],e)}bt(t,e){const n=t.values||[];this.dt(e,50);for(const i of n)this.Tt(i,e)}yt(t,e){this.dt(e,37),dl.fromName(t).path.forEach(t=>{this.dt(e,60),this.Dt(t,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}od.vt=new od;class ad{constructor(){this.un=new ld}addToCollectionParentIndex(t,e){return this.un.add(e),wl.resolve()}getCollectionParents(t,e){return wl.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return wl.resolve()}deleteFieldIndex(t,e){return wl.resolve()}deleteAllFieldIndexes(t){return wl.resolve()}createTargetIndexes(t,e){return wl.resolve()}getDocumentsMatchingTarget(t,e){return wl.resolve(null)}getIndexType(t,e){return wl.resolve(0)}getFieldIndexes(t,e){return wl.resolve([])}getNextCollectionGroupToUpdate(t){return wl.resolve(null)}getMinOffset(t,e){return wl.resolve(gl.min())}getMinOffsetFromCollectionGroup(t,e){return wl.resolve(gl.min())}updateCollectionGroup(t,e,n){return wl.resolve()}updateIndexEntries(t,e){return wl.resolve()}}class ld{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Fl(cl.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Fl(cl.comparator)).toArray()}}new Uint8Array(0);class cd{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new cd(t,cd.DEFAULT_COLLECTION_PERCENTILE,cd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cd.DEFAULT_COLLECTION_PERCENTILE=10,cd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cd.DEFAULT=new cd(41943040,cd.DEFAULT_COLLECTION_PERCENTILE,cd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cd.DISABLED=new cd(-1,0,0);class ud{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ud(0)}static kn(){return new ud(-1)}}class hd{constructor(){this.changes=new cu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yc.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?wl.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dd{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class fd{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&qu(n.mutation,t,Ul.empty(),ol.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,xu()).next(()=>e))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xu();const i=mu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(t=>{let e=fu();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=mu();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,xu()))}populateOverlays(t,e,n){const i=[];return n.forEach(t=>{e.has(t)||i.push(t)}),this.documentOverlayCache.getOverlays(t,i).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,i){let r=hu();const s=vu(),o=vu();return e.forEach((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof Qu)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),qu(o.mutation,e,o.mutation.getFieldMask(),ol.now())):s.set(e.key,Ul.empty())}),this.recalculateAndSaveOverlays(t,r).next(t=>(t.forEach((t,e)=>s.set(t,e)),e.forEach((t,e)=>{var n;return o.set(t,new dd(e,null!==(n=s.get(t))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(t,e){const n=vu();let i=new Ol((t,e)=>t-e),r=xu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const r of t)r.keys().forEach(t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Ul.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||xu()).add(t);i=i.insert(r.batchId,a)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=gu();l.forEach(t=>{if(!r.has(t)){const i=Hu(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}}),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return wl.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n,i){return function(t){return dl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Xc(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):wl.resolve(mu());let o=-1,a=r;return s.next(e=>wl.forEach(e,(e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?wl.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{a=a.insert(e,t)}))).next(()=>this.populateOverlays(t,e,r)).next(()=>this.computeViews(t,a,e,xu())).next(t=>({batchId:o,changes:pu(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new dl(e)).next(t=>{let e=fu();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const r=e.collectionGroup;let s=fu();return this.indexManager.getCollectionParents(t,r).next(o=>wl.forEach(o,o=>{const a=function(t,e){return new Gc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next(t=>{t.forEach((t,e)=>{s=s.insert(t,e)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i))).next(t=>{r.forEach((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,yc.newInvalidDocument(i)))});let n=fu();return t.forEach((t,i)=>{const s=r.get(t);void 0!==s&&qu(s.mutation,i,Ul.empty(),ol.now()),su(e,i)&&(n=n.insert(t,i))}),n})}}class pd{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return wl.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Mh(t.createTime)}}(e)),wl.resolve()}getNamedQuery(t,e){return wl.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(t){return{name:t.name,query:sd(t.bundledQuery),readTime:Mh(t.readTime)}}(e)),wl.resolve()}}class md{constructor(){this.overlays=new Ol(dl.comparator),this.Ir=new Map}getOverlay(t,e){return wl.resolve(this.overlays.get(e))}getOverlays(t,e){const n=mu();return wl.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,i)=>{this.ht(t,e,i)}),wl.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Ir.get(n);return void 0!==i&&(i.forEach(t=>this.overlays=this.overlays.remove(t)),this.Ir.delete(n)),wl.resolve()}getOverlaysForCollection(t,e,n){const i=mu(),r=e.length+1,s=new dl(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return wl.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Ol((t,e)=>t-e);const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=mu(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=mu(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((t,e)=>o.set(t,e)),!(o.size()>=i)););return wl.resolve(o)}ht(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new ih(e,n));let r=this.Ir.get(e);void 0===r&&(r=xu(),this.Ir.set(e,r)),this.Ir.set(e,r.add(n.key))}}class gd{constructor(){this.sessionToken=Bl.EMPTY_BYTE_STRING}getSessionToken(t){return wl.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,wl.resolve()}}class vd{constructor(){this.Tr=new Fl(yd.Er),this.dr=new Fl(yd.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const n=new yd(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.Vr(new yd(t,e))}mr(t,e){t.forEach(t=>this.removeReference(t,e))}gr(t){const e=new dl(new cl([])),n=new yd(e,t),i=new yd(e,t+1),r=[];return this.dr.forEachInRange([n,i],t=>{this.Vr(t),r.push(t.key)}),r}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new dl(new cl([])),n=new yd(e,t),i=new yd(e,t+1);let r=xu();return this.dr.forEachInRange([n,i],t=>{r=r.add(t.key)}),r}containsKey(t){const e=new yd(t,0),n=this.Tr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class yd{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return dl.comparator(t.key,e.key)||rl(t.wr,e.wr)}static Ar(t,e){return rl(t.wr,e.wr)||dl.comparator(t.key,e.key)}}class bd{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Fl(yd.Er)}checkEmpty(t){return wl.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new eh(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new yd(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return wl.resolve(s)}lookupMutationBatch(t,e){return wl.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.vr(n),r=i<0?0:i;return wl.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return wl.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return wl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new yd(e,0),i=new yd(e,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([n,i],t=>{const e=this.Dr(t.wr);r.push(e)}),wl.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Fl(rl);return e.forEach(t=>{const e=new yd(t,0),i=new yd(t,Number.POSITIVE_INFINITY);this.br.forEachInRange([e,i],t=>{n=n.add(t.wr)})}),wl.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;dl.isDocumentKey(r)||(r=r.child(""));const s=new yd(new dl(r),0);let o=new Fl(rl);return this.br.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.wr)),!0)},s),wl.resolve(this.Cr(o))}Cr(t){const e=[];return t.forEach(t=>{const n=this.Dr(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){Ha(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return wl.forEach(e.mutations,i=>{const r=new yd(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){const n=new yd(e,0),i=this.br.firstAfterOrEqual(n);return wl.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,wl.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class xd{constructor(t){this.Mr=t,this.docs=new Ol(dl.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return wl.resolve(n?n.document.mutableCopy():yc.newInvalidDocument(e))}getEntries(t,e){let n=hu();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():yc.newInvalidDocument(t))}),wl.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=hu();const s=e.path,o=new dl(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||vl(ml(o),n)<=0||(i.has(o.key)||su(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return wl.resolve(r)}getAllFromCollectionGroup(t,e,n,i){Ba()}Or(t,e){return wl.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new wd(this)}getSize(t){return wl.resolve(this.size)}}class wd extends hd{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),wl.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class _d{constructor(t){this.persistence=t,this.Nr=new cu(t=>Hc(t),Wc),this.lastRemoteSnapshotVersion=al.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vd,this.targetCount=0,this.kr=ud.Bn()}forEachTarget(t,e){return this.Nr.forEach((t,n)=>e(n)),wl.resolve()}getLastRemoteSnapshotVersion(t){return wl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return wl.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),wl.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),wl.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new ud(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,wl.resolve()}updateTargetData(t,e){return this.Kn(e),wl.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,wl.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Nr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),wl.waitFor(r).next(()=>i)}getTargetCount(t){return wl.resolve(this.targetCount)}getTargetData(t,e){const n=this.Nr.get(e)||null;return wl.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),wl.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(e=>{r.push(i.markPotentiallyOrphaned(t,e))}),wl.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),wl.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Br.yr(e);return wl.resolve(n)}containsKey(t,e){return wl.resolve(this.Br.containsKey(e))}}class Sd{constructor(t,e){this.qr={},this.overlays={},this.Qr=new kl(0),this.Kr=!1,this.Kr=!0,this.$r=new gd,this.referenceDelegate=t(this),this.Ur=new _d(this),this.indexManager=new ad,this.remoteDocumentCache=function(t){return new xd(t)}(t=>this.referenceDelegate.Wr(t)),this.serializer=new rd(e),this.Gr=new pd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new md,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new bd(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){Fa("MemoryPersistence","Starting transaction:",t);const i=new kd(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(t=>this.referenceDelegate.jr(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}Hr(t,e){return wl.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}}class kd extends bl{constructor(t){super(),this.currentSequenceNumber=t}}class Ed{constructor(t){this.persistence=t,this.Jr=new vd,this.Yr=null}static Zr(t){return new Ed(t)}get Xr(){if(this.Yr)return this.Yr;throw Ba()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),wl.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),wl.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),wl.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(t=>this.Xr.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.Xr.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wl.forEach(this.Xr,n=>{const i=dl.fromPath(n);return this.ei(t,i).next(t=>{t||e.removeEntry(i,al.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(t=>{t?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return wl.or([()=>wl.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class Td{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=i}static Wi(t,e){let n=xu(),i=xu();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Td(t,e.fromCache,n,i)}}class Cd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Id{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=dn()?8:_l(un())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,i){const r={result:null};return this.Yi(t,e).next(t=>{r.result=t}).next(()=>{if(!r.result)return this.Zi(t,e,i,n).next(t=>{r.result=t})}).next(()=>{if(r.result)return;const n=new Cd;return this.Xi(t,e,n).next(i=>{if(r.result=i,this.zi)return this.es(t,e,n,i.size)})}).next(()=>r.result)}es(t,e,n,i){return n.documentReadCount<this.ji?(La()<=Dn.DEBUG&&Fa("QueryEngine","SDK will not create cache indexes for query:",ru(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),wl.resolve()):(La()<=Dn.DEBUG&&Fa("QueryEngine","Query:",ru(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(La()<=Dn.DEBUG&&Fa("QueryEngine","The SDK decides to create cache indexes for query:",ru(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jc(e))):wl.resolve())}Yi(t,e){if(Qc(e))return wl.resolve(null);let n=Jc(e);return this.indexManager.getIndexType(t,n).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=eu(e,null,"F"),n=Jc(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const r=xu(...i);return this.Ji.getDocuments(t,r).next(i=>this.indexManager.getMinOffset(t,n).next(n=>{const s=this.ts(e,i);return this.ns(e,s,r,n.readTime)?this.Yi(t,eu(e,null,"F")):this.rs(t,s,e,n)}))})))}Zi(t,e,n,i){return Qc(e)||i.isEqual(al.min())?wl.resolve(null):this.Ji.getDocuments(t,n).next(r=>{const s=this.ts(e,r);return this.ns(e,s,n,i)?wl.resolve(null):(La()<=Dn.DEBUG&&Fa("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ru(e)),this.rs(t,s,e,pl(i,-1)).next(t=>t))})}ts(t,e){let n=new Fl(au(t));return e.forEach((e,i)=>{su(t,i)&&(n=n.add(i))}),n}ns(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Xi(t,e,n){return La()<=Dn.DEBUG&&Fa("QueryEngine","Using full collection scan to execute query:",ru(e)),this.Ji.getDocumentsMatchingQuery(t,e,gl.min(),n)}rs(t,e,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}class Nd{constructor(t,e,n,i){this.persistence=t,this.ss=e,this.serializer=i,this.os=new Ol(rl),this._s=new cu(t=>Hc(t),Wc),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function Pd(t,e,n,i){return new Nd(t,e,n,i)}async function Ad(t,e){const n=Wa(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next(r=>(i=r,n.ls(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const r=[],s=[];let o=xu();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next(t=>({hs:t,removedBatchIds:r,addedBatchIds:s}))})})}function Dd(t){const e=Wa(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Md(t,e,n){let i=xu(),r=xu();return n.forEach(t=>i=i.add(t)),e.getEntries(t,i).next(t=>{let i=hu();return n.forEach((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(al.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):Fa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Ps:i,Is:r}})}function Rd(t,e){const n=Wa(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function Od(t,e){const n=Wa(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.Ur.getTargetData(t,e).next(r=>r?(i=r,wl.resolve(i)):n.Ur.allocateTargetId(t).next(r=>(i=new id(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Ur.addTargetData(t,i).next(()=>i))))}).then(t=>{const i=n.os.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(t.targetId,t),n._s.set(e,t.targetId)),t})}async function jd(t,e,n){const i=Wa(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,t=>i.persistence.referenceDelegate.removeTarget(t,r))}catch(t){if(!Sl(t))throw t;Fa("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.os=i.os.remove(e),i._s.delete(r.target)}function Ld(t,e,n){const i=Wa(t);let r=al.min(),s=xu();return i.persistence.runTransaction("Execute query","readwrite",t=>function(t,e,n){const i=Wa(t),r=i._s.get(n);return void 0!==r?wl.resolve(i.os.get(r)):i.Ur.getTargetData(e,n)}(i,t,Jc(e)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>i.ss.getDocumentsMatchingQuery(t,e,n?r:al.min(),n?s:xu())).next(t=>(Fd(i,ou(e),t),{documents:t,Ts:s})))}function Fd(t,e,n){let i=t.us.get(e)||al.min();n.forEach((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)}),t.us.set(e,i)}class Vd{constructor(){this.activeTargetIds=_u()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ud{constructor(){this.so=new Vd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Vd,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zd{_o(t){}shutdown(){}}class Bd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Fa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Fa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hd=null;function Wd(){return null===Hd?Hd=268435456+Math.round(2147483648*Math.random()):Hd++,"0x"+Hd.toString(16)}const qd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gd{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Kd="WebChannelConnection";class Yd extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=e+"://"+t.host,this.vo="projects/".concat(n,"/databases/").concat(i),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}get Fo(){return!1}Mo(t,e,n,i,r){const s=Wd(),o=this.xo(t,e.toUriEncodedString());Fa("RestConnection","Sending RPC '".concat(t,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,i,r),this.No(t,o,a,n).then(e=>(Fa("RestConnection","Received RPC '".concat(t,"' ").concat(s,": "),e),e),e=>{throw Ua("RestConnection","RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",o,"request:",n),e})}Lo(t,e,n,i,r,s){return this.Mo(t,e,n,i,r)}Oo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Oa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}xo(t,e){const n=qd[t];return"".concat(this.Do,"/v1/").concat(e,":").concat(n)}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,i){const r=Wd();return new Promise((s,o)=>{const a=new Sa;a.setWithCredentials(!0),a.listenOnce(Ea.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ta.NO_ERROR:const e=a.getResponseJson();Fa(Kd,"XHR for RPC '".concat(t,"' ").concat(r," received:"),JSON.stringify(e)),s(e);break;case Ta.TIMEOUT:Fa(Kd,"RPC '".concat(t,"' ").concat(r," timed out")),o(new Ga(qa.DEADLINE_EXCEEDED,"Request time out"));break;case Ta.HTTP_ERROR:const n=a.getStatus();if(Fa(Kd,"RPC '".concat(t,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(qa).indexOf(e)>=0?e:qa.UNKNOWN}(e.status);o(new Ga(t,e.message))}else o(new Ga(qa.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ga(qa.UNAVAILABLE,"Connection failed."));break;default:Ba()}}finally{Fa(Kd,"RPC '".concat(t,"' ").concat(r," completed."))}});const l=JSON.stringify(i);Fa(Kd,"RPC '".concat(t,"' ").concat(r," sending request:"),i),a.send(e,"POST",l,n,15)})}Bo(t,e,n){const i=Wd(),r=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Pa(),o=Na(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=r.join("");Fa(Kd,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Gd({Io:e=>{d?Fa(Kd,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(h||(Fa(Kd,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),u.open(),h=!0),Fa(Kd,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),u.send(e))},To:()=>u.close()}),p=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,ka.EventType.OPEN,()=>{d||(Fa(Kd,"RPC '".concat(t,"' stream ").concat(i," transport opened.")),f.yo())}),p(u,ka.EventType.CLOSE,()=>{d||(d=!0,Fa(Kd,"RPC '".concat(t,"' stream ").concat(i," transport closed")),f.So())}),p(u,ka.EventType.ERROR,e=>{d||(d=!0,Ua(Kd,"RPC '".concat(t,"' stream ").concat(i," transport errored:"),e),f.So(new Ga(qa.UNAVAILABLE,"The operation could not be completed")))}),p(u,ka.EventType.MESSAGE,e=>{var n;if(!d){const r=e.data[0];Ha(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Fa(Kd,"RPC '".concat(t,"' stream ").concat(i," received error:"),o);const e=o.status;let n=function(t){const e=sh[t];if(void 0!==e)return lh(e)}(e),r=o.message;void 0===n&&(n=qa.INTERNAL,r="Unknown error status: "+e+" with message "+o.message),d=!0,f.So(new Ga(n,r)),u.close()}else Fa(Kd,"RPC '".concat(t,"' stream ").concat(i," received:"),r),f.bo(r)}}),p(o,Ia.STAT_EVENT,e=>{e.stat===Ca.PROXY?Fa(Kd,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===Ca.NOPROXY&&Fa(Kd,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function Qd(){return"undefined"!=typeof document?document:null}function Xd(t){return new Ih(t,!0)}class $d{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=t,this.timerId=e,this.ko=n,this.qo=i,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,e-n);i>0&&Fa("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Jd{constructor(t,e,n,i,r,s,o,a){this.ui=t,this.Ho=n,this.Jo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $d(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==t?this.t_.reset():e&&e.code===qa.RESOURCE_EXHAUSTED?(Va(e.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===qa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(t=>{let[n,i]=t;this.Yo===e&&this.P_(n,i)},e=>{t(()=>{const t=new Ga(qa.UNKNOWN,"Fetching auth token failed: "+e.message);return this.I_(t)})})}P_(t,e){const n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(t=>{n(()=>this.I_(t))}),this.stream.onMessage(t=>{n(()=>1==++this.e_?this.E_(t):this.onNext(t))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Fa("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(Fa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zd extends Jd{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ba()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Ha(void 0===e||"string"==typeof e),Bl.fromBase64String(e||"")):(Ha(void 0===e||e instanceof Buffer||e instanceof Uint8Array),Bl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?qa.UNKNOWN:lh(t.code);return new Ga(e,t.message||"")}(o);n=new xh(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Fh(t,i.document.name),s=Mh(i.document.updateTime),o=i.document.createTime?Mh(i.document.createTime):al.min(),a=new gc({mapValue:{fields:i.document.fields}}),l=yc.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new yh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Fh(t,i.document),s=i.readTime?Mh(i.readTime):al.min(),o=yc.newNoDocument(r,s),a=i.removedTargetIds||[];n=new yh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Fh(t,i.document),s=i.removedTargetIds||[];n=new yh([],s,r,null)}else{if(!("filter"in e))return Ba();{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,s=new rh(i,r),o=t.targetId;n=new bh(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return al.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?al.min():e.readTime?Mh(e.readTime):al.min()}(t);return this.listener.d_(e,n)}A_(t){const e={};e.database=zh(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=qc(i)?{documents:qh(t,i)}:{query:Gh(t,i)._t},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Ah(t,e.resumeToken);const i=Nh(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(al.min())>0){n.readTime=Ph(t,e.snapshotVersion.toTimestamp());const i=Nh(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ba()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){const e={};e.database=zh(this.serializer),e.removeTarget=t,this.a_(e)}}class tf extends Jd{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Ha(!!t.streamToken),this.lastStreamToken=t.streamToken,Ha(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Ha(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function(t,e){return t&&t.length>0?(Ha(void 0!==e),t.map(t=>function(t,e){let n=t.updateTime?Mh(t.updateTime):Mh(e);return n.isEqual(al.min())&&(n=Mh(e)),new Vu(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Mh(t.commitTime);return this.listener.g_(n,e)}p_(){const t={};t.database=zh(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>Wh(this.serializer,t))};this.a_(e)}}class ef extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ga(qa.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,o]=r;return this.connection.Mo(t,Oh(e,n),i,s,o)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ga(qa.UNKNOWN,t.toString())})}Lo(t,e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Lo(t,Oh(e,n),i,o,a,r)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===qa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ga(qa.UNKNOWN,t.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class nf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Va(e),this.D_=!1):Fa("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class rf{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(t=>{n.enqueueAndForget(async()=>{ff(this)&&(Fa("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Wa(t);e.L_.add(4),await of(e),e.q_.set("Unknown"),e.L_.delete(4),await sf(e)}(this))})}),this.q_=new nf(n,i)}}async function sf(t){if(ff(t))for(const e of t.B_)await e(!0)}async function of(t){for(const e of t.B_)await e(!1)}function af(t,e){const n=Wa(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),df(n)?hf(n):Df(n).r_()&&cf(n,e))}function lf(t,e){const n=Wa(t),i=Df(n);n.N_.delete(e),i.r_()&&uf(n,e),0===n.N_.size&&(i.r_()?i.o_():ff(n)&&n.q_.set("Unknown"))}function cf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(al.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Df(t).A_(e)}function uf(t,e){t.Q_.xe(e),Df(t).R_(e)}function hf(t){t.Q_=new _h({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Df(t).start(),t.q_.v_()}function df(t){return ff(t)&&!Df(t).n_()&&t.N_.size>0}function ff(t){return 0===Wa(t).L_.size}function pf(t){t.Q_=void 0}async function mf(t){t.q_.set("Online")}async function gf(t){t.N_.forEach((e,n)=>{cf(t,e)})}async function vf(t,e){pf(t),df(t)?(t.q_.M_(e),hf(t)):t.q_.set("Unknown")}async function yf(t,e,n){if(t.q_.set("Online"),e instanceof xh&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.N_.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.N_.delete(i),t.Q_.removeTarget(i))}(t,e)}catch(n){Fa("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await bf(t,n)}else if(e instanceof yh?t.Q_.Ke(e):e instanceof bh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(al.min()))try{const e=await Dd(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Q_.rt(e);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.N_.get(i);r&&t.N_.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach((e,n)=>{const i=t.N_.get(e);if(!i)return;t.N_.set(e,i.withResumeToken(Bl.EMPTY_BYTE_STRING,i.snapshotVersion)),uf(t,e);const r=new id(i.target,e,n,i.sequenceNumber);cf(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Fa("RemoteStore","Failed to raise snapshot:",e),await bf(t,e)}}async function bf(t,e,n){if(!Sl(e))throw e;t.L_.add(1),await of(t),t.q_.set("Offline"),n||(n=()=>Dd(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fa("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await sf(t)})}function xf(t,e){return e().catch(n=>bf(t,n,e))}async function wf(t){const e=Wa(t),n=Mf(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_f(e);)try{const t=await Rd(e.localStore,i);if(null===t){0===e.O_.length&&n.o_();break}i=t.batchId,Sf(e,t)}catch(t){await bf(e,t)}kf(e)&&Ef(e)}function _f(t){return ff(t)&&t.O_.length<10}function Sf(t,e){t.O_.push(e);const n=Mf(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kf(t){return ff(t)&&!Mf(t).n_()&&t.O_.length>0}function Ef(t){Mf(t).start()}async function Tf(t){Mf(t).p_()}async function Cf(t){const e=Mf(t);for(const n of t.O_)e.m_(n.mutations)}async function If(t,e,n){const i=t.O_.shift(),r=nh.from(i,e,n);await xf(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await wf(t)}async function Nf(t,e){e&&Mf(t).V_&&await async function(t,e){if(function(t){return ah(t)&&t!==qa.ABORTED}(e.code)){const n=t.O_.shift();Mf(t).s_(),await xf(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await wf(t)}}(t,e),kf(t)&&Ef(t)}async function Pf(t,e){const n=Wa(t);n.asyncQueue.verifyOperationInProgress(),Fa("RemoteStore","RemoteStore received new credentials");const i=ff(n);n.L_.add(3),await of(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await sf(n)}async function Af(t,e){const n=Wa(t);e?(n.L_.delete(2),await sf(n)):e||(n.L_.add(2),await of(n),n.q_.set("Unknown"))}function Df(t){return t.K_||(t.K_=function(t,e,n){const i=Wa(t);return i.w_(),new Zd(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Eo:mf.bind(null,t),Ro:gf.bind(null,t),mo:vf.bind(null,t),d_:yf.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),df(t)?hf(t):t.q_.set("Unknown")):(await t.K_.stop(),pf(t))})),t.K_}function Mf(t){return t.U_||(t.U_=function(t,e,n){const i=Wa(t);return i.w_(),new tf(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Tf.bind(null,t),mo:Nf.bind(null,t),f_:Cf.bind(null,t),g_:If.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await wf(t)):(await t.U_.stop(),t.O_.length>0&&(Fa("RemoteStore","Stopping write stream with ".concat(t.O_.length," pending writes")),t.O_=[]))})),t.U_}class Rf{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new Rf(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ga(qa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(t,e){if(Va("AsyncQueue","".concat(e,": ").concat(t)),Sl(t))return new Ga(qa.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class jf{constructor(t){this.comparator=t?(e,n)=>t(e,n)||dl.comparator(e.key,n.key):(t,e)=>dl.comparator(t.key,e.key),this.keyedMap=fu(),this.sortedSet=new Ol(this.comparator)}static emptySet(t){return new jf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof jf))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new jf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Lf{constructor(){this.W_=new Ol(dl.comparator)}track(t){const e=t.doc.key,n=this.W_.get(e);n?0!==t.type&&3===n.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==n.type?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.W_=this.W_.remove(e):1===t.type&&2===n.type?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):Ba():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}}class Ff{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach(t=>{s.push({type:0,doc:t})}),new Ff(t,e,jf.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class Vf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Uf{constructor(){this.queries=zf(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,e){const n=Wa(t),i=n.queries;n.queries=zf(),i.forEach((t,n)=>{for(const i of n.j_)i.onError(e)})}(this,new Ga(qa.ABORTED,"Firestore shutting down"))}}function zf(){return new cu(t=>iu(t),nu)}async function Bf(t,e){const n=Wa(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new Vf,i=e.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(t){const n=Of(t,"Initialization of query '".concat(ru(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Gf(n)}async function Hf(t,e){const n=Wa(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const t=s.j_.indexOf(e);t>=0&&(s.j_.splice(t,1),0===s.j_.length?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Wf(t,e){const n=Wa(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.j_)t.X_(r)&&(i=!0);e.z_=r}}i&&Gf(n)}function qf(t,e,n){const i=Wa(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function Gf(t){t.Y_.forEach(t=>{t.next()})}var Kf,Yf;(Yf=Kf||(Kf={})).ea="default",Yf.Cache="cache";class Qf{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Ff(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==e;return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}oa(t){t=Ff.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Kf.Cache}}class Xf{constructor(t){this.key=t}}class $f{constructor(t){this.key=t}}class Jf{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xu(),this.mutatedKeys=xu(),this.Aa=au(t),this.Ra=new jf(this.Aa)}get Va(){return this.Ta}ma(t,e){const n=e?e.fa:new Lf,i=e?e.Ra:this.Ra;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,e)=>{const c=i.get(t),u=su(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Ra:s,fa:n,ns:o,mutatedKeys:r}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const r=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ba()}};return n(t)-n(e)}(t.type,e.type)||this.Aa(t.doc,e.doc)),this.pa(n),i=null!=i&&i;const o=e&&!i?this.ya():[],a=0===this.da.size&&this.current&&!i?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new Ff(this.query,t.Ra,r,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=xu(),this.Ra.forEach(t=>{this.Sa(t.key)&&(this.da=this.da.add(t.key))});const e=[];return t.forEach(t=>{this.da.has(t)||e.push(new $f(t))}),this.da.forEach(n=>{t.has(n)||e.push(new Xf(n))}),e}ba(t){this.Ta=t.Ts,this.da=xu();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Ff.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Zf{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class tp{constructor(t){this.key=t,this.va=!1}}class ep{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new cu(t=>iu(t),nu),this.Ma=new Map,this.xa=new Set,this.Oa=new Ol(dl.comparator),this.Na=new Map,this.La=new vd,this.Ba={},this.ka=new Map,this.qa=ud.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function np(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=Sp(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await rp(i,e,n,!0),r}async function ip(t,e){const n=Sp(t);await rp(n,e,!0,!1)}async function rp(t,e,n,i){const r=await Od(t.localStore,Jc(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await sp(t,e,s,"current"===o,r.resumeToken)),t.isPrimaryClient&&n&&af(t.remoteStore,r),a}async function sp(t,e,n,i,r){t.Ka=(e,n,i)=>async function(t,e,n,i){let r=e.view.ma(n);r.ns&&(r=await Ld(t.localStore,e.query,!1).then(t=>{let{documents:n}=t;return e.view.ma(n,r)}));const s=i&&i.targetChanges.get(e.targetId),o=i&&null!=i.targetMismatches.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,s,o);return vp(t,e.targetId,a.wa),a.snapshot}(t,e,n,i);const s=await Ld(t.localStore,e,!0),o=new Jf(e,s.Ts),a=o.ma(s.documents),l=vh.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);vp(t,n,c.wa);const u=new Zf(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function op(t,e,n){const i=Wa(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(t=>!nu(t,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await jd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&lf(i.remoteStore,r.targetId),mp(i,r.targetId)}).catch(xl)):(mp(i,r.targetId),await jd(i.localStore,r.targetId,!0))}async function ap(t,e){const n=Wa(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lf(n.remoteStore,i.targetId))}async function lp(t,e){const n=Wa(t);try{const t=await function(t,e){const n=Wa(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const o=[];e.targetChanges.forEach((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(t,s.removedDocuments,a).next(()=>n.Ur.addMatchingKeys(t,s.addedDocuments,a)));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(Bl.EMPTY_BYTE_STRING,al.min()).withLastLimboFreeSnapshotVersion(al.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(t,c))});let a=hu(),l=xu();if(e.documentUpdates.forEach(i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(Md(t,s,e.documentUpdates).next(t=>{a=t.Ps,l=t.Is})),!i.isEqual(al.min())){const e=n.Ur.getLastRemoteSnapshotVersion(t).next(e=>n.Ur.setTargetsMetadata(t,t.currentSequenceNumber,i));o.push(e)}return wl.waitFor(o).next(()=>s.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,a,l)).next(()=>a)}).then(t=>(n.os=r,t))}(n.localStore,e);e.targetChanges.forEach((t,e)=>{const i=n.Na.get(e);i&&(Ha(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.va=!0:t.modifiedDocuments.size>0?Ha(i.va):t.removedDocuments.size>0&&(Ha(i.va),i.va=!1))}),await xp(n,t,e)}catch(t){await xl(t)}}function cp(t,e,n){const i=Wa(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.Fa.forEach((n,i)=>{const r=i.view.Z_(e);r.snapshot&&t.push(r.snapshot)}),function(t,e){const n=Wa(t);n.onlineState=e;let i=!1;n.queries.forEach((t,n)=>{for(const r of n.j_)r.Z_(e)&&(i=!0)}),i&&Gf(n)}(i.eventManager,e),t.length&&i.Ca.d_(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function up(t,e,n){const i=Wa(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let t=new Ol(dl.comparator);t=t.insert(s,yc.newNoDocument(s,al.min()));const n=xu().add(s),r=new gh(al.min(),new Map,new Ol(rl),t,n);await lp(i,r),i.Oa=i.Oa.remove(s),i.Na.delete(e),bp(i)}else await jd(i.localStore,e,!1).then(()=>mp(i,e,n)).catch(xl)}async function hp(t,e){const n=Wa(t),i=e.batch.batchId;try{const t=await function(t,e){const n=Wa(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const i=e.batch.keys(),r=n.cs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=wl.resolve();return s.forEach(t=>{o=o.next(()=>i.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);Ha(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(e,r))}(n,t,e,r).next(()=>r.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=xu();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,i))})}(n.localStore,e);pp(n,i,null),fp(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xp(n,t)}catch(t){await xl(t)}}async function dp(t,e,n){const i=Wa(t);try{const t=await function(t,e){const n=Wa(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(Ha(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)).next(()=>n.localDocuments.getDocuments(t,i))})}(i.localStore,e);pp(i,e,n),fp(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await xp(i,t)}catch(n){await xl(n)}}function fp(t,e){(t.ka.get(e)||[]).forEach(t=>{t.resolve()}),t.ka.delete(e)}function pp(t,e,n){const i=Wa(t);let r=i.Ba[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function mp(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(e=>{t.La.containsKey(e)||gp(t,e)})}function gp(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(lf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),bp(t))}function vp(t,e,n){for(const i of n)i instanceof Xf?(t.La.addReference(i.key,e),yp(t,i)):i instanceof $f?(Fa("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||gp(t,i.key)):Ba()}function yp(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Fa("SyncEngine","New document in limbo: "+n),t.xa.add(i),bp(t))}function bp(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new dl(cl.fromString(e)),i=t.qa.next();t.Na.set(i,new tp(n)),t.Oa=t.Oa.insert(n,i),af(t.remoteStore,new id(Jc(Yc(n.path)),i,"TargetPurposeLimboResolution",kl.oe))}}async function xp(t,e,n){const i=Wa(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((t,a)=>{o.push(i.Ka(a,e,n).then(t=>{var e;if((t||n)&&i.isPrimaryClient){const r=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(t){r.push(t);const e=Td.Wi(a.targetId,t);s.push(e)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(t,e){const n=Wa(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>wl.forEach(e,e=>wl.forEach(e.$i,i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i)).next(()=>wl.forEach(e.Ui,i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))}catch(t){if(!Sl(t))throw t;Fa("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.os.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.os=n.os.insert(t,r)}}}(i.localStore,s))}async function wp(t,e){const n=Wa(t);if(!n.currentUser.isEqual(e)){Fa("SyncEngine","User change. New user:",e.toKey());const t=await Ad(n.localStore,e);n.currentUser=e,function(t,e){t.ka.forEach(t=>{t.forEach(t=>{t.reject(new Ga(qa.CANCELLED,e))})}),t.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await xp(n,t.hs)}}function _p(t,e){const n=Wa(t),i=n.Na.get(e);if(i&&i.va)return xu().add(i.key);{let t=xu();const i=n.Ma.get(e);if(!i)return t;for(const e of i){const i=n.Fa.get(e);t=t.unionWith(i.view.Va)}return t}}function Sp(t){const e=Wa(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_p.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=up.bind(null,e),e.Ca.d_=Wf.bind(null,e.eventManager),e.Ca.$a=qf.bind(null,e.eventManager),e}function kp(t){const e=Wa(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dp.bind(null,e),e}class Ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xd(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return Pd(this.persistence,new Id,t.initialUser,this.serializer)}Ga(t){return new Sd(Ed.Zr,this.serializer)}Wa(t){return new Ud}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ep.provider={build:()=>new Ep};class Tp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>cp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=wp.bind(null,this.syncEngine),await Af(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Uf}createDatastore(t){const e=Xd(t.databaseInfo.databaseId),n=function(t){return new Yd(t)}(t.databaseInfo);return function(t,e,n,i){return new ef(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,i,r){return new rf(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,t=>cp(this.syncEngine,t,0),Bd.D()?new Bd:new zd)}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new ep(t,e,n,i,r,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=Wa(t);Fa("RemoteStore","RemoteStore shutting down."),e.L_.add(5),await of(e),e.k_.shutdown(),e.q_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}Tp.provider={build:()=>new Tp};class Cp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Va("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class Ip{constructor(t,e,n,i,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Ra.UNAUTHENTICATED,this.clientId=il.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async t=>{Fa("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(Fa("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(Vt){const n=Of(Vt,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function Np(t,e){t.asyncQueue.verifyOperationInProgress(),Fa("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async t=>{i.isEqual(t)||(await Ad(e.localStore,t),i=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ap(t);Fa("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(t=>Pf(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>Pf(e.remoteStore,n)),t._onlineComponents=e}async function Ap(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fa("FirestoreClient","Using user provided OfflineComponentProvider");try{await Np(t,t._uninitializedComponentsProvider._offline)}catch(Vt){const n=Vt;if(!function(t){return"FirebaseError"===t.name?t.code===qa.FAILED_PRECONDITION||t.code===qa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await Np(t,new Ep)}}else Fa("FirestoreClient","Using default OfflineComponentProvider"),await Np(t,new Ep);return t._offlineComponents}async function Dp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fa("FirestoreClient","Using user provided OnlineComponentProvider"),await Pp(t,t._uninitializedComponentsProvider._online)):(Fa("FirestoreClient","Using default OnlineComponentProvider"),await Pp(t,new Tp))),t._onlineComponents}function Mp(t){return Dp(t).then(t=>t.syncEngine)}async function Rp(t){const e=await Dp(t),n=e.eventManager;return n.onListen=np.bind(null,e.syncEngine),n.onUnlisten=op.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ip.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ap.bind(null,e.syncEngine),n}function Op(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Ka;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,i,r){const s=new Cp({next:a=>{s.Za(),e.enqueueAndForget(()=>Hf(t,o));const l=a.docs.has(n);!l&&a.fromCache?r.reject(new Ga(qa.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&i&&"server"===i.source?r.reject(new Ga(qa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(a)},error:t=>r.reject(t)}),o=new Qf(Yc(n.path),s,{includeMetadataChanges:!0,_a:!0});return Bf(t,o)}(await Rp(t),t.asyncQueue,e,n,i)),i.promise}function jp(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Ka;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,i,r){const s=new Cp({next:n=>{s.Za(),e.enqueueAndForget(()=>Hf(t,o)),n.fromCache&&"server"===i.source?r.reject(new Ga(qa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new Qf(n,s,{includeMetadataChanges:!0,_a:!0});return Bf(t,o)}(await Rp(t),t.asyncQueue,e,n,i)),i.promise}function Lp(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Fp=new Map;function Vp(t,e,n){if(!n)throw new Ga(qa.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Up(t){if(!dl.isDocumentKey(t))throw new Ga(qa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function zp(t){if(dl.isDocumentKey(t))throw new Ga(qa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Bp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":Ba()}function Hp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ga(qa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bp(t);throw new Ga(qa.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}function Wp(t,e){if(e<=0)throw new Ga(qa.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}class qp{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Ga(qa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ga(qa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new Ga(qa.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lp(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Ga(qa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new Ga(qa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new Ga(qa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gp{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ga(qa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ga(qa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qp(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Qa;switch(t.type){case"firstParty":return new Za(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ga(qa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Fp.get(t);e&&(Fa("ComponentProvider","Removing Datastore"),Fp.delete(t),e.terminate())}(this),Promise.resolve()}}function Kp(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(t=Hp(t,Gp))._getSettings(),o="".concat(e,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Ra.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[en(JSON.stringify({alg:"none",type:"JWT"})),en(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ga(qa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ra(s)}t._authCredentials=new Xa(new Ya(e,n))}}class Yp{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Yp(this.firestore,t,this._query)}}class Qp{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qp(this.firestore,t,this._key)}}class Xp extends Yp{constructor(t,e,n){super(t,e,Yc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qp(this.firestore,null,new dl(t))}withConverter(t){return new Xp(this.firestore,t,this._path)}}function $p(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Tn(t),Vp("collection","path",e),t instanceof Gp){const n=cl.fromString(e,...i);return zp(n),new Xp(t,null,n)}{if(!(t instanceof Qp||t instanceof Xp))throw new Ga(qa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cl.fromString(e,...i));return zp(n),new Xp(t.firestore,null,n)}}function Jp(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Tn(t),1===arguments.length&&(e=il.newId()),Vp("doc","path",e),t instanceof Gp){const n=cl.fromString(e,...i);return Up(n),new Qp(t,null,new dl(n))}{if(!(t instanceof Qp||t instanceof Xp))throw new Ga(qa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cl.fromString(e,...i));return Up(n),new Qp(t.firestore,t instanceof Xp?t.converter:null,new dl(n))}}class Zp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $d(this,"async_queue_retry"),this.Vu=()=>{const t=Qd();t&&Fa("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()},this.mu=t;const e=Qd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Qd();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Ka;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Ft){if(!Sl(Ft))throw Ft;Fa("AsyncQueue","Operation failed with retryable error: "+Ft)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(t=>{this.Eu=t,this.du=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Va("INTERNAL UNHANDLED ERROR: ",e),t}).then(t=>(this.du=!1,t))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const i=Rf.createAndSchedule(this,t,e,n,t=>this.yu(t));return this.Tu.push(i),i}fu(){this.Eu&&Ba()}verifyOperationInProgress(){}async wu(){let t;do{t=this.mu,await t}while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}class tm extends Gp{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Zp,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zp(t),this._firestoreClient=void 0,await t}}}function em(t){if(t._terminated)throw new Ga(qa.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nm(t),t._firestoreClient}function nm(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new Xl(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Lp(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new Ip(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class im{constructor(t){this._byteString=t}static fromBase64String(t){try{return new im(Bl.fromBase64String(t))}catch(t){throw new Ga(qa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new im(Bl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class rm{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Ga(qa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hl(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sm{constructor(t){this._methodName=t}}class om{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ga(qa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ga(qa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return rl(this._lat,t._lat)||rl(this._long,t._long)}}class am{constructor(t){this._values=(t||[]).map(t=>t)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const lm=/^__.*__$/;class cm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Qu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yu(t,this.data,e,this.fieldTransforms)}}class um{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Qu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function hm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ba()}}class dm{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new dm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Im(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(hm(this.Cu)&&lm.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class fm{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Xd(t)}Qu(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new dm({Cu:t,methodName:e,qu:n,path:hl.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=Xd(t._databaseId);return new fm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mm(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);km("Data must be an object, but it was:",o,i);const a=_m(i,o);let l,c;if(s.merge)l=new Ul(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=Em(e,i,n);if(!o.contains(r))throw new Ga(qa.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));Nm(t,r)||t.push(r)}l=new Ul(t),c=o.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=o.fieldTransforms;return new cm(new gc(a),l,c)}class gm extends sm{_toFieldTransform(t){if(2!==t.Cu)throw 1===t.Cu?t.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):t.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gm}}class vm extends sm{_toFieldTransform(t){return new Fu(t.path,new Pu)}isEqual(t){return t instanceof vm}}function ym(t,e,n,i){const r=t.Qu(1,e,n);km("Data must be an object, but it was:",r,i);const s=[],o=gc.empty();Ml(i,(t,i)=>{const a=Cm(e,t,n);i=Tn(i);const l=r.Nu(a);if(i instanceof gm)s.push(a);else{const t=wm(i,l);null!=t&&(s.push(a),o.set(a,t))}});const a=new Ul(s);return new um(o,a,r.fieldTransforms)}function bm(t,e,n,i,r,s){const o=t.Qu(1,e,n),a=[Em(e,i,n)],l=[r];if(s.length%2!=0)throw new Ga(qa.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Em(e,s[d])),l.push(s[d+1]);const c=[],u=gc.empty();for(let d=a.length-1;d>=0;--d)if(!Nm(c,a[d])){const t=a[d];let e=l[d];e=Tn(e);const n=o.Nu(t);if(e instanceof gm)c.push(t);else{const i=wm(e,n);null!=i&&(c.push(t),u.set(t,i))}}const h=new Ul(c);return new um(u,h,o.fieldTransforms)}function xm(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wm(n,t.Qu(i?4:3,e))}function wm(t,e){if(Sm(t=Tn(t)))return km("Unsupported field value:",e,t),_m(t,e);if(t instanceof sm)return function(t,e){if(!hm(e.Cu))throw e.Bu("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.Bu("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=wm(r,e.Lu(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Tn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Eu(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=ol.fromDate(t);return{timestampValue:Ph(e.serializer,n)}}if(t instanceof ol){const n=new ol(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ph(e.serializer,n)}}if(t instanceof om)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof im)return{bytesValue:Ah(e.serializer,t._byteString)};if(t instanceof Qp){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Bu("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Rh(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof am)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map(t=>{if("number"!=typeof t)throw e.Bu("VectorValues must only contain numeric values.");return Su(e.serializer,t)})}}}}}}(t,e);throw e.Bu("Unsupported field value: ".concat(Bp(t)))}(t,e)}function _m(t,e){const n={};return Rl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ml(t,(t,i)=>{const r=wm(i,e.Mu(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function Sm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ol||t instanceof om||t instanceof im||t instanceof Qp||t instanceof sm||t instanceof am)}function km(t,e,n){if(!Sm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Bp(n);throw"an object"===i?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function Em(t,e,n){if((e=Tn(e))instanceof rm)return e._internalPath;if("string"==typeof e)return Cm(t,e);throw Im("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tm=new RegExp("[~\\*/\\[\\]]");function Cm(t,e,n){if(e.search(Tm)>=0)throw Im("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch(i){throw Im("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Im(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new Ga(qa.INVALID_ARGUMENT,a+t+l)}function Nm(t,e){return t.some(t=>t.isEqual(e))}class Pm{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Qp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Am(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Dm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Am extends Pm{data(){return super.data()}}function Dm(t,e){return"string"==typeof e?Cm(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}function Mm(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ga(qa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rm{}class Om extends Rm{}function jm(t,e){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];e instanceof Rm&&n.push(e),n=n.concat(r),function(t){const e=t.filter(t=>t instanceof Vm).length,n=t.filter(t=>t instanceof Lm).length;if(e>1||e>0&&n>0)throw new Ga(qa.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}class Lm extends Om{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Lm(t,e,n)}_apply(t){const e=this._parse(t);return Gm(t._query,e),new Yp(t.firestore,t.converter,tu(t._query,e))}_parse(t){const e=pm(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ga(qa.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){qm(o,s);const e=[];for(const n of o)e.push(Wm(i,t,n));a={arrayValue:{values:e}}}else a=Wm(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||qm(o,s),a=xm(n,e,o,"in"===s||"not-in"===s);return Ec.create(r,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Fm(t,e,n){const i=e,r=Dm("where",t);return Lm._create(r,i,n)}class Vm extends Rm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Vm(t,e)}_parse(t){const e=this._queryConstraints.map(e=>e._parse(t)).filter(t=>t.getFilters().length>0);return 1===e.length?e[0]:Tc.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)Gm(n,r),n=tu(n,r)}(t._query,e),new Yp(t.firestore,t.converter,tu(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Um extends Om{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Um(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Ga(qa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ga(qa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(e,n)}(t._query,this._field,this._direction);return new Yp(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Gc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function zm(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Dm("orderBy",t);return Um._create(n,e)}class Bm extends Om{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Bm(t,e,n)}_apply(t){return new Yp(t.firestore,t.converter,eu(t._query,this._limit,this._limitType))}}function Hm(t){return Wp("limit",t),Bm._create("limit",t,"F")}function Wm(t,e,n){if("string"==typeof(n=Tn(n))){if(""===n)throw new Ga(qa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xc(e)&&-1!==n.indexOf("/"))throw new Ga(qa.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(cl.fromString(n));if(!dl.isDocumentKey(i))throw new Ga(qa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return ac(t,new dl(i))}if(n instanceof Qp)return ac(t,n._key);throw new Ga(qa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bp(n),"."))}function qm(t,e){if(!Array.isArray(t)||0===t.length)throw new Ga(qa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Gm(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Ga(qa.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new Ga(qa.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Km{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ql(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ba()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ml(t,(t,i)=>{n[t]=this.convertValue(i,e)}),n}convertVectorValue(t){var e,n,i;const r=null===(i=null===(n=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(t=>ql(t.doubleValue));return new am(r)}convertGeoPoint(t){return new om(ql(t.latitude),ql(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Yl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const e=Wl(t);return new ol(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=cl.fromString(t);Ha(nd(n));const i=new $l(n.get(1),n.get(3)),r=new dl(n.popFirst(5));return i.isEqual(e)||Va("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}function Ym(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Qm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xm extends Pm{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new $m(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Dm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class $m extends Xm{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Jm{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Qm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new $m(this._firestore,this._userDataWriter,n.key,n,new Qm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ga(qa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>{const i=new $m(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Qm(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const i=new $m(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Qm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Zm(e.type),doc:i,oldIndex:r,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ba()}}class tg extends Km{constructor(t){super(),this.firestore=t}convertBytes(t){return new im(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qp(this.firestore,null,e)}}function eg(t){t=Hp(t,Yp);const e=Hp(t.firestore,tm),n=em(e),i=new tg(e);return Mm(t._query),jp(n,t._query).then(n=>new Jm(e,i,t,n))}function ng(t,e,n){t=Hp(t,Qp);const i=Hp(t.firestore,tm),r=Ym(t.converter,e,n);return og(i,[mm(pm(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,Uu.none())])}function ig(t,e,n){t=Hp(t,Qp);const i=Hp(t.firestore,tm),r=pm(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(e=Tn(e))||e instanceof rm?bm(r,"updateDoc",t._key,e,n,a):ym(r,"updateDoc",t._key,e),og(i,[s.toMutation(t._key,Uu.exists(!0))])}function rg(t){return og(Hp(t.firestore,tm),[new Zu(t._key,Uu.none())])}function sg(t,e){const n=Hp(t.firestore,tm),i=Jp(t),r=Ym(t.converter,e);return og(n,[mm(pm(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Uu.exists(!1))]).then(()=>i)}function og(t,e){return function(t,e){const n=new Ka;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const i=kp(t);try{const t=await function(t,e){const n=Wa(t),i=ol.now(),r=e.reduce((t,e)=>t.add(e.key),xu());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let a=hu(),l=xu();return n.cs.getEntries(t,r).next(t=>{a=t,a.forEach((t,e)=>{e.isValidDocument()||(l=l.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,a)).next(r=>{s=r;const o=[];for(const t of e){const e=Gu(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Qu(t.key,e,vc(e.value.mapValue),Uu.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)}).next(e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)})}).then(()=>({batchId:o.batchId,changes:pu(s)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Ba[t.currentUser.toKey()];i||(i=new Ol(rl)),i=i.insert(e,n),t.Ba[t.currentUser.toKey()]=i}(i,t.batchId,n),await xp(i,t.changes),await wf(i.remoteStore)}catch(t){const e=Of(t,"Failed to persist write");n.reject(e)}}(await Mp(t),e,n)),n.promise}(em(t),e)}function ag(t,e,n){const i=n.docs.get(e._key),r=new tg(t);return new Xm(t,r,e._key,i,new Qm(n.hasPendingWrites,n.fromCache),e.converter)}function lg(){return new vm("serverTimestamp")}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Oa=t}(Bi),Li(new Cn("firestore",(t,n)=>{let{instanceIdentifier:i,options:r}=n;const s=t.getProvider("app").getImmediate(),o=new tm(new $a(t.getProvider("auth-internal")),new el(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ga(qa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(t.options.projectId,e)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),qi(Ma,"4.7.3",t),qi(Ma,"4.7.3","esm2017")}();qi("firebase","10.14.1","app");const cg="@firebase/installations",ug="0.6.9",hg=1e4,dg="w:".concat(ug),fg="FIS_v2",pg=36e5,mg=new gn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gg(t){return t instanceof mn&&t.code.includes("request-failed")}function vg(t){let{projectId:e}=t;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(e,"/installations")}function yg(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function bg(t,e){const n=(await e.json()).error;return mg.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function xg(t){let{apiKey:e}=t;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function wg(t,e){let{refreshToken:n}=e;const i=xg(t);return i.append("Authorization",function(t){return"".concat(fg," ").concat(t)}(n)),i}async function _g(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Sg(t){return new Promise(e=>{setTimeout(e,t)})}const kg=/^[cdef][\w-]{21}$/;function Eg(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(n=t,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return e.substr(0,22)}(t);return kg.test(e)?e:""}catch(t){return""}}function Tg(t){return"".concat(t.appName,"!").concat(t.appId)}const Cg=new Map;function Ig(t,e){const n=Tg(t);Ng(n,e),function(t,e){const n=Ag();n&&n.postMessage({key:t,fid:e});Dg()}(n,e)}function Ng(t,e){const n=Cg.get(t);if(n)for(const i of n)i(e)}let Pg=null;function Ag(){return!Pg&&"BroadcastChannel"in self&&(Pg=new BroadcastChannel("[Firebase] FID Change"),Pg.onmessage=t=>{Ng(t.data.key,t.data.fid)}),Pg}function Dg(){0===Cg.size&&Pg&&(Pg.close(),Pg=null)}const Mg="firebase-installations-store";let Rg=null;function Og(){return Rg||(Rg=Xn("firebase-installations-database",1,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Mg)}})),Rg}async function jg(t,e){const n=Tg(t),i=(await Og()).transaction(Mg,"readwrite"),r=i.objectStore(Mg),s=await r.get(n);return await r.put(e,n),await i.done,s&&s.fid===e.fid||Ig(t,e.fid),e}async function Lg(t){const e=Tg(t),n=(await Og()).transaction(Mg,"readwrite");await n.objectStore(Mg).delete(e),await n.done}async function Fg(t,e){const n=Tg(t),i=(await Og()).transaction(Mg,"readwrite"),r=i.objectStore(Mg),s=await r.get(n),o=e(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,!o||s&&s.fid===o.fid||Ig(t,o.fid),o}async function Vg(t){let e;const n=await Fg(t.appConfig,n=>{const i=function(t){const e=t||{fid:Eg(),registrationStatus:0};return Bg(e)}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(mg.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t,{fid:r}=e;const s=vg(n),o=xg(n),a=i.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const l={fid:r,authVersion:fg,appId:n.appId,sdkVersion:dg},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await _g(()=>fetch(s,c));if(u.ok){const t=await u.json();return{fid:t.fid||r,registrationStatus:2,refreshToken:t.refreshToken,authToken:yg(t.authToken)}}throw await bg("Create Installation",u)}(t,e);return jg(t.appConfig,n)}catch(Ft){throw gg(Ft)&&409===Ft.customData.serverCode?await Lg(t.appConfig):await jg(t.appConfig,{fid:e.fid,registrationStatus:0}),Ft}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ug(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function Ug(t){let e=await zg(t.appConfig);for(;1===e.registrationStatus;)await Sg(100),e=await zg(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await Vg(t);return n||e}return e}function zg(t){return Fg(t,t=>{if(!t)throw mg.create("installation-not-found");return Bg(t)})}function Bg(t){return 1===(e=t).registrationStatus&&e.registrationTime+hg<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Hg(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t;const r=function(t,e){let{fid:n}=e;return"".concat(vg(t),"/").concat(n,"/authTokens:generate")}(n,e),s=wg(n,e),o=i.getImmediate({optional:!0});if(o){const t=await o.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const a={installation:{sdkVersion:dg,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await _g(()=>fetch(r,l));if(c.ok){return yg(await c.json())}throw await bg("Generate Auth Token",c)}async function Wg(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=await Fg(t.appConfig,i=>{if(!Gg(i))throw mg.create("not-registered");const r=i.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pg}(t)}(r))return i;if(1===r.requestStatus)return e=async function(t,e){let n=await qg(t.appConfig);for(;1===n.authToken.requestStatus;)await Sg(100),n=await qg(t.appConfig);const i=n.authToken;return 0===i.requestStatus?Wg(t,e):i}(t,n),i;{if(!navigator.onLine)throw mg.create("app-offline");const n=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return e=async function(t,e){try{const n=await Hg(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await jg(t.appConfig,i),n}catch(Ft){if(!gg(Ft)||401!==Ft.customData.serverCode&&404!==Ft.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jg(t.appConfig,n)}else await Lg(t.appConfig);throw Ft}}(t,n),n}});return e?await e:i.authToken}function qg(t){return Fg(t,t=>{if(!Gg(t))throw mg.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+hg<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n})}function Gg(t){return void 0!==t&&2===t.registrationStatus}async function Kg(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t;await async function(t){const{registrationPromise:e}=await Vg(t);e&&await e}(n);return(await Wg(n,e)).token}function Yg(t){return mg.create("missing-app-config-values",{valueName:t})}const Qg="installations",Xg=t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Yg("App Configuration");if(!t.name)throw Yg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Fi(e,"heartbeat"),_delete:()=>Promise.resolve()}},$g=t=>{const e=Fi(t.getProvider("app").getImmediate(),Qg).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await Vg(e);return i?i.catch(console.error):Wg(e).catch(console.error),n.fid}(e),getToken:t=>Kg(e,t)}};Li(new Cn(Qg,Xg,"PUBLIC")),Li(new Cn("installations-internal",$g,"PRIVATE")),qi(cg,ug),qi(cg,ug,"esm2017");const Jg="analytics",Zg="https://www.googletagmanager.com/gtag/js",tv=new Ln("@firebase/analytics"),ev=new gn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nv(t){if(!t.startsWith(Zg)){const e=ev.create("invalid-gtag-resource",{gtagURL:t});return tv.warn(e.message),""}return t}function iv(t){return Promise.all(t.map(t=>t.catch(t=>t)))}function rv(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:nv}),i=document.createElement("script"),r="".concat(Zg,"?l=").concat(t,"&id=").concat(e);i.src=n?null===n||void 0===n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function sv(t,e,n,i){return async function(r){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===r){const[i,r]=o;await async function(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=await iv(n);for(const n of t){const t=i.find(t=>t.measurementId===n),r=t&&e[t.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(Ft){tv.error(Ft)}}(t,e,n,i,r)}else if("config"===r){const[r,s]=o;await async function(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const t=(await iv(n)).find(t=>t.measurementId===r);t&&await e[t.appId]}}catch(Ft){tv.error(Ft)}t("config",r,s)}(t,e,n,i,r,s)}else if("consent"===r){const[e,n]=o;t("consent",e,n)}else if("get"===r){const[e,n,i]=o;t("get",e,n,i)}else if("set"===r){const[e]=o;t("set",e)}else t(r,...o)}catch(Ft){tv.error(Ft)}}}const ov=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function av(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function lv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ov,n=arguments.length>2?arguments[2]:void 0;const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw ev.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ev.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new uv;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),cv({appId:i,apiKey:r,measurementId:s},o,a,e)}async function cv(t,e,n){let{throttleEndTimeMillis:i,backoffCount:r}=e,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ov;var o;const{appId:a,measurementId:l}=t;try{await function(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(ev.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(n,i)}catch(Ft){if(l)return tv.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Ft||void 0===Ft?void 0:Ft.message,"]")),{appId:a,measurementId:l};throw Ft}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:av(i)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,r);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw ev.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return s.deleteThrottleMetadata(a),e}catch(Ft){const i=Ft;if(!function(t){if(!(t instanceof mn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i)){if(s.deleteThrottleMetadata(a),l)return tv.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===i||void 0===i?void 0:i.message,"]")),{appId:a,measurementId:l};throw Ft}const c=503===Number(null===(o=null===i||void 0===i?void 0:i.customData)||void 0===o?void 0:o.httpStatus)?En(r,s.intervalMillis,30):En(r,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:r+1};return s.setThrottleMetadata(a,u),tv.debug("Calling attemptFetch again in ".concat(c," millis")),cv(t,u,n,s)}}class uv{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let hv,dv;function fv(t){dv=t}function pv(t){hv=t}async function mv(t,e,n,i,r,s,o){var a;const l=lv(t);l.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&tv.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(t=>tv.error(t)),e.push(l);const c=async function(){if(!fn())return tv.warn(ev.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await pn()}catch(Ft){return tv.warn(ev.create("indexeddb-unavailable",{errorInfo:null===Ft||void 0===Ft?void 0:Ft.toString()}).message),!1}return!0}().then(t=>t?i.getId():void 0),[u,h]=await Promise.all([l,c]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Zg)&&n.src.includes(t))return n;return null})(s)||rv(s,u.measurementId),dv&&(r("consent","default",dv),fv(void 0)),r("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),r("config",u.measurementId,d),hv&&(r("set",hv),pv(void 0)),u.measurementId}class gv{constructor(t){this.app=t}_delete(){return delete vv[this.app.options.appId],Promise.resolve()}}let vv={},yv=[];const bv={};let xv,wv,_v="dataLayer",Sv="gtag",kv=!1;function Ev(){const t=[];if(hn()&&t.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>"(".concat(e+1,") ").concat(t)).join(" "),n=ev.create("invalid-analytics-context",{errorInfo:e});tv.warn(n.message)}}function Tv(t,e,n){Ev();const i=t.options.appId;if(!i)throw ev.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ev.create("no-api-key");tv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=vv[i])throw ev.create("already-exists",{id:i});if(!kv){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_v);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window[i].push(arguments)};return window[r]&&"function"===typeof window[r]&&(s=window[r]),window[r]=sv(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(vv,yv,bv,_v,Sv);wv=t,xv=e,kv=!0}vv[i]=mv(t,yv,bv,e,xv,_v,n);return new gv(t)}function Cv(t,e,n,i){t=Tn(t),async function(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(wv,vv[t.app.options.appId],e,n,i).catch(t=>tv.error(t))}const Iv="@firebase/analytics",Nv="0.10.8";Li(new Cn(Jg,(t,e)=>{let{options:n}=e;return Tv(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Li(new Cn("analytics-internal",function(t){try{const e=t.getProvider(Jg).getImmediate();return{logEvent:(t,n,i)=>Cv(e,t,n,i)}}catch(Ft){throw ev.create("interop-component-reg-failed",{reason:Ft})}},"PRIVATE")),qi(Iv,Nv),qi(Iv,Nv,"esm2017");const Pv=Hi({apiKey:"AIzaSyAIWm0G9AsHdTHFJyUnSuN_Ibg0TG4YfJg",authDomain:"to-do-app-7d77b.firebaseapp.com",projectId:"to-do-app-7d77b",storageBucket:"to-do-app-7d77b.firebasestorage.app",messagingSenderId:"89932471050",appId:"1:89932471050:web:2df3e49046d0a263fb38f3",measurementId:"G-V6P5SLB0GT"}),Av=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi();const e=Fi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Fi(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(yn(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;lr(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:da,persistence:[ko,oo,lo]}),i=ln("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const t=new URL(i,location.origin);if(location.origin===t.origin){const e=(r=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>ga)return;const i=null===e||void 0===e?void 0:e.token;va!==i&&(va=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(t,e,n){Tn(t).beforeAuthStateChanged(e,n)}(n,e,()=>e(n.currentUser)),function(t,e,n,i){Tn(t).onIdTokenChanged(e,n,i)}(n,t=>e(t))}}var r;const s=on("auth");return s&&ks(n,"http://".concat(s)),n}(Pv),Dv=function(t,e){const n="string"==typeof t?t:e||"(default)",i=Fi("object"==typeof t?t:Wi(),"firestore").getImmediate({identifier:n});if(!i._initialized){const t=(t=>{const e=on(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]})("firestore");t&&Kp(i,...t)}return i}(Pv);!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi();t=Tn(t);const e=Fi(t,Jg);e.isInitialized()?e.getImmediate():function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Fi(t,Jg);if(n.isInitialized()){const t=n.getImmediate();if(yn(e,n.getOptions()))return t;throw ev.create("already-initialized")}const i=n.initialize({options:e})}(t)}(Pv);const Mv=new class{constructor(){this.googleProvider=new Bs}async signUp(t,e,n){try{const i=await async function(t,e,n){if(Vi(t.app))return Promise.reject(hr(t));const i=gs(t),r=Ss(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qs),s=await r.catch(e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&eo(t),e}),o=await Gs._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}(Av,t,e);return await no(i.user),await ng(Jp(Dv,"users",i.user.uid),{email:i.user.email,displayName:n||t.split("@")[0],createdAt:new Date,preferences:{pomodoroWorkTime:25,pomodoroShortBreak:5,pomodoroLongBreak:15,dailyGoal:8}}),{success:!0,user:i.user}}catch(i){return{success:!1,error:this.getErrorMessage(i.code)}}}async signIn(t,e){try{const n=await function(t,e,n){return Vi(t.app)?Promise.reject(hr(t)):Zs(Tn(t),Fs.credential(e,n)).catch(async e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&eo(t),e})}(Av,t,e);return{success:!0,user:n.user}}catch(n){return{success:!1,error:this.getErrorMessage(n.code)}}}async signInWithGoogle(){try{const t=await async function(t,e,n){if(Vi(t.app))return Promise.reject(cr(t,"operation-not-supported-in-this-environment"));const i=gs(t);dr(t,e,Vs);const r=Io(i,n);return new Oo(i,"signInViaPopup",e,r).executeNotNull()}(Av,this.googleProvider),e=await function(t){t=Hp(t,Qp);const e=Hp(t.firestore,tm);return Op(em(e),t._key).then(n=>ag(e,t,n))}(Jp(Dv,"users",t.user.uid));return e.exists()||await ng(Jp(Dv,"users",t.user.uid),{email:t.user.email,displayName:t.user.displayName,photoURL:t.user.photoURL,createdAt:new Date,preferences:{pomodoroWorkTime:25,pomodoroShortBreak:5,pomodoroLongBreak:15,dailyGoal:8}}),{success:!0,user:t.user}}catch(t){return{success:!1,error:this.getErrorMessage(t.code)}}}async signOut(){try{return await function(t){return Tn(t).signOut()}(Av),{success:!0}}catch(t){return{success:!1,error:t.message}}}async resetPassword(t){try{return await async function(t,e,n){const i=gs(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&to(i,r,n),await Ss(i,r,"getOobCode",As)}(Av,t),{success:!0}}catch(e){return{success:!1,error:this.getErrorMessage(e.code)}}}onAuthStateChanged(t){return function(t,e,n,i){return Tn(t).onAuthStateChanged(e,n,i)}(Av,t)}getCurrentUser(){return Av.currentUser}getErrorMessage(t){return{"auth/user-not-found":"No user found with this email address.","auth/wrong-password":"Incorrect password.","auth/email-already-in-use":"Email address is already registered.","auth/weak-password":"Password should be at least 6 characters.","auth/invalid-email":"Invalid email address."}[t]||"An error occurred. Please try again."}};var Rv=n(579);const Ov=()=>{const[t,e]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),c=nt();return(0,Rv.jsx)("div",{className:"auth-container",children:(0,Rv.jsxs)("div",{className:"auth-card",children:[(0,Rv.jsxs)("div",{className:"auth-header",children:[(0,Rv.jsx)("h1",{children:"Welcome Back! \ud83d\udc4b"}),(0,Rv.jsx)("p",{children:"Sign in to your productivity dashboard"})]}),(0,Rv.jsxs)("button",{onClick:async()=>{l(!0);const t=await Mv.signInWithGoogle();t.success?($e.success("\ud83c\udf89 Signed in with Google!"),c("/dashboard")):$e.error(t.error),l(!1)},disabled:a,className:"google-signin-btn",children:[(0,Rv.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[(0,Rv.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Rv.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Rv.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Rv.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a?"Signing in...":"Continue with Google"]}),(0,Rv.jsx)("div",{className:"auth-divider",children:(0,Rv.jsx)("span",{children:"or"})}),(0,Rv.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);const i=await Mv.signIn(t,n);i.success?($e.success("\ud83c\udf89 Welcome back!"),c("/dashboard")):$e.error(i.error),o(!1)},className:"auth-form",children:[(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Email Address"}),(0,Rv.jsx)("input",{type:"email",value:t,onChange:t=>e(t.target.value),required:!0,placeholder:"Enter your email",className:"form-input"})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Password"}),(0,Rv.jsx)("input",{type:"password",value:n,onChange:t=>i(t.target.value),required:!0,placeholder:"Enter your password",className:"form-input"})]}),(0,Rv.jsx)("button",{type:"submit",disabled:s,className:"auth-btn primary",children:s?(0,Rv.jsx)("div",{className:"loading-spinner"}):"Sign In"})]}),(0,Rv.jsxs)("div",{className:"auth-links",children:[(0,Rv.jsx)(Nt,{to:"/forgot-password",className:"forgot-link",children:"Forgot Password?"}),(0,Rv.jsxs)("p",{children:["Don't have an account?",(0,Rv.jsx)(Nt,{to:"/signup",className:"signup-link",children:" Create Account"})]})]}),(0,Rv.jsx)("div",{className:"auth-footer",children:(0,Rv.jsxs)("p",{className:"made-by",children:["Made with \u2764\ufe0f by ",(0,Rv.jsx)("strong",{children:"Sayeed"})]})})]})})},jv=()=>{const[t,e]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),f=nt();return(0,Rv.jsx)("div",{className:"auth-container",children:(0,Rv.jsxs)("div",{className:"auth-card",children:[(0,Rv.jsxs)("div",{className:"auth-header",children:[(0,Rv.jsx)("h1",{children:"Create Account \ud83d\ude80"}),(0,Rv.jsx)("p",{children:"Join thousands of productive users"})]}),(0,Rv.jsxs)("button",{onClick:async()=>{d(!0);const t=await Mv.signInWithGoogle();t.success?($e.success("\ud83c\udf89 Account created with Google!"),f("/dashboard")):$e.error(t.error),d(!1)},disabled:h,className:"google-signin-btn",children:[(0,Rv.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[(0,Rv.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Rv.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Rv.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Rv.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h?"Creating account...":"Continue with Google"]}),(0,Rv.jsx)("div",{className:"auth-divider",children:(0,Rv.jsx)("span",{children:"or"})}),(0,Rv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n!==s)return void $e.error("Passwords do not match");if(n.length<6)return void $e.error("Password must be at least 6 characters");u(!0);const i=await Mv.signUp(t,n,a);i.success?($e.success("\ud83c\udf89 Account created! Please check your email for verification."),f("/dashboard")):$e.error(i.error),u(!1)},className:"auth-form",children:[(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Display Name"}),(0,Rv.jsx)("input",{type:"text",value:a,onChange:t=>l(t.target.value),placeholder:"Your name",className:"form-input"})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Email Address"}),(0,Rv.jsx)("input",{type:"email",value:t,onChange:t=>e(t.target.value),required:!0,placeholder:"Enter your email",className:"form-input"})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Password"}),(0,Rv.jsx)("input",{type:"password",value:n,onChange:t=>i(t.target.value),required:!0,placeholder:"Create a password",className:"form-input"})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Confirm Password"}),(0,Rv.jsx)("input",{type:"password",value:s,onChange:t=>o(t.target.value),required:!0,placeholder:"Confirm your password",className:"form-input"})]}),(0,Rv.jsx)("button",{type:"submit",disabled:c,className:"auth-btn primary",children:c?(0,Rv.jsx)("div",{className:"loading-spinner"}):"Create Account"})]}),(0,Rv.jsx)("div",{className:"auth-links",children:(0,Rv.jsxs)("p",{children:["Already have an account?",(0,Rv.jsx)(Nt,{to:"/login",className:"signin-link",children:" Sign In"})]})}),(0,Rv.jsx)("div",{className:"auth-footer",children:(0,Rv.jsxs)("p",{className:"made-by",children:["Made with \u2764\ufe0f by ",(0,Rv.jsx)("strong",{children:"Sayeed"})]})})]})})},Lv=()=>{const[t,e]=(0,r.useState)(""),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1);return(0,Rv.jsx)("div",{className:"auth-container",children:(0,Rv.jsxs)("div",{className:"auth-card",children:[(0,Rv.jsxs)("div",{className:"auth-header",children:[(0,Rv.jsx)("h1",{children:"Reset Password \ud83d\udd10"}),(0,Rv.jsx)("p",{children:"Enter your email to receive a password reset link"})]}),s?(0,Rv.jsxs)("div",{className:"success-message",children:[(0,Rv.jsx)("div",{className:"success-icon",children:"\u2705"}),(0,Rv.jsx)("h3",{children:"Check your email!"}),(0,Rv.jsxs)("p",{children:["We've sent a password reset link to ",(0,Rv.jsx)("strong",{children:t})]}),(0,Rv.jsx)(Nt,{to:"/login",className:"btn btn-primary",children:"Back to Sign In"})]}):(0,Rv.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);const n=await Mv.resetPassword(t);n.success?($e.success("\ud83d\udce7 Password reset email sent!"),o(!0)):$e.error(n.error),i(!1)},className:"auth-form",children:[(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Email Address"}),(0,Rv.jsx)("input",{type:"email",value:t,onChange:t=>e(t.target.value),required:!0,placeholder:"Enter your email",className:"form-input"})]}),(0,Rv.jsx)("button",{type:"submit",disabled:n,className:"auth-btn primary",children:n?(0,Rv.jsx)("div",{className:"loading-spinner"}):"Send Reset Link"})]}),(0,Rv.jsx)("div",{className:"auth-links",children:(0,Rv.jsx)(Nt,{to:"/login",className:"back-link",children:"\u2190 Back to Sign In"})}),(0,Rv.jsx)("div",{className:"auth-footer",children:(0,Rv.jsxs)("p",{className:"made-by",children:["Made with \u2764\ufe0f by ",(0,Rv.jsx)("strong",{children:"Sayeed"})]})})]})})};const Fv=new class{constructor(){this.collection="tasks"}async createTask(t,e){try{return{success:!0,id:(await sg($p(Dv,this.collection),Lt(Lt({},e),{},{userId:t,createdAt:lg(),updatedAt:lg(),status:"pending",pomodoroSessions:[],actualTime:0}))).id}}catch(n){return console.error("Error creating task:",n),{success:!1,error:n.message}}}async getTasks(t){try{const e=jm($p(Dv,this.collection),Fm("userId","==",t),zm("createdAt","desc")),n=await eg(e),i=[];return n.forEach(t=>{var e,n,r;const s=t.data();i.push(Lt(Lt({id:t.id},s),{},{createdAt:null===(e=s.createdAt)||void 0===e?void 0:e.toDate(),updatedAt:null===(n=s.updatedAt)||void 0===n?void 0:n.toDate(),dueDate:null===(r=s.dueDate)||void 0===r?void 0:r.toDate()}))}),i}catch(e){return console.error("Error fetching tasks:",e),[]}}async updateTask(t,e){try{const n=Jp(Dv,this.collection,t);return await ig(n,Lt(Lt({},e),{},{updatedAt:lg()})),{success:!0}}catch(n){return console.error("Error updating task:",n),{success:!1,error:n.message}}}async deleteTask(t){try{return await rg(Jp(Dv,this.collection,t)),{success:!0}}catch(e){return console.error("Error deleting task:",e),{success:!1,error:e.message}}}async getTodayTasks(t){const e=new Date;e.setHours(0,0,0,0);const n=new Date(e);n.setDate(n.getDate()+1);try{const i=jm($p(Dv,this.collection),Fm("userId","==",t),Fm("dueDate",">=",ol.fromDate(e)),Fm("dueDate","<",ol.fromDate(n))),r=await eg(i),s=[];return r.forEach(t=>{var e,n,i;const r=t.data();s.push(Lt(Lt({id:t.id},r),{},{createdAt:null===(e=r.createdAt)||void 0===e?void 0:e.toDate(),updatedAt:null===(n=r.updatedAt)||void 0===n?void 0:n.toDate(),dueDate:null===(i=r.dueDate)||void 0===i?void 0:i.toDate()}))}),s}catch(i){return console.error("Error fetching today tasks:",i),[]}}async addPomodoroSession(t,e){try{const n=Jp(Dv,this.collection,t),i=[...(await this.getTask(t)).pomodoroSessions||[],e],r=i.reduce((t,e)=>t+e.duration,0);return await ig(n,{pomodoroSessions:i,actualTime:r,updatedAt:lg()}),{success:!0}}catch(n){return console.error("Error adding pomodoro session:",n),{success:!1,error:n.message}}}async getTodayPomodoroStats(t){try{const e=await this.getTodayTasks(t);return{completed:e.reduce((t,e)=>{var n;return t+((null===(n=e.pomodoroSessions)||void 0===n?void 0:n.length)||0)},0),total:8}}catch(e){return console.error("Error getting pomodoro stats:",e),{completed:0,total:8}}}};const Vv=new class{constructor(){this.collection="moods"}async logMood(t,e){try{return{success:!0,id:(await sg($p(Dv,this.collection),Lt(Lt({},e),{},{userId:t,createdAt:lg(),date:this.formatDate(new Date)}))).id}}catch(n){return console.error("Error logging mood:",n),{success:!1,error:n.message}}}async getTodayMood(t){try{const e=this.formatDate(new Date),n=jm($p(Dv,this.collection),Fm("userId","==",t),Fm("date","==",e),Hm(1)),i=await eg(n);if(!i.empty){const t=i.docs[0];return Lt({id:t.id},t.data())}return null}catch(e){return console.error("Error fetching today mood:",e),null}}async getMoodHistory(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{const n=jm($p(Dv,this.collection),Fm("userId","==",t),zm("date","desc"),Hm(e)),i=await eg(n),r=[];return i.forEach(t=>{r.push(Lt({id:t.id},t.data()))}),r}catch(n){return console.error("Error fetching mood history:",n),[]}}async updateMood(t,e){try{const n=Jp(Dv,this.collection,t);return await ig(n,Lt(Lt({},e),{},{updatedAt:lg()})),{success:!0}}catch(n){return console.error("Error updating mood:",n),{success:!1,error:n.message}}}formatDate(t){return t.toISOString().split("T")[0]}getMoodEmoji(t){return t>=9?"\ud83d\ude04":t>=7?"\ud83d\ude0a":t>=6?"\ud83d\ude42":t>=4?"\ud83d\ude10":t>=2?"\ud83d\ude15":"\ud83d\ude14"}getMoodColor(t){return t>=8?"#10b981":t>=6?"#f59e0b":t>=4?"#f97316":"#ef4444"}},Uv="118631845378-heds7er6nmd7mqmpsoiie5t6hr84sct9.apps.googleusercontent.com",zv="https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest",Bv="https://www.googleapis.com/auth/calendar.events";const Hv=new class{constructor(){this.gapi=null,this.isInitialized=!1,this.isSignedIn=!1,this.authInstance=null}async init(){return this.isInitialized?Promise.resolve():new Promise((t,e)=>{if(window.gapi)this.initializeGapi(t,e);else{const n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=()=>this.initializeGapi(t,e),n.onerror=()=>e(new Error("Failed to load Google API")),document.head.appendChild(n)}})}initializeGapi(t,e){window.gapi.load("client:auth2",async()=>{try{await window.gapi.client.init({clientId:Uv,discoveryDocs:[zv],scope:Bv}),this.authInstance=window.gapi.auth2.getAuthInstance(),this.isSignedIn=this.authInstance.isSignedIn.get(),this.isInitialized=!0,t()}catch(n){console.error("Error initializing Google API:",n),e(n)}})}async signIn(){if(this.isInitialized||await this.init(),!this.authInstance.isSignedIn.get())try{return await this.authInstance.signIn(),this.isSignedIn=!0,{success:!0}}catch(t){return{success:!1,error:"Failed to sign in to Google Calendar"}}return{success:!0}}async signOut(){this.authInstance&&this.authInstance.isSignedIn.get()&&(await this.authInstance.signOut(),this.isSignedIn=!1)}isCalendarSignedIn(){return this.isSignedIn}async createEvent(t){try{const e=await this.signIn();if(!e.success)return e;const n=new Date(t.dueDate),i=new Date(n.getTime()+6e4*(t.estimatedTime||60)),r={summary:"\ud83d\udccb ".concat(t.title),description:"".concat(t.description,"\n\n\ud83d\udcc2 Category: ").concat(t.category,"\n\ud83d\udd25 Priority: ").concat(t.priority.toUpperCase(),"\n\u23f0 Estimated time: ").concat(t.estimatedTime," minutes\n\n\u2728 Created via Productivity App by Sayeed"),start:{dateTime:n.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:i.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},reminders:{useDefault:!1,overrides:[{method:"popup",minutes:30},{method:"email",minutes:60}]},colorId:this.getPriorityColor(t.priority)},s=await window.gapi.client.calendar.events.insert({calendarId:"primary",resource:r});return{success:!0,eventId:s.result.id,eventLink:s.result.htmlLink}}catch(e){return console.error("Error creating calendar event:",e),{success:!1,error:"Failed to create calendar event"}}}async getUpcomingEvents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{if(!(await this.signIn()).success)return{success:!1,error:"Not signed in to Google Calendar"};return{success:!0,events:(await window.gapi.client.calendar.events.list({calendarId:"primary",timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:t,orderBy:"startTime"})).result.items||[]}}catch(e){return{success:!1,error:"Failed to fetch calendar events"}}}getPriorityColor(t){return{urgent:"11",high:"6",medium:"5",low:"2"}[t]||"1"}},Wv=()=>{const[t,e]=(0,r.useState)(null),[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)({completed:0,total:8}),[c,u]=(0,r.useState)([]),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!0),m=nt();(0,r.useEffect)(()=>{const t=Mv.onAuthStateChanged(t=>{t?(e(t),g(t.uid)):m("/login")});return()=>t()},[m]);const g=async t=>{try{const e=await Fv.getTodayTasks(t);i(e);const n=await Vv.getTodayMood(t);o(n);const r=await Fv.getTodayPomodoroStats(t);l(r),await v(),p(!1)}catch(e){console.error("Error loading dashboard data:",e),p(!1)}},v=async()=>{try{if(Hv.isCalendarSignedIn()){d(!0);const t=await Hv.getUpcomingEvents(5);t.success&&u(t.events)}}catch(t){console.error("Error checking calendar connection:",t)}},y=async()=>{try{(await Hv.signIn()).success?(d(!0),$e.success("\ud83d\udcc5 Google Calendar connected!"),await v()):$e.error("Failed to connect Google Calendar")}catch(t){$e.error("Error connecting to Google Calendar")}};return f?(0,Rv.jsxs)("div",{className:"loading-container",children:[(0,Rv.jsx)("div",{className:"loading-spinner"}),(0,Rv.jsx)("p",{children:"Loading your dashboard..."})]}):(0,Rv.jsxs)("div",{className:"dashboard",children:[(0,Rv.jsxs)("header",{className:"dashboard-header",children:[(0,Rv.jsxs)("div",{className:"user-welcome",children:[(0,Rv.jsx)("h1",{children:(()=>{var e;const n=(new Date).getHours(),i=(null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.split("@")[0]);return n<12?"Good morning, ".concat(i,"! \u2600\ufe0f"):n<18?"Good afternoon, ".concat(i,"! \ud83c\udf24\ufe0f"):"Good evening, ".concat(i,"! \ud83c\udf19")})()}),(0,Rv.jsx)("p",{children:"Ready to crush your goals today?"})]}),(0,Rv.jsx)("div",{className:"header-actions",children:!h&&(0,Rv.jsx)("button",{onClick:y,className:"connect-calendar-btn",children:"\ud83d\udcc5 Connect Calendar"})})]}),(0,Rv.jsxs)("div",{className:"dashboard-grid",children:[(0,Rv.jsxs)("div",{className:"widget tasks-widget",children:[(0,Rv.jsxs)("div",{className:"widget-header",children:[(0,Rv.jsx)("h3",{children:"\ud83d\udccb Today's Tasks"}),(0,Rv.jsx)("div",{className:"widget-icon",children:"\u2705"})]}),(0,Rv.jsxs)("div",{className:"task-summary",children:[(0,Rv.jsxs)("div",{className:"stat",children:[(0,Rv.jsx)("span",{className:"number",children:n.filter(t=>"completed"===t.status).length}),(0,Rv.jsx)("span",{className:"label",children:"Completed"})]}),(0,Rv.jsxs)("div",{className:"stat",children:[(0,Rv.jsx)("span",{className:"number",children:n.length}),(0,Rv.jsx)("span",{className:"label",children:"Total"})]})]}),(0,Rv.jsx)("div",{className:"progress-bar",children:(0,Rv.jsx)("div",{className:"progress-fill",style:{width:"".concat(n.length>0?n.filter(t=>"completed"===t.status).length/n.length*100:0,"%")}})}),(0,Rv.jsx)("button",{onClick:()=>m("/todos"),className:"widget-btn",children:"Manage Tasks"})]}),(0,Rv.jsxs)("div",{className:"widget pomodoro-widget",children:[(0,Rv.jsxs)("div",{className:"widget-header",children:[(0,Rv.jsx)("h3",{children:"\ud83c\udf45 Pomodoro Sessions"}),(0,Rv.jsx)("div",{className:"widget-icon",children:"\u23f1\ufe0f"})]}),(0,Rv.jsxs)("div",{className:"pomodoro-stats",children:[(0,Rv.jsx)("div",{className:"pomodoro-circle",children:(0,Rv.jsxs)("div",{className:"circle-progress",children:[(0,Rv.jsx)("span",{children:a.completed}),(0,Rv.jsxs)("small",{children:["/ ",a.total]})]})}),(0,Rv.jsxs)("div",{className:"pomodoro-info",children:[(0,Rv.jsxs)("p",{children:[25*a.completed," minutes focused"]}),(0,Rv.jsxs)("p",{children:[Math.floor(25*a.completed/60),"h ",25*a.completed%60,"m today"]})]})]}),(0,Rv.jsx)("button",{onClick:()=>m("/pomodoro"),className:"widget-btn",children:"Start Session"})]}),(0,Rv.jsxs)("div",{className:"widget mood-widget",children:[(0,Rv.jsxs)("div",{className:"widget-header",children:[(0,Rv.jsx)("h3",{children:"\ud83d\ude0a Today's Mood"}),(0,Rv.jsx)("div",{className:"widget-icon",children:"\ud83d\udcab"})]}),(0,Rv.jsx)("div",{className:"mood-display",children:s?(0,Rv.jsxs)("div",{className:"mood-score",children:[(0,Rv.jsx)("div",{className:"mood-emoji",children:s.mood>=8?"\ud83d\ude04":s.mood>=6?"\ud83d\ude0a":s.mood>=4?"\ud83d\ude10":"\ud83d\ude14"}),(0,Rv.jsxs)("div",{className:"mood-details",children:[(0,Rv.jsxs)("span",{className:"score",children:[s.mood,"/10"]}),(0,Rv.jsxs)("span",{className:"energy",children:["Energy: ",s.energy,"/10"]})]})]}):(0,Rv.jsxs)("div",{className:"no-mood",children:[(0,Rv.jsx)("span",{className:"mood-emoji",children:"\ud83e\udd14"}),(0,Rv.jsx)("p",{children:"Track your mood today!"})]})}),(0,Rv.jsx)("button",{onClick:()=>m("/mood"),className:"widget-btn",children:"Track Mood"})]}),(0,Rv.jsxs)("div",{className:"widget calendar-widget",children:[(0,Rv.jsxs)("div",{className:"widget-header",children:[(0,Rv.jsx)("h3",{children:"\ud83d\udcc5 Upcoming Events"}),(0,Rv.jsx)("div",{className:"widget-icon",children:h?"\ud83d\udfe2":"\ud83d\udd34"})]}),(0,Rv.jsx)("div",{className:"calendar-content",children:h?c.length>0?(0,Rv.jsx)("div",{className:"events-list",children:c.slice(0,3).map((t,e)=>(0,Rv.jsxs)("div",{className:"event-item",children:[(0,Rv.jsx)("div",{className:"event-title",children:t.summary}),(0,Rv.jsx)("div",{className:"event-time",children:new Date(t.start.dateTime||t.start.date).toLocaleDateString()})]},e))}):(0,Rv.jsx)("p",{children:"No upcoming events"}):(0,Rv.jsxs)("div",{className:"calendar-disconnected",children:[(0,Rv.jsx)("p",{children:"Connect your Google Calendar to see upcoming events"}),(0,Rv.jsx)("button",{onClick:y,className:"connect-btn",children:"Connect Now"})]})})]})]}),(0,Rv.jsxs)("div",{className:"quick-actions",children:[(0,Rv.jsx)("h3",{children:"\u26a1 Quick Actions"}),(0,Rv.jsxs)("div",{className:"action-buttons",children:[(0,Rv.jsx)("button",{onClick:()=>m("/todos"),className:"action-btn add-task",children:"\u2795 Add Task"}),(0,Rv.jsx)("button",{onClick:()=>m("/notes"),className:"action-btn add-note",children:"\ud83d\udcdd Quick Note"}),(0,Rv.jsx)("button",{onClick:()=>m("/pomodoro"),className:"action-btn start-pomodoro",children:"\ud83c\udf45 Start Focus"})]})]})]})},qv=()=>{const[t,e]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)("all"),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)({title:"",description:"",category:"Personal",priority:"medium",subject:"",dueDate:new Date,estimatedTime:60,addToCalendar:!1});(0,r.useEffect)(()=>{m()},[]);const m=async()=>{const t=Mv.getCurrentUser();if(t){const n=await Fv.getTasks(t.uid);e(n)}i(!1)},g=()=>{p({title:"",description:"",category:"Personal",priority:"medium",subject:"",dueDate:new Date,estimatedTime:60,addToCalendar:!1}),l(null),o(!1)},v=t.filter(t=>{var e;const n="all"===c||t.status===c,i=t.title.toLowerCase().includes(h.toLowerCase())||(null===(e=t.description)||void 0===e?void 0:e.toLowerCase().includes(h.toLowerCase()));return n&&i});return n?(0,Rv.jsxs)("div",{className:"loading-container",children:[(0,Rv.jsx)("div",{className:"loading-spinner"}),(0,Rv.jsx)("p",{children:"Loading your tasks..."})]}):(0,Rv.jsxs)("div",{className:"todos-container",children:[(0,Rv.jsxs)("div",{className:"todos-header",children:[(0,Rv.jsxs)("div",{className:"header-left",children:[(0,Rv.jsx)("h1",{children:"\ud83d\udccb Task Management"}),(0,Rv.jsx)("p",{children:"Organize your tasks with categories, priorities, and deadlines"})]}),(0,Rv.jsx)("button",{onClick:()=>o(!0),className:"add-task-btn",children:"\u2795 Add Task"})]}),(0,Rv.jsxs)("div",{className:"todos-filters",children:[(0,Rv.jsx)("div",{className:"filter-buttons",children:["all","pending","in-progress","completed"].map(t=>(0,Rv.jsx)("button",{onClick:()=>u(t),className:"filter-btn ".concat(c===t?"active":""),children:t.charAt(0).toUpperCase()+t.slice(1).replace("-"," ")},t))}),(0,Rv.jsx)("div",{className:"search-box",children:(0,Rv.jsx)("input",{type:"text",placeholder:"Search tasks...",value:h,onChange:t=>d(t.target.value),className:"search-input"})})]}),s&&(0,Rv.jsx)("div",{className:"modal-overlay",children:(0,Rv.jsxs)("div",{className:"modal-content",children:[(0,Rv.jsxs)("div",{className:"modal-header",children:[(0,Rv.jsx)("h2",{children:a?"Edit Task":"Add New Task"}),(0,Rv.jsx)("button",{onClick:g,className:"close-btn",children:"\u2715"})]}),(0,Rv.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const e=Mv.getCurrentUser();if(e)try{let t;if(a)t=await Fv.updateTask(a.id,f),t.success&&$e.success("Task updated successfully!");else if(t=await Fv.createTask(e.uid,f),t.success&&($e.success("Task created successfully!"),f.addToCalendar)){(await Hv.createEvent(Lt(Lt({},f),{},{id:t.id}))).success&&$e.success("\ud83d\udcc5 Added to Google Calendar!")}t.success?(await m(),g()):$e.error(t.error)}catch(n){$e.error("Something went wrong!")}},className:"task-form",children:[(0,Rv.jsx)("div",{className:"form-row",children:(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Task Title *"}),(0,Rv.jsx)("input",{type:"text",value:f.title,onChange:t=>p(Lt(Lt({},f),{},{title:t.target.value})),required:!0,placeholder:"What needs to be done?"})]})}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Description"}),(0,Rv.jsx)("textarea",{value:f.description,onChange:t=>p(Lt(Lt({},f),{},{description:t.target.value})),placeholder:"Add more details...",rows:"3"})]}),(0,Rv.jsxs)("div",{className:"form-row",children:[(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Category"}),(0,Rv.jsxs)("select",{value:f.category,onChange:t=>p(Lt(Lt({},f),{},{category:t.target.value})),children:[(0,Rv.jsx)("option",{value:"Personal",children:"Personal"}),(0,Rv.jsx)("option",{value:"Work",children:"Work"}),(0,Rv.jsx)("option",{value:"Study",children:"Study"}),(0,Rv.jsx)("option",{value:"Health",children:"Health"}),(0,Rv.jsx)("option",{value:"Shopping",children:"Shopping"}),(0,Rv.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Priority"}),(0,Rv.jsxs)("select",{value:f.priority,onChange:t=>p(Lt(Lt({},f),{},{priority:t.target.value})),children:[(0,Rv.jsx)("option",{value:"low",children:"Low"}),(0,Rv.jsx)("option",{value:"medium",children:"Medium"}),(0,Rv.jsx)("option",{value:"high",children:"High"}),(0,Rv.jsx)("option",{value:"urgent",children:"Urgent"})]})]})]}),(0,Rv.jsxs)("div",{className:"form-row",children:[(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Subject (For Students)"}),(0,Rv.jsx)("input",{type:"text",value:f.subject,onChange:t=>p(Lt(Lt({},f),{},{subject:t.target.value})),placeholder:"Math, Science, etc."})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Estimated Time (minutes)"}),(0,Rv.jsx)("input",{type:"number",value:f.estimatedTime,onChange:t=>p(Lt(Lt({},f),{},{estimatedTime:parseInt(t.target.value)})),min:"15",max:"480"})]})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Due Date"}),(0,Rv.jsx)("input",{type:"datetime-local",value:f.dueDate instanceof Date?f.dueDate.toISOString().slice(0,16):new Date(f.dueDate).toISOString().slice(0,16),onChange:t=>p(Lt(Lt({},f),{},{dueDate:new Date(t.target.value)}))})]}),(0,Rv.jsx)("div",{className:"form-group",children:(0,Rv.jsxs)("label",{className:"checkbox-label",children:[(0,Rv.jsx)("input",{type:"checkbox",checked:f.addToCalendar,onChange:t=>p(Lt(Lt({},f),{},{addToCalendar:t.target.checked}))}),"\ud83d\udcc5 Add to Google Calendar"]})}),(0,Rv.jsxs)("div",{className:"form-actions",children:[(0,Rv.jsx)("button",{type:"button",onClick:g,className:"cancel-btn",children:"Cancel"}),(0,Rv.jsx)("button",{type:"submit",className:"submit-btn",children:a?"Update Task":"Create Task"})]})]})]})}),(0,Rv.jsx)("div",{className:"tasks-list",children:0===v.length?(0,Rv.jsxs)("div",{className:"empty-state",children:[(0,Rv.jsx)("div",{className:"empty-icon",children:"\ud83d\udcdd"}),(0,Rv.jsx)("h3",{children:"No tasks found"}),(0,Rv.jsx)("p",{children:h?"Try a different search term":"Create your first task to get started!"}),!h&&(0,Rv.jsx)("button",{onClick:()=>o(!0),className:"empty-cta",children:"\u2795 Add Your First Task"})]}):(0,Rv.jsx)("div",{className:"tasks-grid",children:v.map(t=>{return(0,Rv.jsxs)("div",{className:"task-card ".concat(t.status),children:[(0,Rv.jsx)("div",{className:"task-priority",style:{backgroundColor:(e=t.priority,{urgent:"#ef4444",high:"#f97316",medium:"#f59e0b",low:"#10b981"}[e]||"#64748b")},children:t.priority}),(0,Rv.jsxs)("div",{className:"task-header",children:[(0,Rv.jsx)("h3",{className:"task-title",children:t.title}),(0,Rv.jsxs)("div",{className:"task-actions",children:[(0,Rv.jsx)("button",{onClick:()=>(t=>{l(t),p({title:t.title,description:t.description||"",category:t.category,priority:t.priority,subject:t.subject||"",dueDate:t.dueDate||new Date,estimatedTime:t.estimatedTime||60,addToCalendar:!1}),o(!0)})(t),className:"edit-btn",children:"\u270f\ufe0f"}),(0,Rv.jsx)("button",{onClick:()=>(async t=>{window.confirm("Are you sure you want to delete this task?")&&((await Fv.deleteTask(t)).success?($e.success("Task deleted"),m()):$e.error("Failed to delete task"))})(t.id),className:"delete-btn",children:"\ud83d\uddd1\ufe0f"})]})]}),(0,Rv.jsx)("p",{className:"task-description",children:t.description}),(0,Rv.jsxs)("div",{className:"task-meta",children:[(0,Rv.jsxs)("span",{className:"category",children:["\ud83d\udcc2 ",t.category]}),t.subject&&(0,Rv.jsxs)("span",{className:"subject",children:["\ud83d\udcda ",t.subject]}),(0,Rv.jsxs)("span",{className:"time",children:["\u23f1\ufe0f ",t.estimatedTime,"min"]})]}),(0,Rv.jsxs)("div",{className:"task-due",children:["\ud83d\udcc5 ",t.dueDate?new Date(t.dueDate).toLocaleDateString():"No due date"]}),(0,Rv.jsx)("div",{className:"task-status-actions",children:(0,Rv.jsxs)("select",{value:t.status,onChange:e=>(async(t,e)=>{(await Fv.updateTask(t,{status:e})).success&&($e.success("Task marked as ".concat(e)),m())})(t.id,e.target.value),className:"status-selector",children:[(0,Rv.jsx)("option",{value:"pending",children:"Pending"}),(0,Rv.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,Rv.jsx)("option",{value:"completed",children:"Completed"})]})}),t.pomodoroSessions&&t.pomodoroSessions.length>0&&(0,Rv.jsxs)("div",{className:"pomodoro-info",children:["\ud83c\udf45 ",t.pomodoroSessions.length," sessions completed"]})]},t.id);var e})})})]})},Gv=()=>{var t;const[e,n]=(0,r.useState)(1500),[i,s]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,h]=(0,r.useState)([]),[d,f]=(0,r.useState)(0),[p,m]=(0,r.useState)("work"),g=(0,r.useRef)(null),v=nt(),y=1500;(0,r.useEffect)(()=>{b(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),(0,r.useEffect)(()=>(i&&e>0?g.current=setInterval(()=>{n(t=>t-1)},1e3):0===e&&x(),()=>{g.current&&clearInterval(g.current)}),[i,e]);const b=async()=>{const t=Mv.getCurrentUser();if(t){const e=(await Fv.getTasks(t.uid)).filter(t=>"completed"!==t.status);h(e)}},x=async()=>{if(s(!1),"Notification"in window&&"granted"===Notification.permission&&new Notification("work"===p?"\ud83c\udf45 Work session complete!":"\u2615 Break time over!",{body:"work"===p?"Time for a break!":"Ready for another session?",icon:"/logo192.png"}),"work"===p&&l){const t={duration:25,completedAt:new Date,type:"work"};await Fv.addPomodoroSession(l.id,t),f(t=>t+1),$e.success("\ud83c\udf45 Work session completed! Great job!");const e=(d+1)%4===0;m(e?"long-break":"break"),n(e?900:300),a(!0)}else $e.success("Break time over! Ready for another session?"),m("work"),n(y),a(!1)};return(0,Rv.jsxs)("div",{className:"pomodoro-container",children:[(0,Rv.jsxs)("div",{className:"pomodoro-header",children:[(0,Rv.jsx)("h1",{children:"\ud83c\udf45 Pomodoro Timer"}),(0,Rv.jsx)("p",{children:"Stay focused and boost your productivity"})]}),(0,Rv.jsxs)("div",{className:"pomodoro-main",children:[(0,Rv.jsxs)("div",{className:"timer-section",children:[(0,Rv.jsx)("div",{className:"session-indicator",children:(0,Rv.jsx)("span",{className:"indicator ".concat(p),children:"work"===p?"\ud83d\udcbc Work Time":"break"===p?"\u2615 Short Break":"\ud83d\udecb\ufe0f Long Break"})}),(0,Rv.jsx)("div",{className:"timer-display",children:(0,Rv.jsxs)("div",{className:"progress-circle",children:[(0,Rv.jsxs)("svg",{className:"progress-ring",width:"200",height:"200",children:[(0,Rv.jsx)("circle",{className:"progress-ring-background",cx:"100",cy:"100",r:"90"}),(0,Rv.jsx)("circle",{className:"progress-ring-progress",cx:"100",cy:"100",r:"90",style:{strokeDasharray:"".concat(2*Math.PI*90),strokeDashoffset:"".concat(2*Math.PI*90*(1-(()=>{const t={work:y,break:300,"long-break":900}[p];return(t-e)/t*100})()/100)),stroke:(()=>{switch(p){case"work":return"#ef4444";case"break":return"#10b981";case"long-break":return"#8b5cf6";default:return"#6366f1"}})()}})]}),(0,Rv.jsxs)("div",{className:"timer-content",children:[(0,Rv.jsx)("div",{className:"time-display",children:(t=>{const e=Math.floor(t/60),n=t%60;return"".concat(e.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})(e)}),(0,Rv.jsx)("div",{className:"timer-label",children:"work"===p?"Focus Time":"Break Time"})]})]})}),(0,Rv.jsxs)("div",{className:"timer-controls",children:[(0,Rv.jsx)("button",{onClick:i?()=>{s(!1)}:()=>{l||"work"!==p?s(!0):$e.error("Please select a task first!")},className:"control-btn primary ".concat(i?"pause":"start"),children:i?"\u23f8\ufe0f Pause":"\u25b6\ufe0f Start"}),(0,Rv.jsx)("button",{onClick:()=>{s(!1);n({work:y,break:300,"long-break":900}[p])},className:"control-btn",children:"\ud83d\udd04 Reset"}),(0,Rv.jsx)("button",{onClick:()=>{n(0)},className:"control-btn",children:"\u23ed\ufe0f Skip"})]})]}),(0,Rv.jsxs)("div",{className:"session-info",children:[(0,Rv.jsxs)("div",{className:"stats",children:[(0,Rv.jsxs)("div",{className:"stat-item",children:[(0,Rv.jsx)("span",{className:"stat-number",children:d}),(0,Rv.jsx)("span",{className:"stat-label",children:"Sessions Today"})]}),(0,Rv.jsxs)("div",{className:"stat-item",children:[(0,Rv.jsxs)("span",{className:"stat-number",children:[Math.floor(25*d/60),"h ",25*d%60,"m"]}),(0,Rv.jsx)("span",{className:"stat-label",children:"Focus Time"})]}),(0,Rv.jsxs)("div",{className:"stat-item",children:[(0,Rv.jsx)("span",{className:"stat-number",children:Math.ceil(d/4)}),(0,Rv.jsx)("span",{className:"stat-label",children:"Cycles"})]})]}),"work"===p&&(0,Rv.jsxs)("div",{className:"task-selection",children:[(0,Rv.jsx)("h3",{children:"Current Task"}),l?(0,Rv.jsxs)("div",{className:"selected-task",children:[(0,Rv.jsxs)("div",{className:"task-info",children:[(0,Rv.jsx)("h4",{children:l.title}),(0,Rv.jsxs)("p",{children:[l.category," \u2022 ",l.priority," priority"]}),(0,Rv.jsx)("div",{className:"task-progress",children:(0,Rv.jsxs)("span",{children:["\ud83c\udf45 ",(null===(t=l.pomodoroSessions)||void 0===t?void 0:t.length)||0," sessions"]})})]}),(0,Rv.jsx)("button",{onClick:()=>c(null),className:"change-task-btn",children:"Change"})]}):(0,Rv.jsxs)("div",{className:"task-list",children:[(0,Rv.jsx)("p",{children:"Select a task to focus on:"}),(0,Rv.jsx)("div",{className:"tasks-grid",children:u.slice(0,6).map(t=>{var e;return(0,Rv.jsxs)("div",{onClick:()=>c(t),className:"task-card",children:[(0,Rv.jsx)("h4",{children:t.title}),(0,Rv.jsxs)("div",{className:"task-meta",children:[(0,Rv.jsx)("span",{className:"priority ".concat(t.priority),children:t.priority}),(0,Rv.jsx)("span",{className:"category",children:t.category})]}),(0,Rv.jsxs)("div",{className:"task-sessions",children:["\ud83c\udf45 ",(null===(e=t.pomodoroSessions)||void 0===e?void 0:e.length)||0]})]},t.id)})}),0===u.length&&(0,Rv.jsxs)("div",{className:"no-tasks",children:[(0,Rv.jsx)("p",{children:"No tasks available."}),(0,Rv.jsx)("button",{onClick:()=>v("/todos"),className:"add-task-btn",children:"Add Tasks"})]})]})]})]})]}),(0,Rv.jsxs)("div",{className:"pomodoro-technique-info",children:[(0,Rv.jsx)("h3",{children:"\ud83e\udde0 How it works"}),(0,Rv.jsxs)("div",{className:"technique-steps",children:[(0,Rv.jsxs)("div",{className:"step",children:[(0,Rv.jsx)("span",{className:"step-number",children:"1"}),(0,Rv.jsx)("p",{children:"Choose a task to focus on"})]}),(0,Rv.jsxs)("div",{className:"step",children:[(0,Rv.jsx)("span",{className:"step-number",children:"2"}),(0,Rv.jsx)("p",{children:"Work for 25 minutes"})]}),(0,Rv.jsxs)("div",{className:"step",children:[(0,Rv.jsx)("span",{className:"step-number",children:"3"}),(0,Rv.jsx)("p",{children:"Take a 5-minute break"})]}),(0,Rv.jsxs)("div",{className:"step",children:[(0,Rv.jsx)("span",{className:"step-number",children:"4"}),(0,Rv.jsx)("p",{children:"After 4 sessions, take a longer break"})]})]})]})]})},Kv=()=>{var t;const[e,n]=(0,r.useState)(null),[i,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(5),[d,f]=(0,r.useState)(5),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)([]),y=[{value:1,emoji:"\ud83d\ude22",label:"Terrible"},{value:2,emoji:"\ud83d\ude14",label:"Bad"},{value:3,emoji:"\ud83d\ude15",label:"Poor"},{value:4,emoji:"\ud83d\ude10",label:"Okay"},{value:5,emoji:"\ud83d\ude42",label:"Fine"},{value:6,emoji:"\ud83d\ude0a",label:"Good"},{value:7,emoji:"\ud83d\ude04",label:"Great"},{value:8,emoji:"\ud83d\ude06",label:"Excellent"},{value:9,emoji:"\ud83e\udd29",label:"Amazing"},{value:10,emoji:"\ud83e\udd73",label:"Perfect"}];(0,r.useEffect)(()=>{b()},[]);const b=async()=>{const t=Mv.getCurrentUser();if(t){const e=await Vv.getTodayMood(t.uid),i=await Vv.getMoodHistory(t.uid,30);n(e),s(i),e&&(h(e.mood),f(e.energy),m(e.notes||""),v(e.activities||[]))}a(!1)},x=t=>t>=8?"#10b981":t>=6?"#f59e0b":t>=4?"#f97316":"#ef4444";return o?(0,Rv.jsxs)("div",{className:"loading-container",children:[(0,Rv.jsx)("div",{className:"loading-spinner"}),(0,Rv.jsx)("p",{children:"Loading your mood data..."})]}):(0,Rv.jsxs)("div",{className:"mood-container",children:[(0,Rv.jsxs)("div",{className:"mood-header",children:[(0,Rv.jsxs)("div",{className:"header-left",children:[(0,Rv.jsx)("h1",{children:"\ud83d\ude0a Mood Tracker"}),(0,Rv.jsx)("p",{children:"Track your daily mood and energy levels to understand patterns"})]}),(0,Rv.jsx)("button",{onClick:()=>c(!0),className:"track-mood-btn",children:e?"\u270f\ufe0f Update Mood":"\u2795 Track Mood"})]}),(0,Rv.jsxs)("div",{className:"mood-overview",children:[(0,Rv.jsxs)("div",{className:"today-mood",children:[(0,Rv.jsx)("h3",{children:"Today's Mood"}),e?(0,Rv.jsxs)("div",{className:"mood-display",children:[(0,Rv.jsx)("div",{className:"mood-circle",style:{borderColor:x(e.mood)},children:(0,Rv.jsx)("span",{className:"mood-emoji-large",children:null===(t=y.find(t=>t.value===e.mood))||void 0===t?void 0:t.emoji})}),(0,Rv.jsxs)("div",{className:"mood-details",children:[(0,Rv.jsxs)("div",{className:"mood-score",children:[(0,Rv.jsxs)("span",{className:"score",children:[e.mood,"/10"]}),(0,Rv.jsx)("span",{className:"label",children:"Mood"})]}),(0,Rv.jsxs)("div",{className:"energy-score",children:[(0,Rv.jsxs)("span",{className:"score",children:[e.energy,"/10"]}),(0,Rv.jsx)("span",{className:"label",children:"Energy"})]})]})]}):(0,Rv.jsxs)("div",{className:"no-mood",children:[(0,Rv.jsx)("span",{className:"placeholder-emoji",children:"\ud83e\udd14"}),(0,Rv.jsx)("p",{children:"No mood tracked today"}),(0,Rv.jsx)("button",{onClick:()=>c(!0),className:"track-now-btn",children:"Track Now"})]})]}),(0,Rv.jsxs)("div",{className:"mood-stats",children:[(0,Rv.jsxs)("div",{className:"stat-item",children:[(0,Rv.jsx)("span",{className:"stat-number",children:(()=>{if(0===i.length)return 0;return(i.reduce((t,e)=>t+e.mood,0)/i.length).toFixed(1)})()}),(0,Rv.jsx)("span",{className:"stat-label",children:"30-day Average"})]}),(0,Rv.jsxs)("div",{className:"stat-item",children:[(0,Rv.jsx)("span",{className:"stat-number",children:i.length}),(0,Rv.jsx)("span",{className:"stat-label",children:"Days Tracked"})]}),(0,Rv.jsxs)("div",{className:"stat-item",children:[(0,Rv.jsx)("span",{className:"stat-number",children:i.filter(t=>t.mood>=7).length}),(0,Rv.jsx)("span",{className:"stat-label",children:"Great Days"})]})]})]}),l&&(0,Rv.jsx)("div",{className:"modal-overlay",children:(0,Rv.jsxs)("div",{className:"modal-content",children:[(0,Rv.jsxs)("div",{className:"modal-header",children:[(0,Rv.jsx)("h2",{children:e?"Update Your Mood":"Track Your Mood"}),(0,Rv.jsx)("button",{onClick:()=>c(!1),className:"close-btn",children:"\u2715"})]}),(0,Rv.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=Mv.getCurrentUser();if(!n)return;const i={mood:u,energy:d,notes:p,activities:g};try{let t;e?(t=await Vv.updateMood(e.id,i),$e.success("Mood updated successfully!")):(t=await Vv.logMood(n.uid,i),$e.success("Mood logged successfully!")),t.success&&(await b(),c(!1))}catch(r){$e.error("Failed to save mood")}},className:"mood-form",children:[(0,Rv.jsxs)("div",{className:"mood-selector",children:[(0,Rv.jsx)("label",{children:"How are you feeling today?"}),(0,Rv.jsx)("div",{className:"mood-scale",children:y.map(t=>(0,Rv.jsxs)("button",{type:"button",onClick:()=>h(t.value),className:"mood-option ".concat(u===t.value?"selected":""),children:[(0,Rv.jsx)("span",{className:"emoji",children:t.emoji}),(0,Rv.jsx)("span",{className:"value",children:t.value}),(0,Rv.jsx)("span",{className:"label",children:t.label})]},t.value))})]}),(0,Rv.jsxs)("div",{className:"energy-selector",children:[(0,Rv.jsxs)("label",{children:["Energy Level: ",d,"/10"]}),(0,Rv.jsx)("input",{type:"range",min:"1",max:"10",value:d,onChange:t=>f(parseInt(t.target.value)),className:"energy-slider",style:{background:"linear-gradient(to right, #ef4444 0%, #f97316 25%, #f59e0b 50%, #10b981 75%, #10b981 100%)"}}),(0,Rv.jsxs)("div",{className:"energy-labels",children:[(0,Rv.jsx)("span",{children:"\ud83d\ude34 Low"}),(0,Rv.jsx)("span",{children:"\u26a1 High"})]})]}),(0,Rv.jsxs)("div",{className:"activities-selector",children:[(0,Rv.jsx)("label",{children:"What did you do today?"}),(0,Rv.jsx)("div",{className:"activities-grid",children:["\ud83d\udcaa Exercise","\ud83d\udcda Reading","\ud83c\udfb5 Music","\ud83d\udc65 Socializing","\ud83c\udf43 Nature","\ud83e\uddd8 Meditation","\ud83c\udfa8 Creative","\ud83c\udf7d\ufe0f Cooking","\ud83d\udcbc Work","\ud83c\udfae Gaming","\ud83d\udcfa Entertainment","\ud83d\ude34 Rest"].map(t=>(0,Rv.jsx)("button",{type:"button",onClick:()=>(t=>{v(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])})(t),className:"activity-option ".concat(g.includes(t)?"selected":""),children:t},t))})]}),(0,Rv.jsxs)("div",{className:"notes-section",children:[(0,Rv.jsx)("label",{children:"Notes (Optional)"}),(0,Rv.jsx)("textarea",{value:p,onChange:t=>m(t.target.value),placeholder:"How was your day? Any thoughts or observations...",rows:"3"})]}),(0,Rv.jsxs)("div",{className:"form-actions",children:[(0,Rv.jsx)("button",{type:"button",onClick:()=>c(!1),className:"cancel-btn",children:"Cancel"}),(0,Rv.jsx)("button",{type:"submit",className:"submit-btn",children:e?"Update Mood":"Save Mood"})]})]})]})}),(0,Rv.jsxs)("div",{className:"mood-history",children:[(0,Rv.jsx)("h3",{children:"\ud83d\udcc8 Mood History"}),i.length>0?(0,Rv.jsx)("div",{className:"history-grid",children:i.slice(0,14).map((t,e)=>{var n;return(0,Rv.jsxs)("div",{className:"history-item",children:[(0,Rv.jsx)("div",{className:"date",children:new Date(t.date).toLocaleDateString()}),(0,Rv.jsx)("div",{className:"mood-emoji",children:null===(n=y.find(e=>e.value===t.mood))||void 0===n?void 0:n.emoji}),(0,Rv.jsxs)("div",{className:"scores",children:[(0,Rv.jsx)("span",{className:"mood-score",style:{color:x(t.mood)},children:t.mood}),(0,Rv.jsxs)("span",{className:"energy-score",children:["\u26a1",t.energy]})]}),t.notes&&(0,Rv.jsx)("div",{className:"entry-notes",children:t.notes})]},e)})}):(0,Rv.jsxs)("div",{className:"empty-history",children:[(0,Rv.jsx)("span",{className:"empty-emoji",children:"\ud83d\udcca"}),(0,Rv.jsx)("p",{children:"Start tracking your mood to see patterns and insights"})]})]})]})};const Yv=new class{constructor(){this.storageKey="productivity-notes"}getAllNotes(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.error("Error getting notes:",t),[]}}saveNote(t){try{const e=this.getAllNotes(),n=Lt(Lt({},t),{},{id:t.id||this.generateId(),updatedAt:(new Date).toISOString()}),i=e.findIndex(t=>t.id===n.id);return i>=0?e[i]=n:(n.createdAt=(new Date).toISOString(),e.unshift(n)),localStorage.setItem(this.storageKey,JSON.stringify(e)),{success:!0,note:n}}catch(e){return console.error("Error saving note:",e),{success:!1,error:e.message}}}deleteNote(t){try{const e=this.getAllNotes().filter(e=>e.id!==t);return localStorage.setItem(this.storageKey,JSON.stringify(e)),{success:!0}}catch(e){return console.error("Error deleting note:",e),{success:!1,error:e.message}}}searchNotes(t){const e=this.getAllNotes();return t?e.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())||e.content.toLowerCase().includes(t.toLowerCase())):e}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}exportNotes(){const t=this.getAllNotes(),e=JSON.stringify(t,null,2),n="data:application/json;charset=utf-8,"+encodeURIComponent(e),i="productivity-notes-".concat((new Date).toISOString().split("T")[0],".json"),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",i),r.click()}getStorageInfo(){const t=this.getAllNotes(),e=JSON.stringify(t).length,n=5242880;return{totalNotes:t.length,totalSize:e,maxSize:n,usagePercent:Math.round(e/n*100)}}},Qv=()=>{const[t,e]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)("");(0,r.useEffect)(()=>{m()},[]);const m=()=>{const t=Yv.getAllNotes();e(t)},g=()=>{d(""),p(""),l(null),o(!1)},v=Yv.searchNotes(n),y=Yv.getStorageInfo();return(0,Rv.jsxs)("div",{className:"notes-container",children:[(0,Rv.jsxs)("div",{className:"notes-header",children:[(0,Rv.jsxs)("div",{className:"header-left",children:[(0,Rv.jsx)("h1",{children:"\ud83d\udcdd Personal Notes"}),(0,Rv.jsxs)("p",{children:["Your private notes stored locally on your device",(0,Rv.jsx)("button",{onClick:()=>u(!0),className:"info-btn",title:"Privacy Information",children:"\u2139\ufe0f"})]})]}),(0,Rv.jsxs)("div",{className:"header-actions",children:[(0,Rv.jsx)("button",{onClick:()=>{Yv.exportNotes(),$e.success("Notes exported successfully!")},className:"export-btn",children:"\ud83d\udce4 Export Notes"}),(0,Rv.jsx)("button",{onClick:()=>o(!0),className:"add-note-btn",children:"\u2795 New Note"})]})]}),(0,Rv.jsx)("div",{className:"storage-info",children:(0,Rv.jsxs)("div",{className:"storage-stats",children:[(0,Rv.jsxs)("span",{children:["\ud83d\udcca ",y.totalNotes," notes"]}),(0,Rv.jsxs)("span",{children:["\ud83d\udcbe ",Math.round(y.totalSize/1024),"KB used"]}),(0,Rv.jsxs)("span",{children:["\ud83d\udcc8 ",y.usagePercent,"% of local storage"]})]})}),(0,Rv.jsx)("div",{className:"search-section",children:(0,Rv.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search notes...",value:n,onChange:t=>i(t.target.value),className:"search-input"})}),s&&(0,Rv.jsx)("div",{className:"modal-overlay",children:(0,Rv.jsxs)("div",{className:"modal-content editor-modal",children:[(0,Rv.jsxs)("div",{className:"modal-header",children:[(0,Rv.jsx)("h2",{children:a?"Edit Note":"New Note"}),(0,Rv.jsx)("button",{onClick:g,className:"close-btn",children:"\u2715"})]}),(0,Rv.jsxs)("div",{className:"editor-form",children:[(0,Rv.jsx)("input",{type:"text",placeholder:"Note title...",value:h,onChange:t=>d(t.target.value),className:"title-input",autoFocus:!0}),(0,Rv.jsx)("textarea",{placeholder:"Start writing your note here...",value:f,onChange:t=>p(t.target.value),className:"content-textarea",rows:"15"}),(0,Rv.jsxs)("div",{className:"editor-actions",children:[(0,Rv.jsx)("button",{onClick:g,className:"cancel-btn",children:"Cancel"}),(0,Rv.jsx)("button",{onClick:()=>{if(!h.trim())return void $e.error("Please enter a title");const t=Lt({title:h.trim(),content:f.trim()},a&&{id:a.id}),e=Yv.saveNote(t);e.success?($e.success(a?"Note updated!":"Note saved!"),m(),g()):$e.error(e.error)},className:"save-btn",children:a?"Update Note":"Save Note"})]})]})]})}),c&&(0,Rv.jsx)("div",{className:"modal-overlay",children:(0,Rv.jsxs)("div",{className:"modal-content privacy-modal",children:[(0,Rv.jsxs)("div",{className:"modal-header",children:[(0,Rv.jsx)("h2",{children:"\ud83d\udd12 Privacy Information"}),(0,Rv.jsx)("button",{onClick:()=>u(!1),className:"close-btn",children:"\u2715"})]}),(0,Rv.jsxs)("div",{className:"privacy-content",children:[(0,Rv.jsxs)("div",{className:"privacy-section",children:[(0,Rv.jsx)("h3",{children:"\ud83d\udcf1 Local Storage"}),(0,Rv.jsx)("p",{children:"Your notes are stored locally on your device using browser's localStorage. This means:"}),(0,Rv.jsxs)("ul",{children:[(0,Rv.jsx)("li",{children:"\u2705 Complete privacy - no one else can access your notes"}),(0,Rv.jsx)("li",{children:"\u2705 Works offline - no internet connection required"}),(0,Rv.jsx)("li",{children:"\u2705 Fast access - instant loading and saving"}),(0,Rv.jsx)("li",{children:"\u26a0\ufe0f Device-specific - notes won't sync across devices"}),(0,Rv.jsx)("li",{children:"\u26a0\ufe0f Browser-dependent - clearing browser data removes notes"})]})]}),(0,Rv.jsxs)("div",{className:"privacy-section",children:[(0,Rv.jsx)("h3",{children:"\ud83d\udee1\ufe0f Security Features"}),(0,Rv.jsxs)("ul",{children:[(0,Rv.jsx)("li",{children:"\ud83d\udd10 No data sent to external servers"}),(0,Rv.jsx)("li",{children:"\ud83d\udd10 No account required or personal info collected"}),(0,Rv.jsx)("li",{children:"\ud83d\udd10 Data stays on your device always"}),(0,Rv.jsx)("li",{children:"\ud83d\udce4 Export feature for backup purposes"})]})]}),(0,Rv.jsxs)("div",{className:"privacy-section",children:[(0,Rv.jsx)("h3",{children:"\ud83d\udca1 Best Practices"}),(0,Rv.jsxs)("ul",{children:[(0,Rv.jsx)("li",{children:"\ud83d\udce4 Export your notes regularly as backup"}),(0,Rv.jsx)("li",{children:"\ud83d\udd04 Don't rely solely on browser storage for critical notes"}),(0,Rv.jsx)("li",{children:"\ud83d\udcbe Consider using multiple devices for important content"})]})]}),(0,Rv.jsx)("div",{className:"privacy-footer",children:(0,Rv.jsxs)("p",{children:[(0,Rv.jsx)("strong",{children:"Made with \u2764\ufe0f by Sayeed"})," - Privacy-focused by design"]})})]})]})}),(0,Rv.jsx)("div",{className:"notes-list",children:0===v.length?(0,Rv.jsxs)("div",{className:"empty-state",children:[(0,Rv.jsx)("div",{className:"empty-icon",children:"\ud83d\udcdd"}),(0,Rv.jsx)("h3",{children:n?"No notes found":"No notes yet"}),(0,Rv.jsx)("p",{children:n?"Try a different search term":"Create your first private note to get started!"}),!n&&(0,Rv.jsx)("button",{onClick:()=>o(!0),className:"empty-cta",children:"\u2728 Create Your First Note"})]}):(0,Rv.jsx)("div",{className:"notes-grid",children:v.map(t=>(0,Rv.jsxs)("div",{className:"note-card",children:[(0,Rv.jsxs)("div",{className:"note-header",children:[(0,Rv.jsx)("h3",{className:"note-title",children:t.title}),(0,Rv.jsxs)("div",{className:"note-actions",children:[(0,Rv.jsx)("button",{onClick:()=>(t=>{l(t),d(t.title),p(t.content),o(!0)})(t),className:"edit-btn",children:"\u270f\ufe0f"}),(0,Rv.jsx)("button",{onClick:()=>{return e=t.id,void(window.confirm("Are you sure you want to delete this note?")&&Yv.deleteNote(e).success&&($e.success("Note deleted"),m()));var e},className:"delete-btn",children:"\ud83d\uddd1\ufe0f"})]})]}),(0,Rv.jsx)("div",{className:"note-content",children:t.content.length>200?t.content.substring(0,200)+"...":t.content||"No content"}),(0,Rv.jsxs)("div",{className:"note-meta",children:[(0,Rv.jsxs)("span",{className:"note-date",children:["\ud83d\udcc5 ",new Date(t.updatedAt||t.createdAt).toLocaleDateString()]}),(0,Rv.jsxs)("span",{className:"note-size",children:["\ud83d\udcdd ",t.content.length," chars"]})]})]},t.id))})})]})};const Xv=new class{constructor(){this.collection="goals"}async createGoal(t,e){try{return{success:!0,id:(await sg($p(Dv,this.collection),Lt(Lt({},e),{},{userId:t,createdAt:lg(),updatedAt:lg(),status:e.status||"active",progress:0}))).id}}catch(n){return console.error("Error creating goal:",n),{success:!1,error:n.message}}}async getGoals(t){try{const e=jm($p(Dv,this.collection),Fm("userId","==",t),zm("createdAt","desc")),n=await eg(e),i=[];return n.forEach(t=>{var e,n,r;const s=t.data();i.push(Lt(Lt({id:t.id},s),{},{createdAt:null===(e=s.createdAt)||void 0===e?void 0:e.toDate(),updatedAt:null===(n=s.updatedAt)||void 0===n?void 0:n.toDate(),targetDate:null===(r=s.targetDate)||void 0===r?void 0:r.toDate()}))}),i}catch(e){return console.error("Error fetching goals:",e),[]}}async updateGoal(t,e){try{const n=Jp(Dv,this.collection,t);return e.targetDate&&e.targetDate instanceof Date&&(e.targetDate=ol.fromDate(e.targetDate)),await ig(n,Lt(Lt({},e),{},{updatedAt:lg()})),{success:!0}}catch(n){return console.error("Error updating goal:",n),{success:!1,error:n.message}}}async deleteGoal(t){try{return await rg(Jp(Dv,this.collection,t)),{success:!0}}catch(e){return console.error("Error deleting goal:",e),{success:!1,error:e.message}}}async getGoalsByType(t,e){try{const n=jm($p(Dv,this.collection),Fm("userId","==",t),Fm("type","==",e),zm("createdAt","desc")),i=await eg(n),r=[];return i.forEach(t=>{var e,n,i;const s=t.data();r.push(Lt(Lt({id:t.id},s),{},{createdAt:null===(e=s.createdAt)||void 0===e?void 0:e.toDate(),updatedAt:null===(n=s.updatedAt)||void 0===n?void 0:n.toDate(),targetDate:null===(i=s.targetDate)||void 0===i?void 0:i.toDate()}))}),r}catch(n){return console.error("Error fetching goals by type:",n),[]}}async getGoalsByStatus(t,e){try{const n=jm($p(Dv,this.collection),Fm("userId","==",t),Fm("status","==",e),zm("createdAt","desc")),i=await eg(n),r=[];return i.forEach(t=>{var e,n,i;const s=t.data();r.push(Lt(Lt({id:t.id},s),{},{createdAt:null===(e=s.createdAt)||void 0===e?void 0:e.toDate(),updatedAt:null===(n=s.updatedAt)||void 0===n?void 0:n.toDate(),targetDate:null===(i=s.targetDate)||void 0===i?void 0:i.toDate()}))}),r}catch(n){return console.error("Error fetching goals by status:",n),[]}}calculateProgress(t){if(!t.milestones||0===t.milestones.length)return"completed"===t.status?100:0;const e=t.milestones.filter(t=>t.completed).length;return Math.round(e/t.milestones.length*100)}getGoalStats(t){const e={total:t.length,active:t.filter(t=>"active"===t.status).length,completed:t.filter(t=>"completed"===t.status).length,paused:t.filter(t=>"paused"===t.status).length,shortTerm:t.filter(t=>"short-term"===t.type).length,longTerm:t.filter(t=>"long-term"===t.type).length,averageProgress:0};if(t.length>0){const n=t.reduce((t,e)=>t+this.calculateProgress(e),0);e.averageProgress=Math.round(n/t.length)}return e}},$v=()=>{const[t,e]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)("all"),[h,d]=(0,r.useState)({title:"",description:"",type:"short-term",category:"Personal",targetDate:new Date,milestones:[],status:"active"}),[f,p]=(0,r.useState)("");(0,r.useEffect)(()=>{m()},[]);const m=async()=>{const t=Mv.getCurrentUser();if(t){const n=await Xv.getGoals(t.uid);e(n)}i(!1)},g=()=>{f.trim()&&(d(t=>Lt(Lt({},t),{},{milestones:[...t.milestones,{id:Date.now(),text:f.trim(),completed:!1}]})),p(""))},v=()=>{d({title:"",description:"",type:"short-term",category:"Personal",targetDate:new Date,milestones:[],status:"active"}),l(null),o(!1),p("")},y=t.filter(t=>"all"===c||("short-term"===c||"long-term"===c?t.type===c:"active"!==c&&"completed"!==c&&"paused"!==c||t.status===c)),b=t=>{if(!t.milestones||0===t.milestones.length)return 0;const e=t.milestones.filter(t=>t.completed).length;return Math.round(e/t.milestones.length*100)};return n?(0,Rv.jsxs)("div",{className:"loading-container",children:[(0,Rv.jsx)("div",{className:"loading-spinner"}),(0,Rv.jsx)("p",{children:"Loading your goals..."})]}):(0,Rv.jsxs)("div",{className:"goals-container",children:[(0,Rv.jsxs)("div",{className:"goals-header",children:[(0,Rv.jsxs)("div",{className:"header-left",children:[(0,Rv.jsx)("h1",{children:"\ud83c\udfaf Goals Management"}),(0,Rv.jsx)("p",{children:"Set and track your short-term and long-term goals"})]}),(0,Rv.jsx)("button",{onClick:()=>o(!0),className:"add-goal-btn",children:"\u2795 Add Goal"})]}),(0,Rv.jsx)("div",{className:"goals-filters",children:(0,Rv.jsx)("div",{className:"filter-buttons",children:["all","short-term","long-term","active","completed","paused"].map(t=>(0,Rv.jsx)("button",{onClick:()=>u(t),className:"filter-btn ".concat(c===t?"active":""),children:t.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")},t))})}),(0,Rv.jsxs)("div",{className:"goals-stats",children:[(0,Rv.jsxs)("div",{className:"stat-card",children:[(0,Rv.jsx)("span",{className:"stat-number",children:t.filter(t=>"short-term"===t.type).length}),(0,Rv.jsx)("span",{className:"stat-label",children:"Short-term Goals"})]}),(0,Rv.jsxs)("div",{className:"stat-card",children:[(0,Rv.jsx)("span",{className:"stat-number",children:t.filter(t=>"long-term"===t.type).length}),(0,Rv.jsx)("span",{className:"stat-label",children:"Long-term Goals"})]}),(0,Rv.jsxs)("div",{className:"stat-card",children:[(0,Rv.jsx)("span",{className:"stat-number",children:t.filter(t=>"completed"===t.status).length}),(0,Rv.jsx)("span",{className:"stat-label",children:"Completed"})]}),(0,Rv.jsxs)("div",{className:"stat-card",children:[(0,Rv.jsx)("span",{className:"stat-number",children:t.filter(t=>"active"===t.status).length}),(0,Rv.jsx)("span",{className:"stat-label",children:"Active"})]})]}),s&&(0,Rv.jsx)("div",{className:"modal-overlay",children:(0,Rv.jsxs)("div",{className:"modal-content",children:[(0,Rv.jsxs)("div",{className:"modal-header",children:[(0,Rv.jsx)("h2",{children:a?"Edit Goal":"Add New Goal"}),(0,Rv.jsx)("button",{onClick:v,className:"close-btn",children:"\u2715"})]}),(0,Rv.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const e=Mv.getCurrentUser();if(e)try{let t;a?(t=await Xv.updateGoal(a.id,h),t.success&&$e.success("Goal updated successfully!")):(t=await Xv.createGoal(e.uid,h),t.success&&$e.success("Goal created successfully!")),t.success?(await m(),v()):$e.error(t.error)}catch(n){$e.error("Something went wrong!")}},className:"goal-form",children:[(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Goal Title *"}),(0,Rv.jsx)("input",{type:"text",value:h.title,onChange:t=>d(Lt(Lt({},h),{},{title:t.target.value})),required:!0,placeholder:"What do you want to achieve?"})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Description"}),(0,Rv.jsx)("textarea",{value:h.description,onChange:t=>d(Lt(Lt({},h),{},{description:t.target.value})),placeholder:"Describe your goal in detail...",rows:"3"})]}),(0,Rv.jsxs)("div",{className:"form-row",children:[(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Type"}),(0,Rv.jsxs)("select",{value:h.type,onChange:t=>d(Lt(Lt({},h),{},{type:t.target.value})),children:[(0,Rv.jsx)("option",{value:"short-term",children:"Short-term (weeks/months)"}),(0,Rv.jsx)("option",{value:"long-term",children:"Long-term (months/years)"})]})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Category"}),(0,Rv.jsxs)("select",{value:h.category,onChange:t=>d(Lt(Lt({},h),{},{category:t.target.value})),children:[(0,Rv.jsx)("option",{value:"Personal",children:"Personal"}),(0,Rv.jsx)("option",{value:"Career",children:"Career"}),(0,Rv.jsx)("option",{value:"Health",children:"Health"}),(0,Rv.jsx)("option",{value:"Education",children:"Education"}),(0,Rv.jsx)("option",{value:"Financial",children:"Financial"}),(0,Rv.jsx)("option",{value:"Relationship",children:"Relationship"}),(0,Rv.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Target Date"}),(0,Rv.jsx)("input",{type:"date",value:h.targetDate instanceof Date?h.targetDate.toISOString().split("T")[0]:new Date(h.targetDate).toISOString().split("T")[0],onChange:t=>d(Lt(Lt({},h),{},{targetDate:new Date(t.target.value)}))})]}),(0,Rv.jsxs)("div",{className:"form-group",children:[(0,Rv.jsx)("label",{children:"Milestones"}),(0,Rv.jsxs)("div",{className:"milestone-input",children:[(0,Rv.jsx)("input",{type:"text",value:f,onChange:t=>p(t.target.value),placeholder:"Add a milestone...",onKeyPress:t=>"Enter"===t.key&&(t.preventDefault(),g())}),(0,Rv.jsx)("button",{type:"button",onClick:g,className:"add-milestone-btn",children:"Add"})]}),(0,Rv.jsx)("div",{className:"milestones-list",children:h.milestones.map(t=>(0,Rv.jsxs)("div",{className:"milestone-item",children:[(0,Rv.jsx)("span",{children:t.text}),(0,Rv.jsx)("button",{type:"button",onClick:()=>{return e=t.id,void d(t=>Lt(Lt({},t),{},{milestones:t.milestones.filter(t=>t.id!==e)}));var e},className:"remove-milestone-btn",children:"\u2715"})]},t.id))})]}),(0,Rv.jsxs)("div",{className:"form-actions",children:[(0,Rv.jsx)("button",{type:"button",onClick:v,className:"cancel-btn",children:"Cancel"}),(0,Rv.jsx)("button",{type:"submit",className:"submit-btn",children:a?"Update Goal":"Create Goal"})]})]})]})}),(0,Rv.jsx)("div",{className:"goals-list",children:0===y.length?(0,Rv.jsxs)("div",{className:"empty-state",children:[(0,Rv.jsx)("div",{className:"empty-icon",children:"\ud83c\udfaf"}),(0,Rv.jsx)("h3",{children:"No goals found"}),(0,Rv.jsx)("p",{children:"Set your first goal and start your journey to success!"}),(0,Rv.jsx)("button",{onClick:()=>o(!0),className:"empty-cta",children:"\ud83c\udf1f Set Your First Goal"})]}):(0,Rv.jsx)("div",{className:"goals-grid",children:y.map(e=>{return(0,Rv.jsxs)("div",{className:"goal-card ".concat(e.status),children:[(0,Rv.jsx)("div",{className:"goal-type",style:{backgroundColor:"long-term"===e.type?"#8b5cf6":"#10b981"},children:e.type}),(0,Rv.jsxs)("div",{className:"goal-header",children:[(0,Rv.jsx)("h3",{className:"goal-title",children:e.title}),(0,Rv.jsxs)("div",{className:"goal-actions",children:[(0,Rv.jsx)("button",{onClick:()=>(t=>{l(t),d({title:t.title,description:t.description||"",type:t.type,category:t.category,targetDate:t.targetDate||new Date,milestones:t.milestones||[],status:t.status||"active"}),o(!0)})(e),className:"edit-btn",children:"\u270f\ufe0f"}),(0,Rv.jsx)("button",{onClick:()=>(async t=>{window.confirm("Are you sure you want to delete this goal?")&&((await Xv.deleteGoal(t)).success?($e.success("Goal deleted"),m()):$e.error("Failed to delete goal"))})(e.id),className:"delete-btn",children:"\ud83d\uddd1\ufe0f"})]})]}),(0,Rv.jsx)("p",{className:"goal-description",children:e.description}),(0,Rv.jsxs)("div",{className:"goal-meta",children:[(0,Rv.jsxs)("span",{className:"category",children:["\ud83d\udcc2 ",e.category]}),(0,Rv.jsxs)("span",{className:"target-date",children:["\ud83d\udcc5 ",e.targetDate?new Date(e.targetDate).toLocaleDateString():"No deadline"]})]}),e.milestones&&e.milestones.length>0&&(0,Rv.jsxs)("div",{className:"milestones-section",children:[(0,Rv.jsxs)("div",{className:"progress-header",children:[(0,Rv.jsxs)("span",{children:["Progress: ",b(e),"%"]}),(0,Rv.jsx)("div",{className:"progress-bar",children:(0,Rv.jsx)("div",{className:"progress-fill",style:{width:"".concat(b(e),"%")}})})]}),(0,Rv.jsxs)("div",{className:"milestones",children:[e.milestones.slice(0,3).map(n=>(0,Rv.jsxs)("div",{className:"milestone",children:[(0,Rv.jsx)("input",{type:"checkbox",checked:n.completed,onChange:()=>(async(e,n)=>{const i=t.find(t=>t.id===e),r=i.milestones.map(t=>t.id===n?Lt(Lt({},t),{},{completed:!t.completed}):t);(await Xv.updateGoal(e,{milestones:r})).success&&m()})(e.id,n.id)}),(0,Rv.jsx)("span",{className:n.completed?"completed":"",children:n.text})]},n.id)),e.milestones.length>3&&(0,Rv.jsxs)("div",{className:"more-milestones",children:["+",e.milestones.length-3," more milestones"]})]})]}),(0,Rv.jsx)("div",{className:"goal-status-section",children:(0,Rv.jsxs)("select",{value:e.status,onChange:t=>(async(t,e)=>{(await Xv.updateGoal(t,{status:e})).success&&("completed"===e?$e.success("\ud83c\udf89 Congratulations on completing your goal!"):$e.success("Goal marked as ".concat(e)),m())})(e.id,t.target.value),className:"status-selector",style:{borderColor:(n=e.status,{active:"#10b981",completed:"#6366f1",paused:"#f59e0b",cancelled:"#ef4444"}[n]||"#64748b")},children:[(0,Rv.jsx)("option",{value:"active",children:"Active"}),(0,Rv.jsx)("option",{value:"completed",children:"Completed"}),(0,Rv.jsx)("option",{value:"paused",children:"Paused"}),(0,Rv.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]},e.id);var n})})})]})};function Jv(t){return t+.5|0}const Zv=(t,e,n)=>Math.max(Math.min(t,n),e);function ty(t){return Zv(Jv(2.55*t),0,255)}function ey(t){return Zv(Jv(255*t),0,255)}function ny(t){return Zv(Jv(t/2.55)/100,0,1)}function iy(t){return Zv(Jv(100*t),0,100)}const ry={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sy=[..."0123456789ABCDEF"],oy=t=>sy[15&t],ay=t=>sy[(240&t)>>4]+sy[15&t],ly=t=>(240&t)>>4===(15&t);function cy(t){var e=(t=>ly(t.r)&&ly(t.g)&&ly(t.b)&&ly(t.a))(t)?oy:ay;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const uy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hy(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function dy(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function fy(t,e,n){const i=hy(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function py(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function my(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ey)}function gy(t,e,n){return my(hy,t,e,n)}function vy(t){return(t%360+360)%360}function yy(t){const e=uy.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?ty(+e[5]):ey(+e[5]));const r=vy(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return my(fy,t,e,n)}(r,s,o):"hsv"===e[1]?function(t,e,n){return my(dy,t,e,n)}(r,s,o):gy(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const by={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let wy;function _y(t){wy||(wy=function(){const t={},e=Object.keys(xy),n=Object.keys(by);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,by[s]);s=parseInt(xy[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),wy.transparent=[0,0,0,0]);const e=wy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Sy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const ky=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ey=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ty(t,e,n){if(t){let i=py(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=gy(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Cy(t,e){return t?Object.assign(e||{},t):t}function Iy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ey(t[3]))):(e=Cy(t,{r:0,g:0,b:0,a:1})).a=ey(e.a),e}function Ny(t){return"r"===t.charAt(0)?function(t){const e=Sy.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?ty(t):Zv(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?ty(n):Zv(n,0,255)),i=255&(e[4]?ty(i):Zv(i,0,255)),r=255&(e[6]?ty(r):Zv(r,0,255)),{r:n,g:i,b:r,a:s}}}(t):yy(t)}class Py{constructor(t){if(t instanceof Py)return t;const e=typeof t;let n;"object"===e?n=Iy(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*ry[t[1]],g:255&17*ry[t[2]],b:255&17*ry[t[3]],a:5===n?17*ry[t[4]]:255}:7!==n&&9!==n||(e={r:ry[t[1]]<<4|ry[t[2]],g:ry[t[3]]<<4|ry[t[4]],b:ry[t[5]]<<4|ry[t[6]],a:9===n?ry[t[7]]<<4|ry[t[8]]:255})),e}(t)||_y(t)||Ny(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Cy(this._rgb);return t&&(t.a=ny(t.a)),t}set rgb(t){this._rgb=Iy(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(ny(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?cy(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=py(t),n=e[0],i=iy(e[1]),r=iy(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(ny(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=Ey(ny(t.r)),r=Ey(ny(t.g)),s=Ey(ny(t.b));return{r:ey(ky(i+n*(Ey(ny(e.r))-i))),g:ey(ky(r+n*(Ey(ny(e.g))-r))),b:ey(ky(s+n*(Ey(ny(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Py(this.rgb)}alpha(t){return this._rgb.a=ey(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Jv(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ty(this._rgb,2,t),this}darken(t){return Ty(this._rgb,2,-t),this}saturate(t){return Ty(this._rgb,1,t),this}desaturate(t){return Ty(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=py(t);n[0]=vy(n[0]+e),n=gy(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Ay(){}const Dy=(()=>{let t=0;return()=>t++})();function My(t){return null===t||void 0===t}function Ry(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Oy(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function jy(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function Ly(t,e){return jy(t)?t:e}function Fy(t,e){return"undefined"===typeof t?e:t}const Vy=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Uy(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function zy(t,e,n,i){let r,s,o;if(Ry(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(Oy(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function By(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Hy(t){if(Ry(t))return t.map(Hy);if(Oy(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Hy(t[n[r]]);return e}return t}function Wy(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function qy(t,e,n,i){if(!Wy(t))return;const r=e[t],s=n[t];Oy(r)&&Oy(s)?Gy(r,s,i):e[t]=Hy(s)}function Gy(t,e,n){const i=Ry(e)?e:[e],r=i.length;if(!Oy(t))return t;const s=(n=n||{}).merger||qy;let o;for(let a=0;a<r;++a){if(o=i[a],!Oy(o))continue;const e=Object.keys(o);for(let i=0,r=e.length;i<r;++i)s(e[i],t,o,n)}return t}function Ky(t,e){return Gy(t,e,{merger:Yy})}function Yy(t,e,n){if(!Wy(t))return;const i=e[t],r=n[t];Oy(i)&&Oy(r)?Ky(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Hy(r))}const Qy={"":t=>t,x:t=>t.x,y:t=>t.y};function Xy(t,e){const n=Qy[e]||(Qy[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function $y(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Jy=t=>"undefined"!==typeof t,Zy=t=>"function"===typeof t,tb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const eb=Math.PI,nb=2*eb,ib=nb+eb,rb=Number.POSITIVE_INFINITY,sb=eb/180,ob=eb/2,ab=eb/4,lb=2*eb/3,cb=Math.log10,ub=Math.sign;function hb(t,e,n){return Math.abs(t-e)<n}function db(t){const e=Math.round(t);t=hb(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(cb(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function fb(t){return!function(t){return"symbol"===typeof t||"object"===typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function pb(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function mb(t){return t*(eb/180)}function gb(t){return t*(180/eb)}function vb(t){if(!jy(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function yb(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*eb&&(s+=nb),{angle:s,distance:r}}function bb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function xb(t,e){return(t-e+ib)%nb-eb}function wb(t){return(t%nb+nb)%nb}function _b(t,e,n,i){const r=wb(t),s=wb(e),o=wb(n),a=wb(s-r),l=wb(o-r),c=wb(r-s),u=wb(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Sb(t,e,n){return Math.max(e,Math.min(n,t))}function kb(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Eb(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Tb=(t,e,n,i)=>Eb(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),Cb=(t,e,n)=>Eb(t,n,i=>t[i][e]>=n);const Ib=["push","pop","shift","splice","unshift"];function Nb(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(Ib.forEach(e=>{delete t[e]}),delete t._chartjs)}function Pb(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ab="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function Db(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,Ab.call(window,()=>{i=!1,t.apply(e,n)}))}}const Mb=t=>"start"===t?"left":"end"===t?"right":"center",Rb=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Ob(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(r=Math.min(Tb(l,u,h).lo,n?i:Tb(e,u,o.getPixelForValue(h)).lo),c){const t=l.slice(0,r+1).reverse().findIndex(t=>!My(t[a.axis]));r-=Math.max(0,t)}r=Sb(r,0,i-1)}if(p){let t=Math.max(Tb(l,o.axis,d,!0).hi+1,n?0:Tb(e,u,o.getPixelForValue(d),!0).hi+1);if(c){const e=l.slice(t-1).findIndex(t=>!My(t[a.axis]));t+=Math.max(0,e)}s=Sb(t,r,i)-r}else s=i-r}return{start:r,count:s}}function jb(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Lb=t=>0===t||1===t,Fb=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*nb/n),Vb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*nb/n)+1,Ub={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*ob),easeOutSine:t=>Math.sin(t*ob),easeInOutSine:t=>-.5*(Math.cos(eb*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Lb(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Lb(t)?t:Fb(t,.075,.3),easeOutElastic:t=>Lb(t)?t:Vb(t,.075,.3),easeInOutElastic(t){const e=.1125;return Lb(t)?t:t<.5?.5*Fb(2*t,e,.45):.5+.5*Vb(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Ub.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Ub.easeInBounce(2*t):.5*Ub.easeOutBounce(2*t-1)+.5};function zb(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Bb(t){return zb(t)?t:new Py(t)}function Hb(t){return zb(t)?t:new Py(t).saturate(.5).darken(.1).hexString()}const Wb=["x","y","borderWidth","radius","tension"],qb=["color","borderColor","backgroundColor"];const Gb=new Map;function Kb(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Gb.get(n);return i||(i=new Intl.NumberFormat(t,e),Gb.set(n,i)),i}(e,n).format(t)}const Yb={values:t=>Ry(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=cb(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Kb(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(cb(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Yb.numeric.call(this,t,e,n):""}};var Qb={formatters:Yb};const Xb=Object.create(null),$b=Object.create(null);function Jb(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function Zb(t,e,n){return"string"===typeof e?Gy(Jb(t,e),n):Gy(Jb(t,""),e)}class tx{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Hb(e.backgroundColor),this.hoverBorderColor=(t,e)=>Hb(e.borderColor),this.hoverColor=(t,e)=>Hb(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Zb(this,t,e)}get(t){return Jb(this,t)}describe(t,e){return Zb($b,t,e)}override(t,e){return Zb(Xb,t,e)}route(t,e,n,i){const r=Jb(this,t),s=Jb(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return Oy(t)?Object.assign({},e,t):Fy(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach(t=>t(this))}}var ex=new tx({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:qb},numbers:{type:"number",properties:Wb}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function nx(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function ix(t,e,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||Ry(h)){if(Ry(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||Ry(d)||(o=nx(t,r,s,o,d))}else o=nx(t,r,s,o,h);t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function rx(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function sx(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ox(t,e,n,i){ax(t,e,n,i,null)}function ax(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let g=(p||0)*sb;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,m,0,0,nb):t.arc(n,i,m,0,nb),t.closePath();break;case"triangle":u=r?r/2:m,t.moveTo(n+Math.sin(g)*u,i-Math.cos(g)*m),g+=lb,t.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*m),g+=lb,t.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(g+ab)*l,h=Math.cos(g+ab)*(r?r/2-c:l),a=Math.sin(g+ab)*l,d=Math.sin(g+ab)*(r?r/2-c:l),t.arc(n-h,i-a,c,g-eb,g-ob),t.arc(n+d,i-o,c,g-ob,g),t.arc(n+h,i+a,c,g,g+ob),t.arc(n-d,i+o,c,g+ob,g+eb),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}g+=ab;case"rectRot":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":g+=ab;case"cross":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),g+=ab,h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(g)*m,a=Math.sin(g)*m,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(g)*(r?r/2:m),i+Math.sin(g)*m);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function lx(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ux(t){t.restore()}function hx(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function dx(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function fx(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function px(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function mx(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Ry(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),My(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&px(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),My(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),fx(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function gx(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*eb,eb,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,eb,ob,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,ob,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-ob,!0),t.lineTo(n+o.topLeft,i)}const vx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bx(t,e){const n=(""+t).match(vx);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const xx=t=>+t||0;function wx(t,e){const n={},i=Oy(e),r=i?Object.keys(e):e,s=Oy(t)?i?n=>Fy(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=xx(s(o));return n}function _x(t){return wx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Sx(t){return wx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function kx(t){const e=_x(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ex(t,e){t=t||{},e=e||ex.font;let n=Fy(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=Fy(t.style,e.style);i&&!(""+i).match(yx)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Fy(t.family,e.family),lineHeight:bx(Fy(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Fy(t.weight,e.weight),string:""};return r.string=function(t){return!t||My(t.size)||My(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function Tx(t,e,n,i){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&Ry(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function Cx(t,e){return Object.assign(Object.create(t),e)}function Ix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=Vx("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>Ix([i,...t],e,r,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>Mx(n,i,()=>function(t,e,n,i){let r;for(const s of e)if(r=Vx(Ax(s,t),n),"undefined"!==typeof r)return Dx(t,r)?Lx(n,i,t,r):r}(i,e,t,n)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Ux(t).includes(e),ownKeys:t=>Ux(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function Nx(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Px(t,i),setContext:e=>Nx(t,e,n,i),override:r=>Nx(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Mx(t,e,()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];Zy(a)&&o.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);a.delete(t),Dx(t,l)&&(l=Lx(r._scopes,r,t,l));return l}(e,a,t,n));Ry(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(t))return e[s.index%e.length];if(Oy(e[0])){const n=e,i=r._scopes.filter(t=>t!==n);e=[];for(const l of n){const n=Lx(i,r,t,l);e.push(Nx(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));Dx(e,a)&&(a=Nx(a,r,s&&s[e],o));return a}(t,e,n)),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function Px(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Zy(n)?n:()=>n,isIndexable:Zy(i)?i:()=>i}}const Ax=(t,e)=>t?t+$y(e):e,Dx=(t,e)=>Oy(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Mx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function Rx(t,e,n){return Zy(t)?t(e,n):t}const Ox=(t,e)=>!0===t?e:"string"===typeof t?Xy(e,t):void 0;function jx(t,e,n,i,r){for(const s of e){const e=Ox(n,s);if(e){t.add(e);const s=Rx(e._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function Lx(t,e,n,i){const r=e._rootScopes,s=Rx(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=Fx(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=Fx(a,o,s,l,i),null!==l))&&Ix(Array.from(a),[""],r,s,()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(Ry(r)&&Oy(n))return n;return r||{}}(e,n,i)))}function Fx(t,e,n,i,r){for(;n;)n=jx(t,e,n,i,r);return n}function Vx(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Ux(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}(t._scopes)),e}function zx(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(Xy(u,s),c)};return o}const Bx=Number.EPSILON||1e-14,Hx=(t,e)=>e<t.length&&!t[e].skip&&t[e],Wx=t=>"x"===t?"y":"x";function qx(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=bb(s,r),l=bb(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function Gx(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Wx(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Hx(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Hx(t,o+1),l){if(c){const t=c[e]-l[e];r[o]=0!==t?(c[n]-l[n])/t:0}s[o]=a?c?ub(r[o-1])!==ub(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(t,e,n){const i=t.length;let r,s,o,a,l,c=Hx(t,0);for(let u=0;u<i-1;++u)l=c,c=Hx(t,u+1),l&&c&&(hb(e[u],0,Bx)?n[u]=n[u+1]=0:(r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])))}(t,r,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=Wx(n),r=t.length;let s,o,a,l=Hx(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Hx(t,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=u-s*e[c]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=u+s*e[c])}}(t,s,e)}function Kx(t,e,n){return Math.max(Math.min(t,n),e)}function Yx(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)Gx(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=qx(n,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r,s,o,a=lx(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&lx(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Kx(r.cp1x,e.left,e.right),r.cp1y=Kx(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Kx(r.cp2x,e.left,e.right),r.cp2y=Kx(r.cp2y,e.top,e.bottom)))}(t,n)}function Qx(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Xx(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function $x(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const Jx=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Zx=["top","right","bottom","left"];function tw(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=Zx[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function ew(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Jx(n),s="border-box"===r.boxSizing,o=tw(r,"padding"),a=tw(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const nw=t=>Math.round(10*t)/10;function iw(t,e,n,i){const r=Jx(t),s=tw(r,"margin"),o=$x(r.maxWidth,t,"clientWidth")||rb,a=$x(r.maxHeight,t,"clientHeight")||rb,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const s=t&&Xx(t);if(s){const t=s.getBoundingClientRect(),o=Jx(s),a=tw(o,"border","width"),l=tw(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=$x(o.maxWidth,s,"clientWidth"),r=$x(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||rb,maxHeight:r||rb}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=tw(r,"border","width"),e=tw(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=nw(Math.min(c,o,l.maxWidth)),u=nw(Math.min(u,a,l.maxHeight)),c&&!u&&(u=nw(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=nw(Math.floor(u*i))),{width:c,height:u}}function rw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const sw=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(Ft){}return t}();function ow(t,e){const n=function(t,e){return Jx(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function aw(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function lw(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function cw(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=aw(t,r,n),a=aw(r,s,n),l=aw(s,e,n),c=aw(o,a,n),u=aw(a,l,n);return aw(c,u,n)}function uw(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function hw(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function dw(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function fw(t){return"angle"===t?{between:_b,compare:xb,normalize:wb}:{between:kb,compare:(t,e)=>t-e,normalize:t=>t}}function pw(t){let{start:e,end:n,count:i,loop:r,style:s}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:s}}function mw(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=fw(i),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=fw(i),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(e[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let m,g,v,y=!1,b=null;const x=()=>y||l(r,v,m)&&0!==a(r,v),w=()=>!y||0===a(s,m)||l(s,v,m);for(let _=u,S=u;_<=h;++_)g=e[_%o],g.skip||(m=c(g[i]),m!==v&&(y=l(m,r,s),null===b&&x()&&(b=0===a(m,r)?_:S),null!==b&&w()&&(p.push(pw({start:b,end:_,loop:d,count:o,style:f})),b=null),S=_,v=m));return null!==b&&p.push(pw({start:b,end:h,loop:d,count:o,style:f})),p}function gw(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=mw(i[r],t.points,e);s.length&&n.push(...s)}return n}function vw(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),s=yw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(t,e,i,r){const s=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];t=yw(i.setContext(Cx(r,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),bw(t,u)&&f(h,d-1,p.loop,u),e=s,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,i):e}function yw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bw(t,e){if(!e)return!1;const n=[],i=function(t,e){return zb(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function xw(t,e,n){return t.options.clip?t[n]:e[n]}function ww(t,e){const n=e._clip;if(n.disabled)return!1;const i=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:xw(n,e,"left"),right:xw(n,e,"right"),top:xw(i,e,"top"),bottom:xw(i,e,"bottom")}:e}(e,t.chartArea);return{left:!1===n.left?0:i.left-(!0===n.left?0:n.left),right:!1===n.right?t.width:i.right+(!0===n.right?0:n.right),top:!1===n.top?0:i.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?t.height:i.bottom+(!0===n.bottom?0:n.bottom)}}class _w{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach(i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Ab.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Sw=new _w;const kw="transparent",Ew={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Bb(t||kw),r=i.valid&&Bb(e||kw);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Tw{constructor(t,e,n,i){const r=e[n];i=Tx([t.to,i,r,t.from]);const s=Tx([t.from,r,i]);this._active=!0,this._fn=t.fn||Ew[t.type||typeof s],this._easing=Ub[t.easing]||Ub.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Tx([t.to,e,i,t.from]),this._from=Tx([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Cw{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Oy(t))return;const e=Object.keys(ex.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Oy(r))return;const s={};for(const t of e)s[t]=r[t];(Ry(r.properties)&&r.properties||[i]).forEach(t=>{t!==i&&n.has(t)||n.set(t,s)})})}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new Tw(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Sw.add(this._chart,n),!0):void 0}}function Iw(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function Nw(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Pw(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,s="single"===i.mode;let o,a,l,c;if(null===e)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],jy(c)&&(s||0===e||ub(e)===ub(c))&&(e+=c)}return u||i.all?e:0}function Aw(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Dw(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Mw(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Rw(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=Dw(r,u,n),d[a]=s,d._top=Mw(d,o,!0,i.type),d._bottom=Mw(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function Ow(t,e){const n=t.scales;return Object.keys(n).filter(t=>n[t].axis===e).shift()}function jw(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const Lw=t=>"reset"===t||"none"===t,Fw=(t,e)=>e?t:Object.assign({},t);class Vw{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Aw(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&jw(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=Fy(n.xAxisID,Ow(t,"x")),s=e.yAxisID=Fy(n.yAxisID,Ow(t,"y")),o=e.rAxisID=Fy(n.rAxisID,Ow(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),c=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Nb(this._data,this),t._stacked&&jw(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Oy(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}(e,t)}else if(n!==e){if(n){Nb(n,this);const t=this._cachedMeta;jw(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Ib.forEach(t=>{const e="_onData"+$y(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach(t=>{"function"===typeof t[e]&&t[e](...r)}),o}})}))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Aw(e.vScale,e),e.stack!==n.stack&&(i=!0,jw(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&(Rw(this,e._parsed),e._stacked=Aw(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=Ry(i[t])?this.parseArrayData(n,i,t,e):Oy(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&Rw(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(Xy(d,o),h),y:s.parse(Xy(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis];return Pw({keys:Nw(i,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=Pw(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Nw(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const e=d[o.axis];return!jy(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],jy(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return Oy(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(Fy(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=Iw(t,n),r=Iw(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,o,a),c=o;c<o+a;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return Cx(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return Cx(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&Jy(n);if(o)return Fw(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(ex.elements[t]),f=l.resolveNamedOptions(h,d,()=>this.getContext(n,i,e),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(Fw(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(e),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new Cw(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Lw(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){Lw(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Lw(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&jw(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Uw(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Pb(i.sort((t,e)=>t-e))}return t._cache.$bar}(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(Jy(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function zw(t,e,n,i){return Ry(t)?function(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Bw(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(zw(d,h,s,c));return l}function Hw(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Ww(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[qw(u,o,a,l)]=!0,r=c)),s[qw(r,o,a,l)]=!0,t.borderSkipped=s}function qw(t,e,n,i){var r,s,o;return i?(o=n,t=Gw(t=(r=t)===(s=e)?o:r===o?s:r,n,e)):t=Gw(t,e,n),t}function Gw(t,e,n){return"start"===t?e:"end"===t?n:t}function Kw(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}Ot(Vw,"defaults",{}),Ot(Vw,"datasetElementType",null),Ot(Vw,"dataElementType",null);class Yw extends Vw{parsePrimitiveData(t,e,n,i){return Bw(t,e,n,i)}parseArrayData(t,e,n,i){return Bw(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(Xy(p,l),h),u.push(zw(Xy(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=Hw(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||My(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||Hw(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(m.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const g=m.options||t[d].options;Ww(m,g,p,s),Kw(m,g,c.ratio),this.updateElement(t[d],d,m,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),r=n.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(e),a=o&&o[n.axis],l=t=>{const e=t._parsed.find(t=>t[n.axis]===a),i=e&&e[t.vScale.axis];if(My(i)||isNaN(i))return!0};for(const c of i)if((void 0===e||!l(c))&&((!1===r||-1===s.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&s.push(c.stack),c.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[Fy("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness;return{min:o||Uw(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=Hw(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&ub(d)!==ub(l.barEnd)&&(f=0),f+=d);const m=My(r)||c?f:r;let g=e.getPixelForValue(m);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):g,h=u-g,Math.abs(h)<s){h=function(t,e,n){return 0!==t?ub(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,o)*s,d===o&&(g-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);g=Math.max(Math.min(g,f),l),u=g+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(g))}if(g===e.getPixelForValue(o)){const t=ub(h)*e.getLineWidthForValue(o)/2;g+=t,h-=t}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=Fy(i.maxBarThickness,1/0);let o,a;const l=this._getAxisCount();if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,c="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n*l):function(t,e,n,i){const r=n.barThickness;let s,o;return My(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}(t,e,i,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(Fy(u,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+h;o=c.start+c.chunk*d+c.chunk/2,a=Math.min(s,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}Ot(Yw,"id","bar"),Ot(Yw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ot(Yw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Qw extends Vw{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=Fy(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=Fy(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),c=s.axis,u=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=Fy(n&&n._custom,r),i}}Ot(Qw,"id","bubble"),Ot(Qw,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ot(Qw,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Xw extends Vw{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=t=>+n[t];if(Oy(n[t])){const{key:t="value"}=this._parsing;o=e=>+Xy(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return mb(this.options.rotation-90)}_getCircumference(){return mb(this.options.circumference)}_getRotationExtents(){let t=nb,e=-nb;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function(t,e,n){let i=1,r=1,s=0,o=0;if(e<nb){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>_b(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>_b(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),m=f(0,c,h),g=f(ob,u,d),v=p(eb,c,h),y=p(eb+ob,u,d);i=(m-v)/2,r=(g-y)/2,s=-(m+v)/2,o=-(g+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(d,h,a),v=(n.width-s)/f,y=(n.height-s)/p,b=Math.max(Math.min(v,y)/2,0),x=Vy(this.options.radius,b),w=(x-Math.max(x*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=g*x,i.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/nb)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let m,g=this._getRotation();for(m=0;m<e;++m)g+=this._circumference(m,r);for(m=e;m<e+n;++m){const e=this._circumference(m,r),n=t[m],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+e,circumference:e,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(m,n.active?"active":i)),g+=e,this.updateElement(n,m,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?nb*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Kb(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,o,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,o=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Fy(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ot(Xw,"id","doughnut"),Ot(Xw,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ot(Xw,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Ot(Xw,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class $w extends Vw{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=Ob(e,i,s);this._drawStart=o,this._drawCount=a,jb(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,m=fb(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===i,v=e+n,y=t.length;let b=e>0&&this.getParsed(e-1);for(let x=0;x<y;++x){const n=t[x],f=g?n:{};if(x<e||x>=v){f.skip=!0;continue}const y=this.getParsed(x),w=My(y[d]),_=f[h]=s.getPixelForValue(y[h],x),S=f[d]=r||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],x);f.skip=isNaN(_)||isNaN(S)||w,f.stop=x>0&&Math.abs(y[h]-b[h])>m,p&&(f.parsed=y,f.raw=l.data[x]),u&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":i)),g||this.updateElement(n,x,f,i),b=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ot($w,"id","line"),Ot($w,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ot($w,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Jw extends Vw{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Kb(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return zx.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*eb;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,i,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,i,f),m=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(o.animateScale&&(m=0),o.animateRotate&&(n=p=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":i)};this.updateElement(e,h,g,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?mb(this.resolveDataElementOptions(t,e).angle||n):0}}Ot(Jw,"id","polarArea"),Ot(Jw,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ot(Jw,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Zw extends Xw{}Ot(Zw,"id","pie"),Ot(Zw,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class t_ extends Vw{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return zx.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,o,u,i)}}}Ot(t_,"id","radar"),Ot(t_,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ot(t_,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class e_ extends Vw{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=Ob(e,n,i);if(this._drawStart=r,this._drawCount=s,jb(e)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:m}=this.options,g=fb(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let y=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=v?e:{},p=My(n[f]),x=c[d]=s.getPixelForValue(n[d],b),w=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(x)||isNaN(w)||p,c.stop=b>0&&Math.abs(n[d]-y[d])>g,m&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":i)),v||this.updateElement(e,b,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}Ot(e_,"id","scatter"),Ot(e_,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ot(e_,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function n_(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class i_{static override(t){Object.assign(i_.prototype,t)}constructor(t){Ot(this,"options",void 0),this.options=t||{}}init(){}formats(){return n_()}parse(){return n_()}format(){return n_()}add(){return n_()}diff(){return n_()}startOf(){return n_()}endOf(){return n_()}}var r_=i_;function s_(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const o=a._reversePixels?Cb:Tb;if(!i){const i=o(s,e,n);if(l){const{vScale:e}=r._cachedMeta,{_parsed:n}=t,s=n.slice(0,i.lo+1).reverse().findIndex(t=>!My(t[e.axis]));i.lo-=Math.max(0,s);const o=n.slice(i.hi).findIndex(t=>!My(t[e.axis]));i.hi+=Math.max(0,o)}return i}if(r._sharedOptions){const t=s[0],i="function"===typeof t.getRange&&t.getRange(e);if(i){const t=o(s,e,n-i),r=o(s,e,n+i);return{lo:t.lo,hi:r.hi}}}}return{lo:0,hi:s.length-1}}function o_(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=s_(s[a],e,o,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function a_(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return o_(t,n,e,function(n,o,a){(r||lx(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})},!0),s}function l_(t,e,n,i,r,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return o_(t,n,e,function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})}),o}function c_(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?l_(t,e,n,i,r,s):function(t,e,n,i){let r=[];return o_(t,n,e,function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=yb(t,{x:e.x,y:e.y});_b(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})}),r}(t,e,n,r):[]}function u_(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return o_(t,n,e,(t,i,l)=>{t[o]&&t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))}),i&&!a?[]:s}var h_={evaluateInteractionItems:o_,modes:{index(t,e,n,i){const r=ew(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?a_(t,r,s,i,o):c_(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,n,i){const r=ew(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?a_(t,r,s,i,o):c_(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>a_(t,ew(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=ew(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return c_(t,r,s,n.intersect,i,o)},x:(t,e,n,i)=>u_(t,ew(e,t),"x",n.intersect,i),y:(t,e,n,i)=>u_(t,ew(e,t),"y",n.intersect,i)}};const d_=["left","top","right","bottom"];function f_(t,e){return t.filter(t=>t.pos===e)}function p_(t,e){return t.filter(t=>-1===d_.indexOf(t.pos)&&t.box.axis===e)}function m_(t,e){return t.sort((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function g_(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!d_.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&e.availableHeight)}return n}function v_(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function y_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function b_(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Oy(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&y_(o,s.getPadding());const a=Math.max(0,e.outerWidth-v_(o,t,"left","right")),l=Math.max(0,e.outerHeight-v_(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function x_(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{i[t]=Math.max(e[t],n[t])}),i}return i(t?["left","right"]:["top","bottom"])}function w_(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,x_(a.horizontal,e));const{same:o,other:h}=b_(e,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&w_(r,e,n,i)||u}function __(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function S_(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,s=l.size||t.height;Jy(l.start)&&(o=l.start),t.fullSize?__(t,r.left,o,n.outerWidth-r.right-r.left,s):__(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*c,o=l.size||t.width;Jy(l.start)&&(s=l.start),t.fullSize?__(t,s,r.top,o,n.outerHeight-r.bottom-r.top):__(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}var k_={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=kx(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=m_(e.filter(t=>t.box.fullSize),!0),i=m_(f_(e,"left"),!0),r=m_(f_(e,"right")),s=m_(f_(e,"top"),!0),o=m_(f_(e,"bottom")),a=p_(e,"x"),l=p_(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:f_(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;zy(t.boxes,t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()});const u=l.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);y_(d,kx(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=g_(l.concat(c),h);w_(a.fullSize,f,h,p),w_(l,f,h,p),w_(c,f,h,p)&&w_(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),S_(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,S_(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},zy(a.chartArea,e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class E_{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class T_ extends E_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const C_="$chartjs",I_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N_=t=>null===t||""===t;const P_=!!sw&&{passive:!0};function A_(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,P_)}function D_(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function M_(t,e,n){const i=t.canvas,r=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||D_(n.addedNodes,i),e=e&&!D_(n.removedNodes,i);e&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function R_(t,e,n){const i=t.canvas,r=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||D_(n.removedNodes,i),e=e&&!D_(n.addedNodes,i);e&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const O_=new Map;let j_=0;function L_(){const t=window.devicePixelRatio;t!==j_&&(j_=t,O_.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function F_(t,e,n){const i=t.canvas,r=i&&Xx(i);if(!r)return;const s=Db((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()},window),o=new ResizeObserver(t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)});return o.observe(r),function(t,e){O_.size||window.addEventListener("resize",L_),O_.set(t,e)}(t,s),o}function V_(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){O_.delete(t),O_.size||window.removeEventListener("resize",L_)}(t)}function U_(t,e,n){const i=t.canvas,r=Db(e=>{null!==t.ctx&&n(function(t,e){const n=I_[t.type]||t.type,{x:i,y:r}=ew(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))},t);return function(t,e,n){t&&t.addEventListener(e,n,P_)}(i,e,r),r}class z_ extends E_{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[C_]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",N_(r)){const e=ow(t,"width");void 0!==e&&(t.width=e)}if(N_(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=ow(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[C_])return!1;const n=e[C_].initial;["height","width"].forEach(t=>{const i=n[t];My(i)?e.removeAttribute(t):e.setAttribute(t,i)});const i=n.style||{};return Object.keys(i).forEach(t=>{e.style[t]=i[t]}),e.width=e.width,delete e[C_],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:M_,detach:R_,resize:F_}[e]||U_;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:V_,detach:V_,resize:V_}[e]||A_)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return iw(t,e,n,i)}isAttached(t){const e=t&&Xx(t);return!(!e||!e.isConnected)}}class B_{constructor(){Ot(this,"x",void 0),Ot(this,"y",void 0),Ot(this,"active",!1),Ot(this,"options",void 0),Ot(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return fb(this.x)&&fb(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]}),i}}function H_(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}(e,c,s,o/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort((t,e)=>t-e).pop(),e}(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}(s,e,r);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(W_(e,c,u,My(i)?0:a-i,a),t=0,n=o-1;t<n;t++)W_(e,c,u,s[t],s[t+1]);return W_(e,c,u,l,My(i)?e.length:l+i),c}return W_(e,c,u),c}function W_(t,e,n,i,r){const s=Fy(i,0),o=Math.min(Fy(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}Ot(B_,"defaults",{}),Ot(B_,"defaultRoutes",void 0);const q_=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,G_=(t,e)=>Math.min(e||t,t);function K_(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function Y_(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function Q_(t){return t.drawTicks?t.tickLength:0}function X_(t,e){if(!t.display)return 0;const n=Ex(t.font,e),i=kx(t.padding);return(Ry(t.text)?t.text.length:1)*n.lineHeight+i.height}function $_(t,e,n){let i=Mb(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class J_ extends B_{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=Ly(t,Number.POSITIVE_INFINITY),e=Ly(e,Number.NEGATIVE_INFINITY),n=Ly(n,Number.POSITIVE_INFINITY),i=Ly(i,Number.NEGATIVE_INFINITY),{min:Ly(t,n),max:Ly(e,i),minDefined:jy(t),maxDefined:jy(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Ly(n,Ly(i,n)),max:Ly(i,Ly(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Uy(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,s=Vy(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?K_(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=H_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Uy(this.options.afterUpdate,[this])}beforeSetDimensions(){Uy(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Uy(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Uy(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Uy(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=Uy(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Uy(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Uy(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=G_(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Sb(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-Q_(t.grid)-e.padding-X_(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=gb(Math.min(Math.asin(Sb((c.highest.height+6)/s,-1,1)),Math.asin(Sb(o/a,-1,1))-Math.asin(Sb(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Uy(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Uy(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=X_(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=Q_(r)+s):(t.height=this.maxHeight,t.width=Q_(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=mb(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*r.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Uy(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)My(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=K_(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(e/G_(e,n));let l,c,u,h,d,f,p,m,g,v,y,b=0,x=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},m=d.lineHeight,g=v=0,My(h)||Ry(h)){if(Ry(h))for(c=0,u=h.length;c<u;++c)y=h[c],My(y)||Ry(y)||(g=nx(i,p.data,p.gc,g,y),v+=m)}else g=nx(i,p.data,p.gc,g,h),v=m;s.push(g),o.push(v),b=Math.max(g,b),x=Math.max(v,x)}!function(t,e){zy(t,t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}})}(r,e);const w=s.indexOf(b),_=o.indexOf(x),S=t=>({width:s[t]||0,height:o[t]||0});return{first:S(0),last:S(e-1),widest:S(w),highest:S(_),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Sb(this._alignToPixels?rx(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Cx(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=function(t,e){return Cx(t,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=mb(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=Q_(r),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(t){return rx(n,t,f)};let g,v,y,b,x,w,_,S,k,E,T,C;if("top"===s)g=m(this.bottom),w=this.bottom-u,S=g-p,E=m(t.top)+p,C=t.bottom;else if("bottom"===s)g=m(this.top),E=t.top,C=m(t.bottom)-p,w=g+p,S=this.top+u;else if("left"===s)g=m(this.right),x=this.right-u,_=g-p,k=m(t.left)+p,T=t.right;else if("right"===s)g=m(this.left),k=t.left,T=m(t.right)-p,x=g+p,_=this.left+u;else if("x"===e){if("center"===s)g=m((t.top+t.bottom)/2+.5);else if(Oy(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}E=t.top,C=t.bottom,w=g+p,S=w+u}else if("y"===e){if("center"===s)g=m((t.left+t.right)/2);else if(Oy(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}x=g-p,_=x-u,k=t.left,T=t.right}const I=Fy(i.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/I));for(v=0;v<c;v+=N){const t=this.getContext(v),e=r.setContext(t),i=o.setContext(t),s=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;y=Y_(this,v,a),void 0!==y&&(b=rx(n,y,s),l?x=_=k=T=b:w=S=E=C=b,h.push({tx1:x,ty1:w,tx2:_,ty2:S,x1:k,y1:E,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=Q_(n.grid),d=h+c,f=u?-c:d,p=-mb(this.labelRotation),m=[];let g,v,y,b,x,w,_,S,k,E,T,C,I="middle";if("top"===i)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,x=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,x=t.x}else if("x"===e){if("center"===i)w=(t.top+t.bottom)/2+d;else if(Oy(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)+d}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)x=(t.left+t.right)/2-d;else if(Oy(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?I="top":"end"===a&&(I="bottom"));const N=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){y=o[g],b=y.label;const t=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,k=this._resolveTickFontOptions(g),E=k.lineHeight,T=Ry(b)?b.length:1;const e=T/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=_;if(s?(x=S,"inner"===_&&(d=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===i?"near"===l||0!==p?-T*E+E/2:"center"===l?-N.highest.height/2-e*E+E:-N.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?N.highest.height/2-e*E:N.highest.height-T*E,u&&(C*=-1),0===p||t.showLabelBackdrop||(x+=E/2*Math.sin(p))):(w=S,C=(1-T)*E/2),t.showLabelBackdrop){const e=kx(t.backdropPadding),n=N.heights[g],i=N.widths[g];let r=C-e.top,s=0-e.left;switch(I){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":g===v-1?s-=i:g>0&&(s-=i/2)}h={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}m.push({label:b,font:k,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[x,w],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-mb(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=t+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex(e=>e.value===t);if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=rx(t,this.left,s)-s/2,c=rx(t,this.right,o)+o/2,u=h=a):(u=rx(t,this.top,s)-s/2,h=rx(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&cx(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;mx(e,r.label,0,r.textOffset,n,t)}n&&ux(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=Ex(n.font),s=kx(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||Oy(e)?(a+=s.bottom,Ry(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const m=o-r,g=a-s;if(t.isHorizontal()){if(d=Rb(i,s,a),Oy(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+m-e}else f="center"===n?(c.bottom+c.top)/2+m-e:q_(t,n,e);h=a-s}else{if(Oy(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-g+e}else d="center"===n?(c.left+c.right)/2-g+e:q_(t,n,e);f=Rb(i,o,r),p="left"===n?-ob:ob}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);mx(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:$_(o,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Fy(t.grid&&t.grid.z,-1),i=Fy(t.border&&t.border.z,0);return this._isVisible()&&this.draw===J_.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return Ex(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Z_{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=Gy(Object.create(null),[n?ex.get(n):{},ex.get(e),t.defaults]);ex.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ex.route(s,r,l,a)})}(e,t.defaultRoutes);t.descriptors&&ex.describe(e,t.descriptors)}(t,s,n),this.override&&ex.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in ex[i]&&(delete ex[i][n],this.override&&delete Xb[n])}}class tS{constructor(){this.controllers=new Z_(Vw,"datasets",!0),this.elements=new Z_(B_,"elements"),this.plugins=new Z_(Object,"plugins"),this.scales=new Z_(J_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach(e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):zy(e,e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)})})}_exec(t,e,n){const i=$y(t);Uy(n["before"+i],[],n),e[t](n),Uy(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var eS=new tS;class nS{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===Uy(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){My(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=Fy(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(eS.plugins.items);for(let s=0;s<i.length;s++)n.push(eS.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:s}=e;const o=[],a=t.getContext();for(const l of r){const e=l.id,r=iS(n[e],i);null!==r&&o.push({plugin:l,options:rS(t.config,{plugin:l,local:s[e]},r,a)})}return o}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function iS(t,e){return e||!1!==t?!0===t?{}:t:null}function rS(t,e,n,i){let{plugin:r,local:s}=e;const o=t.pluginScopeKeys(r),a=t.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sS(t,e){const n=ex.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function oS(t){if("x"===t||"y"===t||"r"===t)return t}function aS(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function lS(t){if(oS(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n){const e=r.axis||aS(r.position)||t.length>1&&oS(t[0].toLowerCase());if(e)return e}throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function cS(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function uS(t,e){const n=Xb[t.type]||{scales:{}},i=e.scales||{},r=sS(t.type,e),s=Object.create(null);return Object.keys(i).forEach(e=>{const o=i[e];if(!Oy(o))return console.error("Invalid scale configuration for scale: ".concat(e));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=lS(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(e=>e.xAxisID===t||e.yAxisID===t);if(n.length)return cS(t,"x",n[0])||cS(t,"y",n[0])}return{}}(e,t),ex.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};s[e]=Ky(Object.create(null),[{axis:a},o,c[a],c[l]])}),t.data.datasets.forEach(n=>{const r=n.type||t.type,o=n.indexAxis||sS(r,e),a=(Xb[r]||{}).scales||{};Object.keys(a).forEach(t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),r=n[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),Ky(s[r],[{axis:e},i[r],a[t]])})}),Object.keys(s).forEach(t=>{const e=s[t];Ky(e,[ex.scales[e.type],ex.scale])}),s}function hS(t){const e=t.options||(t.options={});e.plugins=Fy(e.plugins,{}),e.scales=uS(t,e)}function dS(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const fS=new Map,pS=new Set;function mS(t,e){let n=fS.get(t);return n||(n=e(),fS.set(t,n),pS.add(n)),n}const gS=(t,e,n)=>{const i=Xy(e,n);void 0!==i&&t.add(i)};class vS{constructor(t){this._config=function(t){return(t=t||{}).data=dS(t.data),hS(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mS(t,()=>[["datasets.".concat(t),""]])}datasetAnimationScopeKeys(t,e){return mS("".concat(t,".transition.").concat(e),()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]])}datasetElementScopeKeys(t,e){return mS("".concat(t,"-").concat(e),()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return mS("".concat(n,"-plugin-").concat(e),()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach(e=>{t&&(a.add(t),e.forEach(e=>gS(a,t,e))),e.forEach(t=>gS(a,i,t)),e.forEach(t=>gS(a,Xb[r]||{},t)),e.forEach(t=>gS(a,ex,t)),e.forEach(t=>gS(a,$b,t))});const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),pS.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Xb[e]||{},ex.datasets[e]||{},{type:e},ex,$b]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=yS(this._resolverCache,t,i);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=Px(t);for(const r of e){const e=n(r),s=i(r),o=(s||e)&&t[r];if(e&&(Zy(o)||bS(o))||s&&Ry(o))return!0}return!1}(s,e)){r.$shared=!1;a=Nx(s,n=Zy(n)?n():n,this.createResolver(t,n,o))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=yS(this._resolverCache,t,n);return Oy(e)?Nx(r,e,void 0,i):r}}function yS(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:Ix(e,n),subPrefixes:n.filter(t=>!t.toLowerCase().includes("hover"))},i.set(r,s)}return s}const bS=t=>Oy(t)&&Object.getOwnPropertyNames(t).some(e=>Zy(t[e]));const xS=["top","bottom","left","right","chartArea"];function wS(t,e){return"top"===t||"bottom"===t||-1===xS.indexOf(t)&&"x"===e}function _S(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function SS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Uy(n&&n.onComplete,[t],e)}function kS(t){const e=t.chart,n=e.options.animation;Uy(n&&n.onProgress,[t],e)}function ES(t){return Qx()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const TS={},CS=t=>{const e=ES(t);return Object.values(TS).filter(t=>t.canvas===e).pop()};function IS(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}class NS{static register(){eS.add(...arguments),PS()}static unregister(){eS.remove(...arguments),PS()}constructor(t,e){const n=this.config=new vS(e),i=ES(t),r=CS(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!Qx()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?T_:z_}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=Dy(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}(t=>this.update(t),s.resizeDelay||0),this._dataChanges=[],TS[this.id]=this,o&&a?(Sw.listen(this,"complete",SS),Sw.listen(this,"progress",kS),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return My(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return eS}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sx(this.canvas,this.ctx),this}stop(){return Sw.stop(this),this}resize(t,e){Sw.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,rw(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Uy(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){zy(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((t,e)=>(t[e]=!1,t),{});let r=[];e&&(r=r.concat(Object.keys(e).map(t=>{const n=e[t],i=lS(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}}))),zy(r,e=>{const r=e.options,s=r.id,o=lS(s,r),a=Fy(r.type,e.dtype);void 0!==r.position&&wS(r.position,o)===wS(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(eS.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)}),zy(i,(t,e)=>{t||delete n[e]}),zy(n,t=>{k_.configure(this,t,t.options),k_.addBox(this,t)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((t,e)=>t.index-e.index),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(_S("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((t,n)=>{0===e.filter(e=>e===t._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||sS(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=eS.getController(s),{datasetElementType:i,dataElementType:o}=ex.datasets[s];Object.assign(e,{dataElementType:eS.getElement(o),datasetElementType:i&&eS.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){zy(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||zy(r,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(_S("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){zy(this.scales,t=>{k_.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);tb(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){IS(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),i=n(0);for(let r=1;r<e;r++)if(!tb(i,n(r)))return;return Array.from(i).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;k_.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],zy(this.boxes,t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Zy(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Sw.has(this)?this.attached&&!Sw.running(this)&&Sw.start(this):(this.draw(),SS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=ww(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(i&&cx(e,i),t.controller.draw(),i&&ux(e),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return lx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=h_.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(t=>t&&t._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Cx(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);Jy(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update(e=>e.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Sw.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),sx(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete TS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};zy(this.options.events,t=>n(t,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){zy(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},zy(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}});!By(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,Uy(r.onHover,[t,o,this],this),a&&Uy(r.onClick,[t,o,this],this));const c=!By(o,i);return(c||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function PS(){return zy(NS.instances,t=>t._plugins.invalidate())}function AS(t,e,n,i){const r=wx(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,o=Math.min(s,i*e/2),a=t=>{const e=(n-Math.min(s,t))*i/2;return Sb(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Sb(r.innerStart,0,o),innerEnd:Sb(r.innerEnd,0,o)}}function DS(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function MS(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const t=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const m=(p-Math.max(.001,p*h-n/eb)/h)/2,g=l+m+f,v=r-m-f,{outerStart:y,outerEnd:b,innerStart:x,innerEnd:w}=AS(e,d,h,v-g),_=h-y,S=h-b,k=g+y/_,E=v-b/S,T=d+x,C=d+w,I=g+x/T,N=v-w/C;if(t.beginPath(),s){const e=(k+E)/2;if(t.arc(o,a,h,k,e),t.arc(o,a,h,e,E),b>0){const e=DS(S,E,o,a);t.arc(e.x,e.y,b,E,v+ob)}const n=DS(C,v,o,a);if(t.lineTo(n.x,n.y),w>0){const e=DS(C,N,o,a);t.arc(e.x,e.y,w,v+ob,N+Math.PI)}const i=(v-w/d+(g+x/d))/2;if(t.arc(o,a,d,v-w/d,i,!0),t.arc(o,a,d,i,g+x/d,!0),x>0){const e=DS(T,I,o,a);t.arc(e.x,e.y,x,I+Math.PI,g-ob)}const r=DS(_,g,o,a);if(t.lineTo(r.x,r.y),y>0){const e=DS(_,k,o,a);t.arc(e.x,e.y,y,g-ob,k)}}else{t.moveTo(o,a);const e=Math.cos(k)*h+o,n=Math.sin(k)*h+a;t.lineTo(e,n);const i=Math.cos(E)*h+o,r=Math.sin(E)*h+a;t.lineTo(i,r)}t.closePath()}function RS(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,p?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(s){MS(t,e,n,i,m,r);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(m=o+(a%nb||nb))}p&&function(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+ob,i-ob),t.closePath(),t.clip()}(t,e,m),l.selfJoin&&m-o>=eb&&0===f&&"miter"!==u&&function(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,wb(i-n));if(t.beginPath(),t.arc(r,s,o-c/2,i+h/2,n-h/2),a>0){const e=Math.min(c/a,wb(i-n));t.arc(r,s,a+c/2,n-e/2,i+e/2,!0)}else{const e=Math.min(c/2,o*wb(i-n));if("round"===u)t.arc(r,s,e,n-eb/2,i+eb/2,!0);else if("bevel"===u){const o=2*e*e,a=-o*Math.cos(n+eb/2)+r,l=-o*Math.sin(n+eb/2)+s,c=o*Math.cos(i+eb/2)+r,u=o*Math.sin(i+eb/2)+s;t.lineTo(a,l),t.lineTo(c,u)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}(t,e,m),s||(MS(t,e,n,i,m,r),t.stroke())}Ot(NS,"defaults",ex),Ot(NS,"instances",TS),Ot(NS,"overrides",Xb),Ot(NS,"registry",eS),Ot(NS,"version","4.5.0"),Ot(NS,"getChart",CS);class OS extends B_{constructor(t){super(),Ot(this,"circumference",void 0),Ot(this,"endAngle",void 0),Ot(this,"fullCircles",void 0),Ot(this,"innerRadius",void 0),Ot(this,"outerRadius",void 0),Ot(this,"pixelMargin",void 0),Ot(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=yb(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=Fy(u,a-o),f=_b(r,o,a)&&o!==a,p=d>=nb||f,m=kb(s,l+h,c+h);return p&&m}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>nb?Math.floor(n/nb):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(eb,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){MS(t,e,n,i,l,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%nb||nb))}MS(t,e,n,i,l,r),t.fill()}(t,this,a,r,s),RS(t,this,a,r,s),t.restore()}}function jS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=Fy(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Fy(n.borderDash,e.borderDash)),t.lineDashOffset=Fy(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Fy(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fy(n.borderWidth,e.borderWidth),t.strokeStyle=Fy(n.borderColor,e.borderColor)}function LS(t,e,n){t.lineTo(n.x,n.y)}function FS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function VS(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=FS(r,n,i),u=function(t){return t.stepped?hx:t.tension||"monotone"===t.cubicInterpolationMode?dx:LS}(s);let h,d,f,{move:p=!0,reverse:m}=i||{};for(h=0;h<=c;++h)d=r[(a+(m?c-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,m,s.stepped),f=d);return l&&(d=r[(a+(m?c:0))%o],u(t,f,d,m,s.stepped)),!!l}function US(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=FS(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,m,g=0,v=0;const y=t=>(o+(c?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(g,p),t.lineTo(g,f),t.lineTo(g,m))};for(l&&(h=r[y(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[y(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),g=(v*g+e)/++v):(b(),t.lineTo(e,n),d=i,v=0,f=p=n),m=n}b()}function zS(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?US:VS}Ot(OS,"id","arc"),Ot(OS,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ot(OS,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ot(OS,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const BS="function"===typeof Path2D;function HS(t,e,n,i){BS&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),jS(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:s}=e,o=zS(e);for(const a of r)jS(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class WS extends B_{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Yx(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}(n,r,s,i);return vw(t,!0===i?[{start:o,end:a,loop:s}]:function(t,e,n,i){const r=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(o-1)%r,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!t._fullLoop&&0===o&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=gw(this,{property:e,start:i,end:i});if(!s.length)return;const o=[],a=function(t){return t.stepped?lw:t.tension||"monotone"===t.cubicInterpolationMode?cw:aw}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((i-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return zS(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=zS(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)s&=r(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),HS(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function qS(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}Ot(WS,"id","line"),Ot(WS,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ot(WS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ot(WS,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class GS extends B_{constructor(t){super(),Ot(this,"parsed",void 0),Ot(this,"skip",void 0),Ot(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return qS(this,t,"x",e)}inYRange(t,e){return qS(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!lx(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,ox(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function KS(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function YS(t,e,n,i){return t?0:Sb(e,n,i)}function QS(t){const e=KS(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=_x(i);return{t:YS(r.top,s.top,0,n),r:YS(r.right,s.right,0,e),b:YS(r.bottom,s.bottom,0,n),l:YS(r.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Sx(r),o=Math.min(e,n),a=t.borderSkipped,l=i||Oy(r);return{topLeft:YS(!l||a.top||a.left,s.topLeft,0,o),topRight:YS(!l||a.top||a.right,s.topRight,0,o),bottomLeft:YS(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:YS(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function XS(t,e,n,i){const r=null===e,s=null===n,o=t&&!(r&&s)&&KS(t,i);return o&&(r||kb(e,o.left,o.right))&&(s||kb(n,o.top,o.bottom))}function $S(t,e){t.rect(e.x,e.y,e.w,e.h)}function JS(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}Ot(GS,"id","point"),Ot(GS,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ot(GS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class ZS extends B_{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=QS(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?gx:$S;var a;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,JS(s,e,r)),t.clip(),o(t,JS(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,JS(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return XS(this,t,e,n)}inXRange(t,e){return XS(this,t,null,e)}inYRange(t,e){return XS(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ot(ZS,"id","bar"),Ot(ZS,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ot(ZS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const tk=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class ek extends B_{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Uy(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,n)=>t.sort(e,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=Ex(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=tk(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o}),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach((t,s)=>{const{itemWidth:m,itemHeight:g}=function(t,e,n,i,r){const s=function(t,e,n,i){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce((t,e)=>t.length>e.length?t:e));return e+n.size/2+i.measureText(r).width}(i,t,e,n),o=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=nk(e,n));return i}(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(n,e,r,t,i);s>0&&d+g+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+o}),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=uw(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=Rb(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=Rb(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=Rb(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=Rb(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;cx(t,this),this._draw(),ux(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,o=ex.color,a=uw(t.rtl,this.left,this.width),l=Ex(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=tk(s,u),g=this.isHorizontal(),v=this._computeTitleHeight();d=g?{x:Rb(r,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Rb(r,this.top+v+c,this.bottom-e[0].height),line:0},hw(this.ctx,t.textDirection);const y=m+c;this.legendItems.forEach((b,x)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const w=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),S=f+h+w;let k=d.x,E=d.y;a.setWidth(this.width),g?x>0&&k+S+c>this.right&&(E=d.y+=y,d.line++,k=d.x=Rb(r,this.left+c,this.right-n[d.line])):x>0&&E+y>this.bottom&&(k=d.x=k+e[d.line].width+c,d.line++,E=d.y=Rb(r,this.top+v+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=Fy(n.lineWidth,1);if(i.fillStyle=Fy(n.fillStyle,o),i.lineCap=Fy(n.lineCap,"butt"),i.lineDashOffset=Fy(n.lineDashOffset,0),i.lineJoin=Fy(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=Fy(n.strokeStyle,o),i.setLineDash(Fy(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2);ax(i,o,l,e+h,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-p)/2,0),o=a.leftForLtr(t,f),l=Sx(n.borderRadius);i.beginPath(),Object.values(l).some(t=>0!==t)?gx(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(k),E,b),k=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(_,k+f+h,g?k+S:this.right,t.rtl),function(t,e,n){mx(i,n.text,t,e+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(k),E,b),g)d.x+=S+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=nk(b,t)+c}else d.y+=y}),dw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Ex(e.font),i=kx(e.padding);if(!e.display)return;const r=uw(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Rb(t.align,u,this.right-h);else{const e=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);c=l+Rb(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Rb(o,u,u+h);s.textAlign=r.textAlign(Mb(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,mx(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Ex(t.font),n=kx(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(kb(t,this.left,this.right)&&kb(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],kb(t,i.left,i.left+i.width)&&kb(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,n);i&&!r&&Uy(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&Uy(e.onHover,[t,n,this],this)}else n&&Uy(e.onClick,[t,n,this],this)}}function nk(t,e){return e*(t.text?t.text.length:0)}var ik={id:"legend",_element:ek,start(t,e,n){const i=t.legend=new ek({ctx:t.ctx,options:n,chart:t});k_.configure(t,i,n),k_.addBox(t,i)},stop(t){k_.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;k_.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(t=>{const l=t.controller.getStyle(n?0:void 0),c=kx(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rk extends B_{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=Ry(n.text)?n.text.length:1;this._padding=kx(n.padding);const r=i*Ex(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=Rb(o,n,r),c=e+t,a=r-n):("left"===s.position?(l=n+t,c=Rb(o,i,e),u=-.5*eb):(l=r-t,c=Rb(o,e,i),u=.5*eb),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Ex(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);mx(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:Mb(e.align),textBaseline:"middle",translation:[r,s]})}}var sk={id:"title",_element:rk,start(t,e,n){!function(t,e){const n=new rk({ctx:t.ctx,options:e,chart:t});k_.configure(t,n,e),k_.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;k_.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;k_.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ok={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++s}}if(0===s||0===i.size)return!1;const o=[...i].reduce((t,e)=>t+e)/i.size;return{x:o,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=bb(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function ak(t,e){return e&&(Ry(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function lk(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function ck(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function uk(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Ex(e.bodyFont),c=Ex(e.titleFont),u=Ex(e.footerFont),h=s.length,d=r.length,f=i.length,p=kx(e.padding);let m=p.height,g=0,v=i.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){m+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const b=function(t){g=Math.max(g,n.measureText(t).width+y)};return n.save(),n.font=c.string,zy(t.title,b),n.font=l.string,zy(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,zy(i,t=>{zy(t.before,b),zy(t.lines,b),zy(t.after,b)}),y=0,n.font=u.string,zy(t.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function hk(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||"right"===t&&r-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function dk(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||hk(t,e,n,i),yAlign:i}}function fk(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Sx(o);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const m=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Sb(p,0,i.width-e.width),y:Sb(m,0,i.height-e.height)}}function pk(t,e,n){const i=kx(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function mk(t){return ak([],lk(t))}function gk(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const vk={beforeTitle:Ay,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ay,beforeBody:Ay,beforeLabel:Ay,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return My(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ay,afterBody:Ay,beforeFooter:Ay,footer:Ay,afterFooter:Ay};function yk(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?vk[e].call(n,i):r}class bk extends B_{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new Cw(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Cx(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=yk(n,"beforeTitle",this,t),r=yk(n,"title",this,t),s=yk(n,"afterTitle",this,t);let o=[];return o=ak(o,lk(i)),o=ak(o,lk(r)),o=ak(o,lk(s)),o}getBeforeBody(t,e){return mk(yk(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return zy(t,t=>{const e={before:[],lines:[],after:[]},r=gk(n,t);ak(e.before,lk(yk(r,"beforeLabel",this,t))),ak(e.lines,yk(r,"label",this,t)),ak(e.after,lk(yk(r,"afterLabel",this,t))),i.push(e)}),i}getAfterBody(t,e){return mk(yk(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=yk(n,"beforeFooter",this,t),r=yk(n,"footer",this,t),s=yk(n,"afterFooter",this,t);let o=[];return o=ak(o,lk(i)),o=ak(o,lk(r)),o=ak(o,lk(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(ck(this.chart,e[o]));return t.filter&&(l=l.filter((e,i,r)=>t.filter(e,i,r,n))),t.itemSort&&(l=l.sort((e,i)=>t.itemSort(e,i,n))),zy(l,e=>{const n=gk(t.callbacks,e);i.push(yk(n,"labelColor",this,e)),r.push(yk(n,"labelPointStyle",this,e)),s.push(yk(n,"labelTextColor",this,e))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=ok[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=uk(this,n),o=Object.assign({},t,e),a=dk(this.chart,n,o),l=fk(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Sx(o),{x:h,y:d}=t,{width:f,height:p}=e;let m,g,v,y,b,x;return"center"===r?(b=d+p/2,"left"===i?(m=h,g=m-s,y=b+s,x=b-s):(m=h+f,g=m+s,y=b-s,x=b+s),v=m):(g="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(y=d,b=y-s,m=g-s,v=g+s):(y=d+p,b=y+s,m=g+s,v=g-s),x=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:x}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=uw(n.rtl,this.x,this.width);for(t.x=pk(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=Ex(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=Ex(r.bodyFont),u=pk(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,ox(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,ox(t,e,n,c)}else{t.lineWidth=Oy(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=Sx(s.borderRadius);Object.values(o).some(t=>0!==t)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,gx(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),gx(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Ex(n.bodyFont);let h=u.lineHeight,d=0;const f=uw(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},m=f.textAlign(s);let g,v,y,b,x,w,_;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=pk(this,m,n),e.fillStyle=n.bodyColor,zy(this.beforeBody,p),d=o&&"right"!==m?"center"===s?l/2+c:l+2+c:0,b=0,w=i.length;b<w;++b){for(g=i[b],v=this.labelTextColors[b],e.fillStyle=v,zy(g.before,p),y=g.lines,o&&y.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),x=0,_=y.length;x<_;++x)p(y[x]),h=u.lineHeight;zy(g.after,p)}d=0,h=u.lineHeight,zy(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=uw(n.rtl,this.x,this.width);for(t.x=pk(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=Ex(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Sx(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=ok[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=uk(this,t),o=Object.assign({},n,this._size),a=dk(e,t,o),l=fk(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=kx(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),hw(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),dw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}),r=!By(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!By(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index));const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=ok[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}Ot(bk,"positioners",ok);var xk={id:"tooltip",_element:bk,positioners:ok,afterInit(t,e,n){n&&(t.tooltip=new bk({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",Lt(Lt({},n),{},{cancelable:!0})))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function wk(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function _k(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Sk extends J_{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(My(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Sb(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:wk(n,t,Fy(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return _k.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function kk(t,e){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:m}=e,g=!My(s),v=!My(o),y=!My(l),b=(m-p)/(u+1);let x,w,_,S,k=db((m-p)/f/d)*d;if(k<1e-14&&!g&&!v)return[{value:p},{value:m}];S=Math.ceil(m/k)-Math.floor(p/k),S>f&&(k=db(S*k/f/d)*d),My(a)||(x=Math.pow(10,a),k=Math.ceil(k*x)/x),"ticks"===i?(w=Math.floor(p/k)*k,_=Math.ceil(m/k)*k):(w=p,_=m),g&&v&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/r,k/1e3)?(S=Math.round(Math.min((o-s)/k,c)),k=(o-s)/S,w=s,_=o):y?(w=g?s:w,_=v?o:_,S=l-1,k=(_-w)/S):(S=(_-w)/k,S=hb(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(vb(k),vb(w));x=Math.pow(10,My(a)?E:a),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let T=0;for(g&&(h&&w!==s?(n.push({value:s}),w<s&&T++,hb(Math.round((w+T*k)*x)/x,s,Ek(s,b,t))&&T++):w<s&&T++);T<S;++T){const t=Math.round((w+T*k)*x)/x;if(v&&t>o)break;n.push({value:t})}return v&&h&&_!==o?n.length&&hb(n[n.length-1].value,o,Ek(o,b,t))?n[n.length-1].value=o:n.push({value:o}):v&&_!==o||n.push({value:_}),n}function Ek(t,e,n){let{horizontal:i,minRotation:r}=n;const s=mb(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}Ot(Sk,"id","category"),Ot(Sk,"defaults",{ticks:{callback:_k}});class Tk extends J_{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return My(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=ub(i),e=ub(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=kk({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&pb(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Kb(t,this.chart.options.locale,this.options.ticks.format)}}class Ck extends Tk{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jy(t)?t:0,this.max=jy(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=mb(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ot(Ck,"id","linear"),Ot(Ck,"defaults",{ticks:{callback:Qb.formatters.numeric}});const Ik=t=>Math.floor(cb(t)),Nk=(t,e)=>Math.pow(10,Ik(t)+e);function Pk(t){return 1===t/Math.pow(10,Ik(t))}function Ak(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function Dk(t,e){let{min:n,max:i}=e;n=Ly(t.min,n);const r=[],s=Ik(n);let o=function(t,e){let n=Ik(e-t);for(;Ak(t,e,n)>10;)n++;for(;Ak(t,e,n)<10;)n--;return Math.min(n,Ik(t))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=Ly(t.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<i;)r.push({value:f,major:Pk(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=Ly(t.max,f);return r.push({value:p,major:Pk(p),significand:d}),r}class Mk extends J_{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Tk.prototype.parse.apply(this,[t,e]);if(0!==n)return jy(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jy(t)?Math.max(0,t):null,this.max=jy(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jy(this._userMin)&&(this.min=t===Nk(this.min,0)?Nk(this.min,-1):Nk(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t;n===i&&(n<=0?(r(1),s(10)):(r(Nk(n,-1)),s(Nk(i,1)))),n<=0&&r(Nk(i,-1)),i<=0&&s(Nk(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=Dk({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&pb(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Kb(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=cb(t),this._valueRange=cb(this.max)-cb(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(cb(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Rk(t){const e=t.ticks;if(e.display&&t.display){const t=kx(e.backdropPadding);return Fy(e.font&&e.font.size,ex.font.size)+t.height}return 0}function Ok(t,e,n){return n=Ry(n)?n:[n],{w:ix(t,e.string,n),h:n.length*e.lineHeight}}function jk(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function Lk(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?eb/s:0;for(let l=0;l<s;l++){const s=o.setContext(t.getPointLabelContext(l));r[l]=s.padding;const c=t.getPointPosition(l,t.drawingArea+r[l],a),u=Ex(s.font),h=Ok(t.ctx,u,t._pointLabels[l]);i[l]=h;const d=wb(t.getIndexAngle(l)+a),f=Math.round(gb(d));Fk(n,e,d,jk(f,c.x,h.w,0,180),jk(f,c.y,h.h,90,270))}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Rk(s)/2,additionalAngle:o?eb/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const r=Vk(t,u,l);i.push(r),"auto"===a&&(r.visible=Uk(r,c),r.visible&&(c=r))}return i}(t,i,r)}function Fk(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Vk(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(gb(wb(l.angle+ob))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function Uk(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(lx({x:n,y:i},e)||lx({x:n,y:s},e)||lx({x:r,y:i},e)||lx({x:r,y:s},e))}function zk(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!My(a)){const n=Sx(e.borderRadius),l=kx(e.backdropPadding);t.fillStyle=a;const c=i-l.left,u=r-l.top,h=s-i+l.width,d=o-r+l.height;Object.values(n).some(t=>0!==t)?(t.beginPath(),gx(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function Bk(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,nb);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}Ot(Mk,"id","logarithmic"),Ot(Mk,"defaults",{ticks:{callback:Qb.formatters.logarithmic,major:{enabled:!0}}});class Hk extends Tk{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=kx(Rk(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=jy(t)&&!isNaN(t)?t:0,this.max=jy(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Rk(this.options))}generateTickLabels(t){Tk.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{const n=Uy(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){const t=this.options;t.display&&t.pointLabels.display?Lk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return wb(t*(nb/(this._pointLabels.length||1))+mb(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(My(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(My(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return Cx(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-ob+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Bk(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const s=i.setContext(t.getPointLabelContext(r));zk(n,s,e);const o=Ex(s.font),{x:a,y:l,textAlign:c}=e;mx(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=i.setContext(n),l=r.setContext(n);!function(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),Bk(t,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}}),n.display){for(t.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(t.lineWidth=s,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((i,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=Ex(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=kx(a.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}mx(t,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})}),t.restore()}drawTitle(){}}Ot(Hk,"id","radialLinear"),Ot(Hk,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Qb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Ot(Hk,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ot(Hk,"descriptors",{angleLines:{_fallback:"grid"}});const Wk={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qk=Object.keys(Wk);function Gk(t,e){return t-e}function Kk(t,e){if(My(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),jy(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!fb(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function Yk(t,e,n,i){const r=qk.length;for(let s=qk.indexOf(t);s<r-1;++s){const t=Wk[qk[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return qk[s]}return qk[r-1]}function Qk(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=Eb(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function Xk(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class $k extends J_{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new r_(t.adapters.date);i.init(e),Ky(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Kk(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=jy(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=jy(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?Yk(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let s=qk.length-1;s>=qk.indexOf(n);s--){const n=qk[s];if(Wk[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return qk[n?qk.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=qk.indexOf(t)+1,n=qk.length;e<n;++e)if(Wk[qk[e]].common)return qk[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),Xk(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=Sb(i,0,s),r=Sb(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||Yk(r.minUnit,e,n,this._getLabelCapacity(e)),o=Fy(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=fb(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)Qk(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||Qk(c,u,f),Object.keys(c).sort(Gk).map(t=>+t)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return Uy(s,[t,e,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=mb(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,Xk(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Kk(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Pb(t.sort(Gk))}}function Jk(t,e,n){let i,r,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Tb(t,"pos",e)),({pos:i,time:s}=t[a]),({pos:r,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Tb(t,"time",e)),({time:i,pos:s}=t[a]),({time:r,pos:o}=t[l]));const c=r-i;return c?s+(o-s)*(e-i)/c:s}Ot($k,"id","time"),Ot($k,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Zk extends $k{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Jk(e,this.min),this._tableRange=Jk(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort((t,e)=>t-e)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Jk(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Jk(this._table,n*this._tableRange+this._minPos,!0)}}Ot(Zk,"id","timeseries"),Ot(Zk,"defaults",$k.defaults);function tE(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}const eE=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],nE="label";function iE(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function rE(t,e){t.labels=e}function sE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nE;const i=[];t.datasets=e.map(e=>{const r=t.datasets.find(t=>t[n]===e[n]);return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):Lt({},e)})}function oE(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nE;const n={labels:[],datasets:[]};return rE(n,t.labels),sE(n,t.datasets,e),n}function aE(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d}=t,f=tE(t,eE),p=(0,r.useRef)(null),m=(0,r.useRef)(null),g=()=>{p.current&&(m.current=new NS(p.current,{type:a,data:oE(l,o),options:c&&Lt({},c),plugins:u}),iE(e,m.current))},v=()=>{iE(e,null),m.current&&(m.current.destroy(),m.current=null)};return(0,r.useEffect)(()=>{!s&&m.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(m.current,c)},[s,c]),(0,r.useEffect)(()=>{!s&&m.current&&rE(m.current.config.data,l.labels)},[s,l.labels]),(0,r.useEffect)(()=>{!s&&m.current&&l.datasets&&sE(m.current.config.data,l.datasets,o)},[s,l.datasets]),(0,r.useEffect)(()=>{m.current&&(s?(v(),setTimeout(g)):m.current.update(d))},[s,c,l.labels,l.datasets,d]),(0,r.useEffect)(()=>{m.current&&(v(),setTimeout(g))},[a]),(0,r.useEffect)(()=>(g(),()=>v()),[]),r.createElement("canvas",Lt({ref:p,role:"img",height:n,width:i},f),h)}const lE=(0,r.forwardRef)(aE);function cE(t,e){return NS.register(e),(0,r.forwardRef)((e,n)=>r.createElement(lE,Lt(Lt({},e),{},{ref:n,type:t})))}const uE=cE("line",$w),hE=cE("bar",Yw),dE=cE("doughnut",Xw);NS.register(Sk,Ck,GS,WS,ZS,sk,xk,ik,OS);const fE=()=>{const[t,e]=(0,r.useState)(!0),[n,i]=(0,r.useState)("30"),[s,o]=(0,r.useState)({tasks:[],moods:[],goals:[],productivity:{completionRate:0,averageMood:0,totalPomodoros:0,activeGoals:0}});(0,r.useEffect)(()=>{a()},[n]);const a=async()=>{const t=Mv.getCurrentUser();if(t)try{const[e,i,r]=await Promise.all([Fv.getTasks(t.uid),Vv.getMoodHistory(t.uid,parseInt(n)),Xv.getGoals(t.uid)]),s=e.filter(t=>"completed"===t.status),a=e.length>0?Math.round(s.length/e.length*100):0,l=i.length>0?Math.round(i.reduce((t,e)=>t+e.mood,0)/i.length*10)/10:0,c=e.reduce((t,e)=>{var n;return t+((null===(n=e.pomodoroSessions)||void 0===n?void 0:n.length)||0)},0),u=r.filter(t=>"active"===t.status).length;o({tasks:e,moods:i,goals:r,productivity:{completionRate:a,averageMood:l,totalPomodoros:c,activeGoals:u}})}catch(i){console.error("Error loading analytics:",i)}finally{e(!1)}},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}};return t?(0,Rv.jsxs)("div",{className:"loading-container",children:[(0,Rv.jsx)("div",{className:"loading-spinner"}),(0,Rv.jsx)("p",{children:"Loading your analytics..."})]}):(0,Rv.jsxs)("div",{className:"analytics-container",children:[(0,Rv.jsxs)("div",{className:"analytics-header",children:[(0,Rv.jsxs)("div",{className:"header-left",children:[(0,Rv.jsx)("h1",{children:"\ud83d\udcca Analytics Dashboard"}),(0,Rv.jsx)("p",{children:"Insights into your productivity patterns and progress"})]}),(0,Rv.jsx)("div",{className:"time-range-selector",children:(0,Rv.jsxs)("select",{value:n,onChange:t=>i(t.target.value),className:"range-select",children:[(0,Rv.jsx)("option",{value:"7",children:"Last 7 days"}),(0,Rv.jsx)("option",{value:"30",children:"Last 30 days"}),(0,Rv.jsx)("option",{value:"90",children:"Last 90 days"})]})})]}),(0,Rv.jsxs)("div",{className:"metrics-grid",children:[(0,Rv.jsxs)("div",{className:"metric-card",children:[(0,Rv.jsx)("div",{className:"metric-icon",children:"\u2705"}),(0,Rv.jsxs)("div",{className:"metric-content",children:[(0,Rv.jsxs)("span",{className:"metric-value",children:[s.productivity.completionRate,"%"]}),(0,Rv.jsx)("span",{className:"metric-label",children:"Task Completion Rate"})]})]}),(0,Rv.jsxs)("div",{className:"metric-card",children:[(0,Rv.jsx)("div",{className:"metric-icon",children:"\ud83d\ude0a"}),(0,Rv.jsxs)("div",{className:"metric-content",children:[(0,Rv.jsx)("span",{className:"metric-value",children:s.productivity.averageMood}),(0,Rv.jsx)("span",{className:"metric-label",children:"Average Mood Score"})]})]}),(0,Rv.jsxs)("div",{className:"metric-card",children:[(0,Rv.jsx)("div",{className:"metric-icon",children:"\ud83c\udf45"}),(0,Rv.jsxs)("div",{className:"metric-content",children:[(0,Rv.jsx)("span",{className:"metric-value",children:s.productivity.totalPomodoros}),(0,Rv.jsx)("span",{className:"metric-label",children:"Total Pomodoro Sessions"})]})]}),(0,Rv.jsxs)("div",{className:"metric-card",children:[(0,Rv.jsx)("div",{className:"metric-icon",children:"\ud83c\udfaf"}),(0,Rv.jsxs)("div",{className:"metric-content",children:[(0,Rv.jsx)("span",{className:"metric-value",children:s.productivity.activeGoals}),(0,Rv.jsx)("span",{className:"metric-label",children:"Active Goals"})]})]})]}),(0,Rv.jsxs)("div",{className:"charts-grid",children:[(0,Rv.jsxs)("div",{className:"chart-card",children:[(0,Rv.jsx)("div",{className:"chart-header",children:(0,Rv.jsx)("h3",{children:"\ud83d\udcc8 Mood Trend (Last 7 Days)"})}),(0,Rv.jsx)("div",{className:"chart-container",children:(0,Rv.jsx)(uE,{data:(()=>{const t=Array.from({length:7},(t,e)=>{const n=new Date;return n.setDate(n.getDate()-(6-e)),n.toISOString().split("T")[0]}),e=t.map(t=>{const e=s.moods.find(e=>e.date===t);return e?e.mood:null});return{labels:t.map(t=>new Date(t).toLocaleDateString("en-US",{weekday:"short"})),datasets:[{label:"Mood Score",data:e,borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.1)",tension:.4,fill:!0}]}})(),options:l})})]}),(0,Rv.jsxs)("div",{className:"chart-card",children:[(0,Rv.jsx)("div",{className:"chart-header",children:(0,Rv.jsx)("h3",{children:"\ud83d\udccb Task Completion by Category"})}),(0,Rv.jsx)("div",{className:"chart-container",children:(0,Rv.jsx)(hE,{data:(()=>{const t={};s.tasks.forEach(e=>{t[e.category]||(t[e.category]={total:0,completed:0}),t[e.category].total++,"completed"===e.status&&t[e.category].completed++});const e=Object.keys(t),n=e.map(e=>t[e].total>0?Math.round(t[e].completed/t[e].total*100):0);return{labels:e,datasets:[{label:"Completion Rate (%)",data:n,backgroundColor:["#6366f1","#8b5cf6","#10b981","#f59e0b","#ef4444","#06b6d4"],borderWidth:2,borderColor:"#ffffff"}]}})(),options:l})})]}),(0,Rv.jsxs)("div",{className:"chart-card",children:[(0,Rv.jsx)("div",{className:"chart-header",children:(0,Rv.jsx)("h3",{children:"\ud83c\udf45 Daily Pomodoro Sessions"})}),(0,Rv.jsx)("div",{className:"chart-container",children:(0,Rv.jsx)(hE,{data:(()=>{const t=Array.from({length:7},(t,e)=>{const n=new Date;return n.setDate(n.getDate()-(6-e)),n.toISOString().split("T")[0]}),e=t.map(t=>s.tasks.reduce((e,n)=>{if(n.pomodoroSessions){return e+n.pomodoroSessions.filter(e=>new Date(e.completedAt).toISOString().split("T")[0]===t).length}return e},0));return{labels:t.map(t=>new Date(t).toLocaleDateString("en-US",{weekday:"short"})),datasets:[{label:"Pomodoro Sessions",data:e,backgroundColor:"#f59e0b",borderColor:"#d97706",borderWidth:2}]}})(),options:l})})]}),(0,Rv.jsxs)("div",{className:"chart-card",children:[(0,Rv.jsx)("div",{className:"chart-header",children:(0,Rv.jsx)("h3",{children:"\ud83c\udfaf Goals Status Distribution"})}),(0,Rv.jsx)("div",{className:"chart-container",children:(0,Rv.jsx)(dE,{data:(()=>{const t=s.goals.reduce((t,e)=>(t[e.status]=(t[e.status]||0)+1,t),{});return{labels:Object.keys(t).map(t=>t.charAt(0).toUpperCase()+t.slice(1)),datasets:[{data:Object.values(t),backgroundColor:["#10b981","#6366f1","#f59e0b","#ef4444"],borderWidth:2,borderColor:"#ffffff"}]}})(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]})]}),(0,Rv.jsxs)("div",{className:"insights-section",children:[(0,Rv.jsx)("h3",{children:"\ud83d\udca1 Insights & Recommendations"}),(0,Rv.jsxs)("div",{className:"insights-grid",children:[(0,Rv.jsxs)("div",{className:"insight-card",children:[(0,Rv.jsx)("div",{className:"insight-icon",children:"\ud83d\udcc8"}),(0,Rv.jsxs)("div",{className:"insight-content",children:[(0,Rv.jsx)("h4",{children:"Productivity Pattern"}),(0,Rv.jsx)("p",{children:s.productivity.completionRate>=80?"Excellent! You're maintaining high productivity levels.":s.productivity.completionRate>=60?"Good progress! Consider breaking down larger tasks.":"Room for improvement. Try the Pomodoro technique for better focus."})]})]}),(0,Rv.jsxs)("div",{className:"insight-card",children:[(0,Rv.jsx)("div",{className:"insight-icon",children:"\ud83d\ude0a"}),(0,Rv.jsxs)("div",{className:"insight-content",children:[(0,Rv.jsx)("h4",{children:"Mood Analysis"}),(0,Rv.jsx)("p",{children:s.productivity.averageMood>=7?"Great mood stability! Keep up the positive energy.":s.productivity.averageMood>=5?"Moderate mood levels. Consider mood-boosting activities.":"Focus on self-care and stress management techniques."})]})]}),(0,Rv.jsxs)("div",{className:"insight-card",children:[(0,Rv.jsx)("div",{className:"insight-icon",children:"\ud83c\udfaf"}),(0,Rv.jsxs)("div",{className:"insight-content",children:[(0,Rv.jsx)("h4",{children:"Goal Progress"}),(0,Rv.jsx)("p",{children:s.productivity.activeGoals>0?"You have ".concat(s.productivity.activeGoals," active goals. Great ambition!"):"Consider setting some goals to drive your productivity forward."})]})]})]})]})]})},pE=()=>{var t;const e=tt(),n=nt(),i=Mv.getCurrentUser();return(0,Rv.jsxs)("nav",{className:"navbar",children:[(0,Rv.jsx)("div",{className:"navbar-brand",children:(0,Rv.jsxs)(Nt,{to:"/dashboard",className:"brand-link",children:[(0,Rv.jsx)("span",{className:"brand-icon",children:"\ud83d\udccb"}),(0,Rv.jsx)("span",{className:"brand-text",children:"Productivity"})]})}),(0,Rv.jsx)("div",{className:"navbar-menu",children:[{path:"/dashboard",label:"Dashboard",icon:"\ud83d\udcca"},{path:"/todos",label:"Tasks",icon:"\ud83d\udccb"},{path:"/pomodoro",label:"Pomodoro",icon:"\ud83c\udf45"},{path:"/mood",label:"Mood",icon:"\ud83d\ude0a"},{path:"/notes",label:"Notes",icon:"\ud83d\udcdd"},{path:"/goals",label:"Goals",icon:"\ud83c\udfaf"},{path:"/analytics",label:"Analytics",icon:"\ud83d\udcc8"}].map(t=>(0,Rv.jsxs)(Nt,{to:t.path,className:"nav-item ".concat(e.pathname===t.path?"active":""),children:[(0,Rv.jsx)("span",{className:"nav-icon",children:t.icon}),(0,Rv.jsx)("span",{className:"nav-label",children:t.label})]},t.path))}),(0,Rv.jsx)("div",{className:"navbar-user",children:(0,Rv.jsxs)("div",{className:"user-info",children:[(0,Rv.jsx)("span",{className:"user-name",children:(null===i||void 0===i?void 0:i.displayName)||(null===i||void 0===i||null===(t=i.email)||void 0===t?void 0:t.split("@")[0])}),(0,Rv.jsx)("button",{onClick:async()=>{(await Mv.signOut()).success&&($e.success("Signed out successfully"),n("/login"))},className:"sign-out-btn",children:"Sign Out"})]})})]})},mE=t=>{let{children:e}=t;return(0,Rv.jsxs)("div",{className:"layout",children:[(0,Rv.jsx)(pE,{}),(0,Rv.jsx)("main",{className:"main-content",children:e})]})},gE=(0,r.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),vE=(0,r.createContext)({}),yE=(0,r.createContext)(null),bE="undefined"!==typeof document,xE=bE?r.useLayoutEffect:r.useEffect,wE=(0,r.createContext)({strict:!1}),_E=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),SE="data-"+_E("framerAppearId");function kE(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function EE(t){return"string"===typeof t||Array.isArray(t)}function TE(t){return null!==t&&"object"===typeof t&&"function"===typeof t.start}const CE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IE=["initial",...CE];function NE(t){return TE(t.animate)||IE.some(e=>EE(t[e]))}function PE(t){return Boolean(NE(t)||t.variants)}function AE(t){const{initial:e,animate:n}=function(t,e){if(NE(t)){const{initial:e,animate:n}=t;return{initial:!1===e||EE(e)?e:void 0,animate:EE(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(vE));return(0,r.useMemo)(()=>({initial:e,animate:n}),[DE(e),DE(n)])}function DE(t){return Array.isArray(t)?t.join(" "):t}const ME={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},RE={};for(const TD in ME)RE[TD]={isEnabled:t=>ME[TD].some(e=>!!t[e])};const OE=(0,r.createContext)({}),jE=(0,r.createContext)({}),LE=Symbol.for("motionComponentSymbol");function FE(t){let{preloadedFeatures:e,createVisualElement:n,useRender:i,useVisualState:s,Component:o}=t;e&&function(t){for(const e in t)RE[e]=Lt(Lt({},RE[e]),t[e])}(e);const a=(0,r.forwardRef)(function(t,a){let l;const c=Lt(Lt(Lt({},(0,r.useContext)(gE)),t),{},{layoutId:VE(t)}),{isStatic:u}=c,h=AE(t),d=s(t,u);if(!u&&bE){h.visualElement=function(t,e,n,i){const{visualElement:s}=(0,r.useContext)(vE),o=(0,r.useContext)(wE),a=(0,r.useContext)(yE),l=(0,r.useContext)(gE).reducedMotion,c=(0,r.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current;(0,r.useInsertionEffect)(()=>{u&&u.update(n,a)});const h=(0,r.useRef)(Boolean(n[SE]&&!window.HandoffComplete));return xE(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),(0,r.useEffect)(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}(o,d,c,n);const t=(0,r.useContext)(jE),i=(0,r.useContext)(wE).strict;h.visualElement&&(l=h.visualElement.loadFeatures(c,i,e,t))}return r.createElement(vE.Provider,{value:h},l&&h.visualElement?r.createElement(l,Lt({visualElement:h.visualElement},c)):null,i(o,t,function(t,e,n){return(0,r.useCallback)(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&("function"===typeof n?n(i):kE(n)&&(n.current=i))},[e])}(d,h.visualElement,a),d,u,h.visualElement))});return a[LE]=o,a}function VE(t){let{layoutId:e}=t;const n=(0,r.useContext)(OE).id;return n&&void 0!==e?n+"-"+e:e}function UE(t){function e(e){return FE(t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const zE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function BE(t){return"string"===typeof t&&!t.includes("-")&&!!(zE.indexOf(t)>-1||/[A-Z]/.test(t))}const HE={};const WE=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qE=new Set(WE);function GE(t,e){let{layout:n,layoutId:i}=e;return qE.has(t)||t.startsWith("origin")||(n||void 0!==i)&&(!!HE[t]||"opacity"===t)}const KE=t=>Boolean(t&&t.getVelocity),YE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QE=WE.length;const XE=t=>e=>"string"===typeof e&&e.startsWith(t),$E=XE("--"),JE=XE("var(--"),ZE=(t,e)=>e&&"number"===typeof t?e.transform(t):t,tT=(t,e,n)=>Math.min(Math.max(n,t),e),eT={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},nT=Lt(Lt({},eT),{},{transform:t=>tT(0,1,t)}),iT=Lt(Lt({},eT),{},{default:1}),rT=t=>Math.round(1e5*t)/1e5,sT=/(-)?([\d]*\.?[\d])+/g,oT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,aT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lT(t){return"string"===typeof t}const cT=t=>({test:e=>lT(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),uT=cT("deg"),hT=cT("%"),dT=cT("px"),fT=cT("vh"),pT=cT("vw"),mT=Lt(Lt({},hT),{},{parse:t=>hT.parse(t)/100,transform:t=>hT.transform(100*t)}),gT=Lt(Lt({},eT),{},{transform:Math.round}),vT={borderWidth:dT,borderTopWidth:dT,borderRightWidth:dT,borderBottomWidth:dT,borderLeftWidth:dT,borderRadius:dT,radius:dT,borderTopLeftRadius:dT,borderTopRightRadius:dT,borderBottomRightRadius:dT,borderBottomLeftRadius:dT,width:dT,maxWidth:dT,height:dT,maxHeight:dT,size:dT,top:dT,right:dT,bottom:dT,left:dT,padding:dT,paddingTop:dT,paddingRight:dT,paddingBottom:dT,paddingLeft:dT,margin:dT,marginTop:dT,marginRight:dT,marginBottom:dT,marginLeft:dT,rotate:uT,rotateX:uT,rotateY:uT,rotateZ:uT,scale:iT,scaleX:iT,scaleY:iT,scaleZ:iT,skew:uT,skewX:uT,skewY:uT,distance:dT,translateX:dT,translateY:dT,translateZ:dT,x:dT,y:dT,z:dT,perspective:dT,transformPerspective:dT,opacity:nT,originX:mT,originY:mT,originZ:dT,zIndex:gT,fillOpacity:nT,strokeOpacity:nT,numOctaves:gT};function yT(t,e,n,i){const{style:r,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const h in e){const t=e[h];if($E(h)){s[h]=t;continue}const n=vT[h],i=ZE(t,n);if(qE.has(h)){if(l=!0,o[h]=i,!u)continue;t!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=i):r[h]=i}if(e.transform||(l||i?r.transform=function(t,e,n,i){let{enableHardwareAcceleration:r=!0,allowTransformNone:s=!0}=e,o="";for(let a=0;a<QE;a++){const e=WE[a];void 0!==t[e]&&(o+="".concat(YE[e]||e,"(").concat(t[e],") "))}return r&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,n?"":o):s&&n&&(o="none"),o}(t.transform,n,u,i):r.transform&&(r.transform="none")),c){const{originX:t="50%",originY:e="50%",originZ:n=0}=a;r.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}const bT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xT(t,e,n){for(const i in e)KE(e[i])||GE(i,n)||(t[i]=e[i])}function wT(t,e,n){const i={};return xT(i,t.style||{},t),Object.assign(i,function(t,e,n){let{transformTemplate:i}=t;return(0,r.useMemo)(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return yT(t,e,{enableHardwareAcceleration:!n},i),Object.assign({},t.vars,t.style)},[e])}(t,e,n)),t.transformValues?t.transformValues(i):i}function _T(t,e,n){const i={},r=wT(t,e,n);return t.drag&&!1!==t.dragListener&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const ST=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kT(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ST.has(t)}let ET=t=>!kT(t);try{(TT=require("@emotion/is-prop-valid").default)&&(ET=t=>t.startsWith("on")?!kT(t):TT(t))}catch(ED){}var TT;function CT(t,e,n){return"string"===typeof t?t:dT.transform(e+n*t)}const IT={offset:"stroke-dashoffset",array:"stroke-dasharray"},NT={offset:"strokeDashoffset",array:"strokeDasharray"};const PT=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function AT(t,e,n,i,r){let{attrX:s,attrY:o,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0}=e;if(yT(t,tE(e,PT),n,r),i)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(t,e,n){const i=CT(e,t.x,t.width),r=CT(n,t.y,t.height);return"".concat(i," ").concat(r)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(f.x=s),void 0!==o&&(f.y=o),void 0!==a&&(f.scale=a),void 0!==u&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const s=r?IT:NT;t[s.offset]=dT.transform(-i);const o=dT.transform(e),a=dT.transform(n);t[s.array]="".concat(o," ").concat(a)}(f,u,h,d,!1)}const DT=()=>Lt(Lt({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),MT=t=>"string"===typeof t&&"svg"===t.toLowerCase();function RT(t,e,n,i){const s=(0,r.useMemo)(()=>{const n=DT();return AT(n,e,{enableHardwareAcceleration:!1},MT(i),t.transformTemplate),Lt(Lt({},n.attrs),{},{style:Lt({},n.style)})},[e]);if(t.style){const e={};xT(e,t.style,t),s.style=Lt(Lt({},e),s.style)}return s}function OT(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,i,s,o)=>{let{latestValues:a}=s;const l=(BE(e)?RT:_T)(n,a,o,e),c=function(t,e,n){const i={};for(const r in t)"values"===r&&"object"===typeof t.values||(ET(r)||!0===n&&kT(r)||!e&&!kT(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}(n,"string"===typeof e,t),u=Lt(Lt(Lt({},c),l),{},{ref:i}),{children:h}=n,d=(0,r.useMemo)(()=>KE(h)?h.get():h,[h]);return(0,r.createElement)(e,Lt(Lt({},u),{},{children:d}))}}function jT(t,e,n,i){let{style:r,vars:s}=e;Object.assign(t.style,r,i&&i.getProjectionStyles(n));for(const o in s)t.style.setProperty(o,s[o])}const LT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FT(t,e,n,i){jT(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(LT.has(r)?r:_E(r),e.attrs[r])}function VT(t,e){const{style:n}=t,i={};for(const r in n)(KE(n[r])||e.style&&KE(e.style[r])||GE(r,t))&&(i[r]=n[r]);return i}function UT(t,e){const n=VT(t,e);for(const i in t)if(KE(t[i])||KE(e[i])){n[-1!==WE.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]}return n}function zT(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof e&&(e=e(void 0!==n?n:t.custom,i,r)),"string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e&&(e=e(void 0!==n?n:t.custom,i,r)),e}const BT=t=>Array.isArray(t),HT=t=>BT(t)?t[t.length-1]||0:t;function WT(t){const e=KE(t)?t.get():t;return(t=>Boolean(t&&"object"===typeof t&&t.mix&&t.toValue))(e)?e.toValue():e}const qT=["transitionEnd","transition"];const GT=t=>(e,n)=>{const i=(0,r.useContext)(vE),s=(0,r.useContext)(yE),o=()=>function(t,e,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:s,onMount:o}=t;const a={latestValues:KT(e,n,i,r),renderState:s()};return o&&(a.mount=t=>o(e,t,a)),a}(t,e,i,s);return n?o():function(t){const e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}(o)};function KT(t,e,n,i){const r={},s=i(t,{});for(const d in s)r[d]=WT(s[d]);let{initial:o,animate:a}=t;const l=NE(t),c=PE(t);e&&c&&!l&&!1!==t.inherit&&(void 0===o&&(o=e.initial),void 0===a&&(a=e.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const h=u?a:o;if(h&&"boolean"!==typeof h&&!TE(h)){(Array.isArray(h)?h:[h]).forEach(e=>{const n=zT(t,e);if(!n)return;const{transitionEnd:i,transition:s}=n,o=tE(n,qT);for(const t in o){let e=o[t];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(r[t]=e)}for(const t in i)r[t]=i[t]})}return r}const YT=t=>t;class QT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const e=this.order.indexOf(t);-1!==e&&(this.order.splice(e,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}const XT=["prepare","read","update","preRender","render","postRender"];const{schedule:$T,cancel:JT,state:ZT,steps:tC}=function(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=XT.reduce((t,e)=>(t[e]=function(t){let e=new QT,n=new QT,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:function(t){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r,a=s?e:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(t),a.add(t)&&s&&r&&(i=e.order.length),t},cancel:t=>{n.remove(t),o.delete(t)},process:l=>{if(r)s=!0;else{if(r=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let n=0;n<i;n++){const i=e.order[n];i(l),o.has(i)&&(a.schedule(i),t())}r=!1,s&&(s=!1,a.process(l))}}};return a}(()=>n=!0),t),{}),o=t=>s[t].process(r),a=()=>{const s=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1),r.timestamp=s,r.isProcessing=!0,XT.forEach(o),r.isProcessing=!1,n&&e&&(i=!1,t(a))},l=XT.reduce((e,o)=>{const l=s[o];return e[o]=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,r.isProcessing||t(a)),l.schedule(e,s,o)},e},{});return{schedule:l,cancel:t=>XT.forEach(e=>s[e].cancel(t)),state:r,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:YT,!0),eC={useVisualState:GT({scrapeMotionValuesFromProps:UT,createRenderState:DT,onMount:(t,e,n)=>{let{renderState:i,latestValues:r}=n;$T.read(()=>{try{i.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(Ft){i.dimensions={x:0,y:0,width:0,height:0}}}),$T.render(()=>{AT(i,r,{enableHardwareAcceleration:!1},MT(e.tagName),t.transformTemplate),FT(e,i)})}})},nC={useVisualState:GT({scrapeMotionValuesFromProps:VT,createRenderState:bT})};function iC(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const rC=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary;function sC(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:t[e+"X"],y:t[e+"Y"]}}}function oC(t,e,n,i){return iC(t,e,(t=>e=>rC(e)&&t(e,sC(e)))(n),i)}const aC=(t,e)=>n=>e(t(n)),lC=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(aC)};function cC(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const uC=cC("dragHorizontal"),hC=cC("dragVertical");function dC(t){let e=!1;if("y"===t)e=hC();else if("x"===t)e=uC();else{const t=uC(),n=hC();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function fC(){const t=dC(!0);return!t||(t(),!1)}class pC{constructor(t){this.isMounted=!1,this.node=t}update(){}}function mC(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End");return oC(t.current,n,(n,r)=>{if("touch"===n.pointerType||fC())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[i]&&$T.update(()=>s[i](n,r))},{passive:!t.getProps()[i]})}const gC=(t,e)=>!!e&&(t===e||gC(t,e.parentElement));function vC(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,sC(n))}const yC=["root"],bC=new WeakMap,xC=new WeakMap,wC=t=>{const e=bC.get(t.target);e&&e(t)},_C=t=>{t.forEach(wC)};function SC(t,e,n){const i=function(t){let{root:e}=t,n=tE(t,yC);const i=e||document;xC.has(i)||xC.set(i,{});const r=xC.get(i),s=JSON.stringify(n);return r[s]||(r[s]=new IntersectionObserver(_C,Lt({root:e},n))),r[s]}(e);return bC.set(t,n),i.observe(t),()=>{bC.delete(t),i.unobserve(t)}}const kC={some:0,all:1};const EC={inView:{Feature:class extends pC{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:i="some",once:r}=t,s={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:kC[i]};return SC(this.node.current,s,t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,r&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=e?n:i;s&&s(t)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends pC{constructor(){super(...arguments),this.removeStartListeners=YT,this.removeEndListeners=YT,this.removeAccessibleListeners=YT,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=oC(window,"pointerup",(t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:i,globalTapTarget:r}=this.node.getProps();$T.update(()=>{r||gC(this.node.current,t.target)?n&&n(t,e):i&&i(t,e)})},{passive:!(n.onTap||n.onPointerUp)}),r=oC(window,"pointercancel",(t,e)=>this.cancelPress(t,e),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=lC(i,r),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=iC(this.node.current,"keydown",t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=iC(this.node.current,"keyup",t=>{"Enter"===t.key&&this.checkPressEnd()&&vC("up",(t,e)=>{const{onTap:n}=this.node.getProps();n&&$T.update(()=>n(t,e))})}),vC("down",(t,e)=>{this.startPress(t,e)})}),e=iC(this.node.current,"blur",()=>{this.isPressing&&vC("cancel",(t,e)=>this.cancelPress(t,e))});this.removeAccessibleListeners=lC(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&$T.update(()=>n(t,e))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fC()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&$T.update(()=>n(t,e))}mount(){const t=this.node.getProps(),e=oC(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=iC(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=lC(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends pC{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(Ft){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lC(iC(this.node.current,"focus",()=>this.onFocus()),iC(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends pC{mount(){this.unmount=lC(mC(this.node,!0),mC(this.node,!1))}unmount(){}}}};function TC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function CC(t,e,n){const i=t.getProps();return zT(i,e,void 0!==n?n:i.custom,function(t){const e={};return t.values.forEach((t,n)=>e[n]=t.get()),e}(t),function(t){const e={};return t.values.forEach((t,n)=>e[n]=t.getVelocity()),e}(t))}let IC=YT,NC=YT;const PC=t=>1e3*t,AC=t=>t/1e3,DC=!1,MC=t=>Array.isArray(t)&&"number"===typeof t[0];function RC(t){return Boolean(!t||"string"===typeof t&&jC[t]||MC(t)||Array.isArray(t)&&t.every(RC))}const OC=t=>{let[e,n,i,r]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(i,", ").concat(r,")")},jC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:OC([0,.65,.55,1]),circOut:OC([.55,0,1,.45]),backIn:OC([.31,.01,.66,-.59]),backOut:OC([.33,1.53,.69,.99])};function LC(t){if(t)return MC(t)?OC(t):Array.isArray(t)?t.map(LC):jC[t]}const FC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function VC(t,e,n,i){if(t===e&&n===i)return YT;const r=e=>function(t,e,n,i,r){let s,o,a=0;do{o=e+(n-e)/2,s=FC(o,i,r)-t,s>0?n=o:e=o}while(Math.abs(s)>1e-7&&++a<12);return o}(e,0,1,t,n);return t=>0===t||1===t?t:FC(r(t),e,i)}const UC=VC(.42,0,1,1),zC=VC(0,0,.58,1),BC=VC(.42,0,.58,1),HC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WC=t=>e=>1-t(1-e),qC=t=>1-Math.sin(Math.acos(t)),GC=WC(qC),KC=HC(qC),YC=VC(.33,1.53,.69,.99),QC=WC(YC),XC=HC(QC),$C={linear:YT,easeIn:UC,easeInOut:BC,easeOut:zC,circIn:qC,circInOut:KC,circOut:GC,backIn:QC,backInOut:XC,backOut:YC,anticipate:t=>(t*=2)<1?.5*QC(t):.5*(2-Math.pow(2,-10*(t-1)))},JC=t=>{if(Array.isArray(t)){NC(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,i,r]=t;return VC(e,n,i,r)}return"string"===typeof t?(NC(void 0!==$C[t],"Invalid easing type '".concat(t,"'")),$C[t]):t},ZC=(t,e)=>n=>Boolean(lT(n)&&aT.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),tI=(t,e,n)=>i=>{if(!lT(i))return i;const[r,s,o,a]=i.match(sT);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},eI=Lt(Lt({},eT),{},{transform:t=>Math.round((t=>tT(0,255,t))(t))}),nI={test:ZC("rgb","red"),parse:tI("red","green","blue"),transform:t=>{let{red:e,green:n,blue:i,alpha:r=1}=t;return"rgba("+eI.transform(e)+", "+eI.transform(n)+", "+eI.transform(i)+", "+rT(nT.transform(r))+")"}};const iI={test:ZC("#"),parse:function(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:nI.transform},rI={test:ZC("hsl","hue"),parse:tI("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:i,alpha:r=1}=t;return"hsla("+Math.round(e)+", "+hT.transform(rT(n))+", "+hT.transform(rT(i))+", "+rT(nT.transform(r))+")"}},sI={test:t=>nI.test(t)||iI.test(t)||rI.test(t),parse:t=>nI.test(t)?nI.parse(t):rI.test(t)?rI.parse(t):iI.parse(t),transform:t=>lT(t)?t:t.hasOwnProperty("red")?nI.transform(t):rI.transform(t)},oI=(t,e,n)=>-n*t+n*e+t;function aI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}const lI=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},cI=[iI,nI,rI];function uI(t){const e=(t=>cI.find(e=>e.test(t)))(t);NC(Boolean(e),"'".concat(t,"' is not an animatable color. Use the equivalent color code instead."));let n=e.parse(t);return e===rI&&(n=function(t){let{hue:e,saturation:n,lightness:i,alpha:r}=t;e/=360,n/=100,i/=100;let s=0,o=0,a=0;if(n){const t=i<.5?i*(1+n):i+n-i*n,r=2*i-t;s=aI(r,t,e+1/3),o=aI(r,t,e),a=aI(r,t,e-1/3)}else s=o=a=i;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}(n)),n}const hI=(t,e)=>{const n=uI(t),i=uI(e),r=Lt({},n);return t=>(r.red=lI(n.red,i.red,t),r.green=lI(n.green,i.green,t),r.blue=lI(n.blue,i.blue,t),r.alpha=oI(n.alpha,i.alpha,t),nI.transform(r))};const dI={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:YT},fI={regex:oT,countKey:"Colors",token:"${c}",parse:sI.parse},pI={regex:sT,countKey:"Numbers",token:"${n}",parse:eT.parse};function mI(t,e){let{regex:n,countKey:i,token:r,parse:s}=e;const o=t.tokenised.match(n);o&&(t["num"+i]=o.length,t.tokenised=t.tokenised.replace(n,r),t.values.push(...o.map(s)))}function gI(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&mI(n,dI),mI(n,fI),mI(n,pI),n}function vI(t){return gI(t).values}function yI(t){const{values:e,numColors:n,numVars:i,tokenised:r}=gI(t),s=e.length;return t=>{let e=r;for(let r=0;r<s;r++)e=r<i?e.replace(dI.token,t[r]):r<i+n?e.replace(fI.token,sI.transform(t[r])):e.replace(pI.token,rT(t[r]));return e}}const bI=t=>"number"===typeof t?0:t;const xI={test:function(t){var e,n;return isNaN(t)&&lT(t)&&((null===(e=t.match(sT))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(oT))||void 0===n?void 0:n.length)||0)>0},parse:vI,createTransformer:yI,getAnimatableNone:function(t){const e=vI(t);return yI(t)(e.map(bI))}},wI=(t,e)=>n=>"".concat(n>0?e:t);function _I(t,e){return"number"===typeof t?n=>oI(t,e,n):sI.test(t)?hI(t,e):t.startsWith("var(")?wI(t,e):EI(t,e)}const SI=(t,e)=>{const n=[...t],i=n.length,r=t.map((t,n)=>_I(t,e[n]));return t=>{for(let e=0;e<i;e++)n[e]=r[e](t);return n}},kI=(t,e)=>{const n=Lt(Lt({},t),e),i={};for(const r in n)void 0!==t[r]&&void 0!==e[r]&&(i[r]=_I(t[r],e[r]));return t=>{for(const e in i)n[e]=i[e](t);return n}},EI=(t,e)=>{const n=xI.createTransformer(e),i=gI(t),r=gI(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?lC(SI(i.values,r.values),n):(IC(!0,"Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),wI(t,e))},TI=(t,e,n)=>{const i=e-t;return 0===i?1:(n-t)/i},CI=(t,e)=>n=>oI(t,e,n);function II(t,e,n){const i=[],r=n||function(t){return"number"===typeof t?CI:"string"===typeof t?sI.test(t)?hI:EI:Array.isArray(t)?SI:"object"===typeof t?kI:CI}(t[0]),s=t.length-1;for(let o=0;o<s;o++){let n=r(t[o],t[o+1]);if(e){const t=Array.isArray(e)?e[o]||YT:e;n=lC(t,n)}i.push(n)}return i}function NI(t,e){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=t.length;if(NC(s===e.length,"Both input and output ranges must be the same length"),1===s)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=II(e,i,r),a=o.length,l=e=>{let n=0;if(a>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const i=TI(t[n],t[n+1],e);return o[n](i)};return n?e=>l(tT(t[0],t[s-1],e)):l}function PI(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=TI(0,e,i);t.push(oI(n,1,r))}}(e,t.length-1),e}function AI(t){let{duration:e=300,keyframes:n,times:i,ease:r="easeInOut"}=t;const s=(t=>Array.isArray(t)&&"number"!==typeof t[0])(r)?r.map(JC):JC(r),o={done:!1,value:n[0]},a=function(t,e){return t.map(t=>t*e)}(i&&i.length===n.length?i:PI(n),e),l=NI(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||BC).splice(0,c.length-1))});var c,u;return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}function DI(t,e){return e?t*(1e3/e):0}function MI(t,e,n){const i=Math.max(e-5,0);return DI(n-t(i),e-i)}const RI=.001;function OI(t){let e,n,{duration:i=800,bounce:r=.25,velocity:s=0,mass:o=1}=t;IC(i<=PC(10),"Spring duration must be 10 seconds or less");let a=1-r;a=tT(.05,1,a),i=tT(.01,10,AC(i)),a<1?(e=t=>{const e=t*a,n=e*i,r=e-s,o=LI(t,a),l=Math.exp(-n);return RI-r/o*l},n=t=>{const n=t*a*i,r=n*s+s,o=Math.pow(a,2)*Math.pow(t,2)*i,l=Math.exp(-n),c=LI(Math.pow(t,2),a);return(-e(t)+RI>0?-1:1)*((r-o)*l)/c}):(e=t=>Math.exp(-t*i)*((t-s)*i+1)-.001,n=t=>Math.exp(-t*i)*(i*i*(s-t)));const l=function(t,e,n){let i=n;for(let r=1;r<jI;r++)i-=t(i)/e(i);return i}(e,n,5/i);if(i=PC(i),isNaN(l))return{stiffness:100,damping:10,duration:i};{const t=Math.pow(l,2)*o;return{stiffness:t,damping:2*a*Math.sqrt(o*t),duration:i}}}const jI=12;function LI(t,e){return t*Math.sqrt(1-e*e)}const FI=["keyframes","restDelta","restSpeed"],VI=["duration","bounce"],UI=["stiffness","damping","mass"];function zI(t,e){return e.some(e=>void 0!==t[e])}function BI(t){let{keyframes:e,restDelta:n,restSpeed:i}=t,r=tE(t,FI);const s=e[0],o=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(t){let e=Lt({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!zI(t,UI)&&zI(t,VI)){const n=OI(t);e=Lt(Lt(Lt({},e),n),{},{mass:1}),e.isResolvedFromDuration=!0}return e}(Lt(Lt({},r),{},{velocity:-AC(r.velocity||0)})),p=d||0,m=c/(2*Math.sqrt(l*u)),g=o-s,v=AC(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(i||(i=y?.01:2),n||(n=y?.005:.5),m<1){const t=LI(v,m);b=e=>{const n=Math.exp(-m*v*e);return o-n*((p+m*v*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===m)b=t=>o-Math.exp(-v*t)*(g+(p+v*g)*t);else{const t=v*Math.sqrt(m*m-1);b=e=>{const n=Math.exp(-m*v*e),i=Math.min(t*e,300);return o-n*((p+m*v*g)*Math.sinh(i)+t*g*Math.cosh(i))/t}}return{calculatedDuration:f&&h||null,next:t=>{const e=b(t);if(f)a.done=t>=h;else{let r=p;0!==t&&(r=m<1?MI(b,t,e):0);const s=Math.abs(r)<=i,l=Math.abs(o-e)<=n;a.done=s&&l}return a.value=a.done?o:e,a}}}function HI(t){let{keyframes:e,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=t;const d=e[0],f={done:!1,value:d},p=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c;let m=i*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=t=>-m*Math.exp(-t/r),b=t=>v+y(t),x=t=>{const e=y(t),n=b(t);f.done=Math.abs(e)<=u,f.value=f.done?v:n};let w,_;const S=t=>{(t=>void 0!==l&&t<l||void 0!==c&&t>c)(f.value)&&(w=t,_=BI({keyframes:[f.value,p(f.value)],velocity:MI(b,t,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return _||void 0!==w||(e=!0,x(t),S(t)),void 0!==w&&t>w?_.next(t-w):(!e&&x(t),f)}}}const WI=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>$T.update(e,!0),stop:()=>JT(e),now:()=>ZT.isProcessing?ZT.timestamp:performance.now()}};function qI(t){let e=0;let n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}const GI=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],KI={decay:HI,inertia:HI,tween:AI,keyframes:AI,spring:BI};function YI(t){let e,n,{autoplay:i=!0,delay:r=0,driver:s=WI,keyframes:o,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p}=t,m=tE(t,GI),g=1,v=!1;const y=()=>{n=new Promise(t=>{e=t})};let b;y();const x=KI[a]||AI;let w;x!==AI&&"number"!==typeof o[0]&&(w=NI([0,100],o,{clamp:!1}),o=[0,100]);const _=x(Lt(Lt({},m),{},{keyframes:o}));let S;"mirror"===u&&(S=x(Lt(Lt({},m),{},{keyframes:[...o].reverse(),velocity:-(m.velocity||0)})));let k="idle",E=null,T=null,C=null;null===_.calculatedDuration&&l&&(_.calculatedDuration=qI(_));const{calculatedDuration:I}=_;let N=1/0,P=1/0;null!==I&&(N=I+c,P=N*(l+1)-c);let A=0;const D=t=>{if(null===T)return;g>0&&(T=Math.min(T,t)),g<0&&(T=Math.min(t-P/g,T)),A=null!==E?E:Math.round(t-T)*g;const e=A-r*(g>=0?1:-1),n=g>=0?e<0:e>P;A=Math.max(e,0),"finished"===k&&null===E&&(A=P);let i=A,s=_;if(l){const t=Math.min(A,P)/N;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,l+1);Boolean(e%2)&&("reverse"===u?(n=1-n,c&&(n-=c/N)):"mirror"===u&&(s=S)),i=tT(0,1,n)*N}const a=n?{done:!1,value:o[0]}:s.next(i);w&&(a.value=w(a.value));let{done:h}=a;n||null===I||(h=g>=0?A>=P:A<=0);const d=null===E&&("finished"===k||"running"===k&&h);return p&&p(a.value),d&&O(),a},M=()=>{b&&b.stop(),b=void 0},R=()=>{k="idle",M(),e(),y(),T=C=null},O=()=>{k="finished",f&&f(),M(),e()},j=()=>{if(v)return;b||(b=s(D));const t=b.now();h&&h(),null!==E?T=t-E:T&&"finished"!==k||(T=t),"finished"===k&&y(),C=T,E=null,k="running",b.start()};i&&j();const L={then:(t,e)=>n.then(t,e),get time(){return AC(A)},set time(t){t=PC(t),A=t,null===E&&b&&0!==g?T=b.now()-t/g:E=t},get duration(){const t=null===_.calculatedDuration?qI(_):_.calculatedDuration;return AC(t)},get speed(){return g},set speed(t){t!==g&&b&&(g=t,L.time=AC(A))},get state(){return k},play:j,pause:()=>{k="paused",E=A},stop:()=>{v=!0,"idle"!==k&&(k="idle",d&&d(),R())},cancel:()=>{null!==C&&D(C),R()},complete:()=>{k="finished"},sample:t=>(T=0,D(t))};return L}const QI=["onUpdate","onComplete"],XI=function(t){let e;return()=>(void 0===e&&(e=t()),e)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$I=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function JI(t,e,n){let{onUpdate:i,onComplete:r}=n,s=tE(n,QI);if(!(XI()&&$I.has(e)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1,c=!1;const u=()=>{a=new Promise(t=>{o=t})};u();let{keyframes:h,duration:d=300,ease:f,times:p}=s;if(((t,e)=>"spring"===e.type||"backgroundColor"===t||!RC(e.ease))(e,s)){const t=YI(Lt(Lt({},s),{},{repeat:0,delay:0}));let e={done:!1,value:h[0]};const n=[];let i=0;for(;!e.done&&i<2e4;)e=t.sample(i),n.push(e.value),i+=10;p=void 0,h=n,d=i-10,f="linear"}const m=function(t,e,n){let{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[e]:n};l&&(c.offset=l);const u=LC(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(t.owner.current,e,h,Lt(Lt({},s),{},{duration:d,ease:f,times:p})),g=()=>{c=!1,m.cancel()},v=()=>{c=!0,$T.update(g),o(),u()};m.onfinish=()=>{c||(t.set(function(t,e){let{repeat:n,repeatType:i="loop"}=e;return t[n&&"loop"!==i&&n%2===1?0:t.length-1]}(h,s)),r&&r(),v())};const y={then:(t,e)=>a.then(t,e),attachTimeline:t=>(m.timeline=t,m.onfinish=null,YT),get time(){return AC(m.currentTime||0)},set time(t){m.currentTime=PC(t)},get speed(){return m.playbackRate},set speed(t){m.playbackRate=t},get duration(){return AC(d)},play:()=>{l||(m.play(),JT(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:e}=m;if(e){const n=YI(Lt(Lt({},s),{},{autoplay:!1}));t.setWithVelocity(n.sample(e-10).value,n.sample(e).value,10)}v()},complete:()=>{c||m.finish()},cancel:v};return y}const ZI={type:"spring",stiffness:500,damping:25,restSpeed:10},tN={type:"keyframes",duration:.8},eN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nN=(t,e)=>{let{keyframes:n}=e;return n.length>2?tN:qE.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:ZI:eN},iN=(t,e)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!xI.test(e)&&"0"!==e||e.startsWith("url("))),rN=new Set(["brightness","contrast","saturate","opacity"]);function sN(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[i]=n.match(sT)||[];if(!i)return t;const r=n.replace(i,"");let s=rN.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const oN=/([a-z-]*)\(.*?\)/g,aN=Lt(Lt({},xI),{},{getAnimatableNone:t=>{const e=t.match(oN);return e?e.map(sN).join(" "):t}}),lN=Lt(Lt({},vT),{},{color:sI,backgroundColor:sI,outlineColor:sI,fill:sI,stroke:sI,borderColor:sI,borderTopColor:sI,borderRightColor:sI,borderBottomColor:sI,borderLeftColor:sI,filter:aN,WebkitFilter:aN}),cN=t=>lN[t];function uN(t,e){let n=cN(t);return n!==aN&&(n=xI),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hN=t=>/^0[^.\s]+$/.test(t);function dN(t){return"number"===typeof t?0===t:null!==t?"none"===t||"0"===t||hN(t):void 0}const fN=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function pN(t,e){return t[e]||t.default||t}const mN=!1,gN=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r=>{const s=pN(i,t)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a-=PC(o);const l=function(t,e,n,i){const r=iN(e,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==i.from?i.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?o:s[c-1]),dN(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++)s[l[c]]=uN(e,a);return s}(e,t,n,s),c=l[0],u=l[l.length-1],h=iN(t,c),d=iN(t,u);IC(h===d,"You are trying to animate ".concat(t,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=Lt(Lt({keyframes:l,velocity:e.getVelocity(),ease:"easeOut"},s),{},{delay:-a,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}});if(function(t){let{when:e,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u}=t,h=tE(t,fN);return!!Object.keys(h).length}(s)||(f=Lt(Lt({},f),nN(t,f))),f.duration&&(f.duration=PC(f.duration)),f.repeatDelay&&(f.repeatDelay=PC(f.repeatDelay)),!h||!d||DC||!1===s.type||mN)return function(t){let{keyframes:e,delay:n,onUpdate:i,onComplete:r}=t;const s=()=>(i&&i(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:YT,pause:YT,stop:YT,then:t=>(t(),Promise.resolve()),cancel:YT,complete:YT});return n?YI({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(DC?Lt(Lt({},f),{},{delay:0}):f);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const n=JI(e,t,f);if(n)return n}return YI(f)}};function vN(t){return Boolean(KE(t)&&t.add)}const yN=t=>/^\-?\d*\.?\d+$/.test(t);function bN(t,e){-1===t.indexOf(e)&&t.push(e)}function xN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wN{constructor(){this.subscriptions=[]}add(t){return bN(this.subscriptions,t),()=>xN(this.subscriptions,t)}notify(t,e,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](t,e,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _N={current:void 0};class SN{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.prev=e.current,e.current=t;const{delta:i,timestamp:r}=ZT;e.lastUpdated!==r&&(e.timeDelta=i,e.lastUpdated=r,$T.postRender(e.scheduleVelocityCheck)),e.prev!==e.current&&e.events.change&&e.events.change.notify(e.current),e.events.velocityChange&&e.events.velocityChange.notify(e.getVelocity()),n&&e.events.renderRequest&&e.events.renderRequest.notify(e.current)},this.scheduleVelocityCheck=()=>$T.postRender(this.velocityCheck),this.velocityCheck=t=>{let{timestamp:e}=t;e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(i=this.current,!isNaN(parseFloat(i))),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new wN);const n=this.events[t].add(e);return"change"===t?()=>{n(),$T.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return _N.current&&_N.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?DI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kN(t,e){return new SN(t,e)}const EN=t=>e=>e.test(t),TN=[eT,dT,hT,uT,pT,fT,{test:t=>"auto"===t,parse:t=>t}],CN=t=>TN.find(EN(t)),IN=[...TN,sI,xI],NN=t=>IN.find(EN(t)),PN=["transitionEnd","transition"];function AN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kN(n))}function DN(t,e){const n=CC(t,e);let i=n?t.makeTargetAnimatable(n,!1):{},{transitionEnd:r={},transition:s={}}=i,o=tE(i,PN);o=Lt(Lt({},o),r);for(const a in o){AN(t,a,HT(o[a]))}}function MN(t,e){if(!e)return;return(e[t]||e.default||e).from}const RN=["transition","transitionEnd"];function ON(t,e){let{protectedKeys:n,needsAnimating:i}=t;const r=n.hasOwnProperty(e)&&!0!==i[e];return i[e]=!1,r}function jN(t,e){const n=t.get();if(!Array.isArray(e))return n!==e;for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}function LN(t,e){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=t.makeTargetAnimatable(e),{transition:o=t.getDefaultTransition(),transitionEnd:a}=s,l=tE(s,RN);const c=t.getValue("willChange");i&&(o=i);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const d in l){const e=t.getValue(d),i=l[d];if(!e||void 0===i||h&&ON(h,d))continue;const r=Lt({delay:n,elapsed:0},pN(o||{},d));if(window.HandoffAppearAnimations){const n=t.getProps()[SE];if(n){const t=window.HandoffAppearAnimations(n,d,e,$T);null!==t&&(r.elapsed=t,r.isHandoff=!0)}}let s=!r.isHandoff&&!jN(e,i);if("spring"===r.type&&(e.getVelocity()||r.velocity)&&(s=!1),e.animation&&(s=!1),s)continue;e.start(gN(d,e,i,t.shouldReduceMotion&&qE.has(d)?{type:!1}:r));const a=e.animation;vN(c)&&(c.add(d),a.then(()=>c.remove(d))),u.push(a)}return a&&Promise.all(u).then(()=>{a&&DN(t,a)}),u}function FN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=CC(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(LN(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=r;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(t.variantChildren.size-1)*i,l=1===r?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i};return Array.from(t.variantChildren).sort(VN).forEach((t,i)=>{t.notify("AnimationStart",e),o.push(FN(t,e,Lt(Lt({},s),{},{delay:n+l(i)})).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(o)}(t,e,s+i,o,a,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[t,e]="beforeChildren"===a?[s,o]:[o,s];return t().then(()=>e())}return Promise.all([s(),o(n.delay)])}function VN(t,e){return t.sortNodePosition(e)}const UN=["transition","transitionEnd"],zN=[...CE].reverse(),BN=CE.length;function HN(t){return e=>Promise.all(e.map(e=>{let{animation:n,options:i}=e;return function(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const r=e.map(e=>FN(t,e,i));n=Promise.all(r)}else if("string"===typeof e)n=FN(t,e,i);else{const r="function"===typeof e?CC(t,e,i.custom):e;n=Promise.all(LN(t,r,i))}return n.then(()=>t.notify("AnimationComplete",e))}(t,n,i)}))}function WN(t){let e=HN(t);const n={animate:GN(!0),whileInView:GN(),whileHover:GN(),whileTap:GN(),whileDrag:GN(),whileFocus:GN(),exit:GN()};let i=!0;const r=(e,n)=>{const i=CC(t,n);if(i){const{transition:t,transitionEnd:n}=i,r=tE(i,UN);e=Lt(Lt(Lt({},e),r),n)}return e};function s(s,o){const a=t.getProps(),l=t.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let e=0;e<BN;e++){const f=zN[e],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=EE(m),v=f===o?p.isActive:null;!1===v&&(d=e);let y=m===l[f]&&m!==a[f]&&g;if(y&&i&&t.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=Lt({},h),!p.isActive&&null===v||!m&&!p.prevProp||TE(m)||"boolean"===typeof m)continue;let b=qN(p.prevProp,m)||f===o&&p.isActive&&!y&&g||e>d&&g,x=!1;const w=Array.isArray(m)?m:[m];let _=w.reduce(r,{});!1===v&&(_={});const{prevResolvedValues:S={}}=p,k=Lt(Lt({},S),_),E=t=>{b=!0,u.has(t)&&(x=!0,u.delete(t)),p.needsAnimating[t]=!0};for(const t in k){const e=_[t],n=S[t];if(h.hasOwnProperty(t))continue;let i=!1;i=BT(e)&&BT(n)?!TC(e,n):e!==n,i?void 0!==e?E(t):u.add(t):void 0!==e&&u.has(t)?E(t):p.protectedKeys[t]=!0}p.prevProp=m,p.prevResolvedValues=_,p.isActive&&(h=Lt(Lt({},h),_)),i&&t.blockInitialAnimation&&(b=!1),!b||y&&!x||c.push(...w.map(t=>({animation:t,options:Lt({type:f},s)})))}if(u.size){const e={};u.forEach(n=>{const i=t.getBaseTarget(n);void 0!==i&&(e[n]=i)}),c.push({animation:e})}let f=Boolean(c.length);return!i||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(f=!1),i=!1,f?e(c):Promise.resolve()}return{animateChanges:s,setActive:function(e,i,r){var o;if(n[e].isActive===i)return Promise.resolve();null===(o=t.variantChildren)||void 0===o||o.forEach(t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,i)}),n[e].isActive=i;const a=s(r,e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function qN(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!TC(e,t)}function GN(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let KN=0;const YN={animation:{Feature:class extends pC{constructor(t){super(t),t.animationState||(t.animationState=WN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),TE(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends pC{constructor(){super(...arguments),this.id=KN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});e&&!t&&r.then(()=>e(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},QN=(t,e)=>Math.abs(t-e);class XN{constructor(t,e){let{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=ZN(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=QN(t.x,e.x),i=QN(t.y,e.y);return Math.sqrt(n**2+i**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:i}=t,{timestamp:r}=ZT;this.history.push(Lt(Lt({},i),{},{timestamp:r}));const{onStart:s,onMove:o}=this.handlers;e||(s&&s(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=$N(e,this.transformPagePoint),$T.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=ZN("pointercancel"===t.type?this.lastMoveEventInfo:$N(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,s),i&&i(t,s)},!rC(t))return;this.dragSnapToOrigin=r,this.handlers=e,this.transformPagePoint=n,this.contextWindow=i||window;const s=$N(sC(t),this.transformPagePoint),{point:o}=s,{timestamp:a}=ZT;this.history=[Lt(Lt({},o),{},{timestamp:a})];const{onSessionStart:l}=e;l&&l(t,ZN(s,this.history)),this.removeListeners=lC(oC(this.contextWindow,"pointermove",this.handlePointerMove),oC(this.contextWindow,"pointerup",this.handlePointerUp),oC(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),JT(this.updatePoint)}}function $N(t,e){return e?{point:e(t.point)}:t}function JN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ZN(t,e){let{point:n}=t;return{point:n,delta:JN(n,eP(e)),offset:JN(n,tP(e)),velocity:nP(e,.1)}}function tP(t){return t[0]}function eP(t){return t[t.length-1]}function nP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=eP(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>PC(e)));)n--;if(!i)return{x:0,y:0};const s=AC(r.timestamp-i.timestamp);if(0===s)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function iP(t){return t.max-t.min}function rP(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(t-e)<=n}function sP(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=i,t.originPoint=oI(e.min,e.max,t.origin),t.scale=iP(n)/iP(e),(rP(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=oI(n.min,n.max,t.origin)-t.originPoint,(rP(t.translate)||isNaN(t.translate))&&(t.translate=0)}function oP(t,e,n,i){sP(t.x,e.x,n.x,i?i.originX:void 0),sP(t.y,e.y,n.y,i?i.originY:void 0)}function aP(t,e,n){t.min=n.min+e.min,t.max=t.min+iP(e)}function lP(t,e,n){t.min=e.min-n.min,t.max=t.min+iP(e)}function cP(t,e,n){lP(t.x,e.x,n.x),lP(t.y,e.y,n.y)}function uP(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function hP(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}const dP=.35;function fP(t,e,n){return{min:pP(t,e),max:pP(t,n)}}function pP(t,e){return"number"===typeof t?t:t[e]||0}const mP=()=>({x:{min:0,max:0},y:{min:0,max:0}});function gP(t){return[t("x"),t("y")]}function vP(t){let{top:e,left:n,right:i,bottom:r}=t;return{x:{min:n,max:i},y:{min:e,max:r}}}function yP(t){return void 0===t||1===t}function bP(t){let{scale:e,scaleX:n,scaleY:i}=t;return!yP(e)||!yP(n)||!yP(i)}function xP(t){return bP(t)||wP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function wP(t){return _P(t.x)||_P(t.y)}function _P(t){return t&&"0%"!==t}function SP(t,e,n){return n+e*(t-n)}function kP(t,e,n,i,r){return void 0!==r&&(t=SP(t,r,i)),SP(t,n,i)+e}function EP(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;t.min=kP(t.min,e,n,i,r),t.max=kP(t.max,e,n,i,r)}function TP(t,e){let{x:n,y:i}=e;EP(t.x,n.translate,n.scale,n.originPoint),EP(t.y,i.translate,i.scale,i.originPoint)}function CP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function IP(t,e){t.min=t.min+e,t.max=t.max+e}function NP(t,e,n){let[i,r,s]=n;const o=void 0!==e[s]?e[s]:.5,a=oI(t.min,t.max,o);EP(t,e[i],e[r],a,e.scale)}const PP=["x","scaleX","originX"],AP=["y","scaleY","originY"];function DP(t,e){NP(t.x,e,PP),NP(t.y,e,AP)}function MP(t,e){return vP(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(t.getBoundingClientRect(),e))}const RP=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},OP=new WeakMap;class jP{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new XN(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(sC(t,"page").point)},onStart:(t,e)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dC(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gP(t=>{let e=this.getAxisMotionValue(t).get()||0;if(hT.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[t];if(i){e=iP(i)*(parseFloat(e)/100)}}}this.originPoint[t]=e}),r&&$T.update(()=>r(t,e),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=e;if(i&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(o),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",e.point,o),this.updateAxis("y",e.point,o),this.visualElement.render(),s&&s(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>gP(t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:RP(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=e;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&$T.update(()=>r(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:i}=this.getProps();if(!n||!LP(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=function(t,e,n){let{min:i,max:r}=e;return void 0!==i&&t<i?t=n?oI(i,t,n.min):Math.max(t,i):void 0!==r&&t>r&&(t=n?oI(r,t,n.max):Math.min(t,r)),t}(s,this.constraints[t],this.elastic[t])),r.set(s)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,r=this.constraints;e&&kE(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!i)&&function(t,e){let{top:n,left:i,bottom:r,right:s}=e;return{x:uP(t.x,i,s),y:uP(t.y,n,r)}}(i.layoutBox,e),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dP;return!1===t?t=0:!0===t&&(t=dP),{x:fP(t,"left","right"),y:fP(t,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gP(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(i.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!kE(t))return!1;const n=t.current;NC(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(t,e,n){const i=MP(t,n),{scroll:r}=e;return r&&(IP(i.x,r.offset.x),IP(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let s=function(t,e){return{x:hP(t.x,e.x),y:hP(t.y,e.y)}}(i.layout.layoutBox,r);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=vP(t))}return s}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=gP(o=>{if(!LP(o,e,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=i?200:1e6,u=i?40:1e7,h=Lt(Lt({type:"inertia",velocity:n?t[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},r),l);return this.startAxisValueAnimation(o,h)});return Promise.all(l).then(o)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(gN(t,n,0,e))}stopAnimation(){gP(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gP(t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()})}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[e];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){gP(e=>{const{drag:n}=this.getProps();if(!LP(e,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(e);if(i&&i.layout){const{min:n,max:s}=i.layout.layoutBox[e];r.set(t[e]-oI(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!kE(e)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gP(t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();i[t]=function(t,e){let n=.5;const i=iP(t),r=iP(e);return r>i?n=TI(e.min,e.max-i,t.min):i>r&&(n=TI(t.min,t.max-r,e.min)),tT(0,1,n)}({min:n,max:n},this.constraints[t])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gP(e=>{if(!LP(e,t,null))return;const n=this.getAxisMotionValue(e),{min:r,max:s}=this.constraints[e];n.set(oI(r,s,i[e]))})}addListeners(){if(!this.visualElement.current)return;OP.set(this.visualElement,this);const t=oC(this.visualElement.current,"pointerdown",t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)}),e=()=>{const{dragConstraints:t}=this.getProps();kE(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),e();const r=iC(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(gP(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),t(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=dP,dragMomentum:o=!0}=t;return Lt(Lt({},t),{},{drag:e,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:o})}}function LP(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const FP=t=>(e,n)=>{t&&$T.update(()=>t(e,n))};const VP={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zP={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!dT.test(t))return t;t=parseFloat(t)}const n=UP(t,e.target.x),i=UP(t,e.target.y);return"".concat(n,"% ").concat(i,"%")}},BP={correct:(t,e)=>{let{treeScale:n,projectionDelta:i}=e;const r=t,s=xI.parse(t);if(s.length>5)return r;const o=xI.createTransformer(t),a="number"!==typeof s[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=oI(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}};class HP extends r.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=t;var s;s=qP,Object.assign(HE,s),r&&(e.group&&e.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions(Lt(Lt({},r.options),{},{onExitComplete:()=>this.safeToRemove()}))),VP.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:i,isPresent:r}=this.props,s=n.projection;return s?(s.isPresent=r,i||t.layoutDependency!==e||void 0===e?s.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?s.promote():s.relegate()||$T.postRender(()=>{const t=s.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WP(t){const[e,n]=function(){const t=(0,r.useContext)(yE);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,s=(0,r.useId)();return(0,r.useEffect)(()=>i(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}(),i=(0,r.useContext)(OE);return r.createElement(HP,Lt(Lt({},t),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(jE),isPresent:e,safeToRemove:n}))}const qP={borderRadius:Lt(Lt({},zP),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:zP,borderTopRightRadius:zP,borderBottomLeftRadius:zP,borderBottomRightRadius:zP,boxShadow:BP},GP=["TopLeft","TopRight","BottomLeft","BottomRight"],KP=GP.length,YP=t=>"string"===typeof t?parseFloat(t):t,QP=t=>"number"===typeof t||dT.test(t);function XP(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const $P=ZP(0,.5,GC),JP=ZP(.5,.95,YT);function ZP(t,e,n){return i=>i<t?0:i>e?1:n(TI(t,e,i))}function tA(t,e){t.min=e.min,t.max=e.max}function eA(t,e){tA(t.x,e.x),tA(t.y,e.y)}function nA(t,e,n,i,r){return t=SP(t-=e,1/n,i),void 0!==r&&(t=SP(t,1/r,i)),t}function iA(t,e,n,i,r){let[s,o,a]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;hT.test(e)&&(e=parseFloat(e),e=oI(o.min,o.max,e/100)-o.min);if("number"!==typeof e)return;let a=oI(s.min,s.max,i);t===s&&(a-=e),t.min=nA(t.min,e,n,a,r),t.max=nA(t.max,e,n,a,r)}(t,e[s],e[o],e[a],e.scale,i,r)}const rA=["x","scaleX","originX"],sA=["y","scaleY","originY"];function oA(t,e,n,i){iA(t.x,e,rA,n?n.x:void 0,i?i.x:void 0),iA(t.y,e,sA,n?n.y:void 0,i?i.y:void 0)}function aA(t){return 0===t.translate&&1===t.scale}function lA(t){return aA(t.x)&&aA(t.y)}function cA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function uA(t){return iP(t.x)/iP(t.y)}class hA{constructor(){this.members=[]}add(t){bN(this.members,t),t.scheduleRender()}remove(t){if(xN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex(e=>t===e);if(0===e)return!1;let n;for(let i=e;i>=0;i--){const t=this.members[i];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dA(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i="translate3d(".concat(r,"px, ").concat(s,"px, 0) ")),1===e.x&&1===e.y||(i+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){const{rotate:t,rotateX:e,rotateY:r}=n;t&&(i+="rotate(".concat(t,"deg) ")),e&&(i+="rotateX(".concat(e,"deg) ")),r&&(i+="rotateY(".concat(r,"deg) "))}const o=t.x.scale*e.x,a=t.y.scale*e.y;return 1===o&&1===a||(i+="scale(".concat(o,", ").concat(a,")")),i||"none"}const fA=(t,e)=>t.depth-e.depth;class pA{constructor(){this.children=[],this.isDirty=!1}add(t){bN(this.children,t),this.isDirty=!0}remove(t){xN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fA),this.isDirty=!1,this.children.forEach(t)}}const mA=["","X","Y","Z"],gA={visibility:"hidden"};let vA=0;const yA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function bA(t){let{attachResizeListener:e,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=vA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yA.totalNodes=yA.resolvedTargetDeltas=yA.recalculatedProjection=0,this.nodes.forEach(_A),this.nodes.forEach(NA),this.nodes.forEach(PA),this.nodes.forEach(SA),function(t){window.MotionDebug&&window.MotionDebug.record(t)}(yA)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new pA)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new wN),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e&&e.notify(...i)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var i;this.isSVG=(i=t)instanceof SVGElement&&"svg"!==i.tagName,this.instance=t;const{layoutId:r,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||r)&&(this.isLayoutDirty=!0),e){let n;const i=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=performance.now(),i=r=>{let{timestamp:s}=r;const o=s-n;o>=e&&(JT(i),t(o-e))};return $T.read(i,!0),()=>JT(i)}(i,250),VP.hasAnimatedSinceResize&&(VP.hasAnimatedSinceResize=!1,this.nodes.forEach(IA))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||s)&&this.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:i,layout:r}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||jA,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!cA(this.targetLayout,r)||i,u=!n&&i;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t=Lt(Lt({},pN(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||IA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,JT(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AA),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const t=this.path[r];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(EA);this.isUpdating||this.nodes.forEach(TA),this.isUpdating=!1,this.nodes.forEach(CA),this.nodes.forEach(xA),this.nodes.forEach(wA),this.clearAllSnapshots();const t=performance.now();ZT.delta=tT(0,1e3/60,t-ZT.timestamp),ZT.timestamp=t,ZT.isProcessing=!0,tC.update.process(ZT),tC.preRender.process(ZT),tC.render.process(ZT),ZT.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kA),this.sharedNodes.forEach(DA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$T.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$T.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:r(this.instance),offset:i(this.instance)})}resetTransform(){if(!s)return;const t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!lA(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;t&&(e||xP(this.latestValues)||r)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var i;return t&&(n=this.removeTransform(n)),VA((i=n).x),VA(i.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(IP(e.x,n.offset.x),IP(e.y,n.offset.y)),e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};eA(e,t);for(let n=0;n<this.path.length;n++){const i=this.path[n],{scroll:r,options:s}=i;if(i!==this.root&&r&&s.layoutScroll){if(r.isRoot){eA(e,t);const{scroll:n}=this.root;n&&(IP(e.x,-n.offset.x),IP(e.y,-n.offset.y))}IP(e.x,r.offset.x),IP(e.y,r.offset.y)}}return e}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};eA(n,t);for(let i=0;i<this.path.length;i++){const t=this.path[i];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&DP(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),xP(t.latestValues)&&DP(n,t.latestValues)}return xP(this.latestValues)&&DP(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};eA(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!xP(t.latestValues))continue;bP(t.latestValues)&&t.updateSnapshot();const i=mP();eA(i,t.measurePageBox()),oA(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,i)}return xP(this.latestValues)&&oA(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options=Lt(Lt(Lt({},this.options),t),{},{crossfade:void 0===t.crossfade||t.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ZT.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(t||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=ZT.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cP(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),eA(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,aP(o.x,a.x,l.x),aP(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):eA(this.target,this.layout.layoutBox),TP(this.target,this.targetDelta)):eA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cP(this.relativeTargetOrigin,this.target,t.target),eA(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!bP(this.parent.latestValues)&&!wP(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let i=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===ZT.timestamp&&(i=!1),i)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;eA(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let s,o;e.x=e.y=1;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const r=s.instance;r&&r.style&&"contents"===r.style.display||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&DP(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,TP(t,o)),i&&xP(s.latestValues)&&DP(t,s.latestValues))}e.x=CP(e.x),e.y=CP(e.y)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox);const{target:l}=e;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;oP(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=dA(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),yA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},r=Lt({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(OA));let h;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;MA(s.x,t.x,n),MA(s.y,t.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cP(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,i){RA(t.x,e.x,n.x,i),RA(t.y,e.y,n.y,i)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),eA(h,this.relativeTarget)),a&&(this.animationValues=r,function(t,e,n,i,r,s){r?(t.opacity=oI(0,void 0!==n.opacity?n.opacity:1,$P(i)),t.opacityExit=oI(void 0!==e.opacity?e.opacity:1,0,JP(i))):s&&(t.opacity=oI(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,i));for(let o=0;o<KP;o++){const r="border".concat(GP[o],"Radius");let s=XP(e,r),a=XP(n,r);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||QP(s)===QP(a)?(t[r]=Math.max(oI(YP(s),YP(a),i),0),(hT.test(a)||hT.test(s))&&(t[r]+="%")):t[r]=a)}(e.rotate||n.rotate)&&(t.rotate=oI(e.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(JT(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$T.update(()=>{VP.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const i=KE(t)?t:kN(t);return i.start(gN("",i,e,n)),i.animation}(0,1e3,Lt(Lt({},t),{},{onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:i,latestValues:r}=t;if(e&&n&&i){if(this!==t&&this.layout&&i&&UA(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=iP(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const i=iP(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+i}eA(e,n),DP(e,r),oP(this.projectionDeltaWithTransform,this.layoutCorrected,e,r)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new hA);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(e=!0),!e)return;const i={};for(let r=0;r<mA.length;r++){const e="rotate"+mA[r];n[e]&&(i[e]=n[e],t.setStaticValue(e,0))}t.render();for(const r in i)t.setStaticValue(r,i[r]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gA;const i={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=WT(null===t||void 0===t?void 0:t.pointerEvents)||"",i.transform=r?r(this.latestValues,""):"none",i;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=WT(null===t||void 0===t?void 0:t.pointerEvents)||""),this.hasProjected&&!xP(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1),e}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),i.transform=dA(this.projectionDeltaWithTransform,this.treeScale,o),r&&(i.transform=r(o,i.transform));const{x:a,y:l}=this.projectionDelta;i.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?i.opacity=s===this?null!==(n=null!==(e=o.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:i.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in HE){if(void 0===o[c])continue;const{correct:t,applyTo:e}=HE[c],n="none"===i.transform?o[c]:t(o[c],s);if(e){const t=e.length;for(let r=0;r<t;r++)i[e[r]]=n}else i[c]=n}return this.options.layoutId&&(i.pointerEvents=s===this?WT(null===t||void 0===t?void 0:t.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(EA),this.root.sharedNodes.clear()}}}function xA(t){t.updateLayout()}function wA(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=t.layout,{animationType:r}=t.options,s=n.source!==t.layout.source;"size"===r?gP(t=>{const i=s?n.measuredBox[t]:n.layoutBox[t],r=iP(i);i.min=e[t].min,i.max=i.min+r}):UA(r,n.layoutBox,e)&&gP(i=>{const r=s?n.measuredBox[i]:n.layoutBox[i],o=iP(e[i]);r.max=r.min+o,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[i].max=t.relativeTarget[i].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};oP(o,e,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?oP(a,t.applyTransform(i,!0),n.measuredBox):oP(a,e,n.layoutBox);const l=!lA(o);let c=!1;if(!t.resumeFrom){const i=t.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:s}=i;if(r&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};cP(o,n.layoutBox,r.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};cP(a,e,s.layoutBox),cA(o,a)||(c=!0),i.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=o,t.relativeParent=i)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function _A(t){yA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SA(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kA(t){t.clearSnapshot()}function EA(t){t.clearMeasurements()}function TA(t){t.isLayoutDirty=!1}function CA(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NA(t){t.resolveTargetDelta()}function PA(t){t.calcProjection()}function AA(t){t.resetRotation()}function DA(t){t.removeLeadSnapshot()}function MA(t,e,n){t.translate=oI(e.translate,0,n),t.scale=oI(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function RA(t,e,n,i){t.min=oI(e.min,n.min,i),t.max=oI(e.max,n.max,i)}function OA(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const jA={duration:.45,ease:[.4,0,.1,1]},LA=t=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(t),FA=LA("applewebkit/")&&!LA("chrome/")?Math.round:YT;function VA(t){t.min=FA(t.min),t.max=FA(t.max)}function UA(t,e,n){return"position"===t||"preserve-aspect"===t&&!rP(uA(e),uA(n),.2)}const zA=bA({attachResizeListener:(t,e)=>iC(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),BA={current:void 0},HA=bA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!BA.current){const t=new zA({});t.mount(window),t.setOptions({layoutScroll:!0}),BA.current=t}return BA.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),WA={pan:{Feature:class extends pC{constructor(){super(...arguments),this.removePointerDownListener=YT}onPointerDown(t){this.session=new XN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:FP(t),onStart:FP(e),onMove:n,onEnd:(t,e)=>{delete this.session,i&&$T.update(()=>i(t,e))}}}mount(){this.removePointerDownListener=oC(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends pC{constructor(t){super(t),this.removeGroupControls=YT,this.removeListeners=YT,this.controls=new jP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||YT}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:HA,MeasureLayout:WP}};const qA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function GA(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;NC(n<=4,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'));const[i,r]=function(t){const e=qA.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const t=s.trim();return yN(t)?parseFloat(t):t}return JE(r)?GA(r,e,n+1):r}function KA(t,e,n){let i=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(e),e));const r=t.current;if(!(r instanceof Element))return{target:i,transitionEnd:n};n&&(n=Lt({},n)),t.values.forEach(t=>{const e=t.get();if(!JE(e))return;const n=GA(e,r);n&&t.set(n)});for(const s in i){const t=i[s];if(!JE(t))continue;const e=GA(t,r);e&&(i[s]=e,n||(n={}),void 0===n[s]&&(n[s]=t))}return{target:i,transitionEnd:n}}const YA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),QA=t=>YA.has(t),XA=t=>t===eT||t===dT,$A=(t,e)=>parseFloat(t.split(", ")[e]),JA=(t,e)=>(n,i)=>{let{transform:r}=i;if("none"===r||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return $A(s[1],e);{const e=r.match(/^matrix\((.+)\)$/);return e?$A(e[1],t):0}},ZA=new Set(["x","y","z"]),tD=WE.filter(t=>!ZA.has(t));const eD={width:(t,e)=>{let{x:n}=t,{paddingLeft:i="0",paddingRight:r="0"}=e;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(t,e)=>{let{y:n}=t,{paddingTop:i="0",paddingBottom:r="0"}=e;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:i}=e;return parseFloat(i)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:i}=e;return parseFloat(i)+(n.max-n.min)},x:JA(4,13),y:JA(5,14)};eD.translateX=eD.x,eD.translateY=eD.y;const nD=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Lt({},e),i=Lt({},i);const r=Object.keys(e).filter(QA);let s=[],o=!1;const a=[];if(r.forEach(r=>{const l=t.getValue(r);if(!t.hasValue(r))return;let c=n[r],u=CN(c);const h=e[r];let d;if(BT(h)){const t=h.length,e=null===h[0]?1:0;c=h[e],u=CN(c);for(let n=e;n<t&&null!==h[n];n++)d?NC(CN(h[n])===d,"All keyframes must be of the same type"):(d=CN(h[n]),NC(d===u||XA(u)&&XA(d),"Keyframes must be of the same dimension as the current value"))}else d=CN(h);if(u!==d)if(XA(u)&&XA(d)){const t=l.get();"string"===typeof t&&l.set(parseFloat(t)),"string"===typeof h?e[r]=parseFloat(h):Array.isArray(h)&&d===dT&&(e[r]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):e[r]=u.transform(h):(o||(s=function(t){const e=[];return tD.forEach(n=>{const i=t.getValue(n);void 0!==i&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}(t),o=!0),a.push(r),i[r]=void 0!==i[r]?i[r]:e[r],l.jump(h))}),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,r=((t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};"none"===o&&e.setStaticValue("display",t.display||"block"),n.forEach(t=>{a[t]=eD[t](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(n=>{const i=e.getValue(n);i&&i.jump(a[n]),t[n]=eD[n](l,s)}),t})(e,t,a);return s.length&&s.forEach(e=>{let[n,i]=e;t.getValue(n).set(i)}),t.render(),bE&&null!==n&&window.scrollTo({top:n}),{target:r,transitionEnd:i}}return{target:e,transitionEnd:i}};function iD(t,e,n,i){return(t=>Object.keys(t).some(QA))(e)?nD(t,e,n,i):{target:e,transitionEnd:i}}const rD={current:null},sD={current:!1};const oD=new WeakMap,aD=["willChange"],lD=["children"],cD=Object.keys(RE),uD=cD.length,hD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dD=IE.length;class fD{constructor(t){let{parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:s}=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$T.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget=Lt({},a),this.initialValues=n.initial?Lt({},a):{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=NE(n),this.isVariantNode=PE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,h=tE(c,aD);for(const d in h){const t=h[d];void 0!==a[d]&&KE(t)&&(t.set(a[d],!1),vN(u)&&u.add(d))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,oD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),sD.current||function(){if(sD.current=!0,bE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rD.current=t.matches;t.addListener(e),e()}else rD.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||rD.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oD.delete(this.current),this.projection&&this.projection.unmount(),JT(this.notifyUpdate),JT(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){const n=qE.has(t),i=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&$T.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),r()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures(t,e,n,i){let r,s,{children:o}=t,a=tE(t,lD);for(let l=0;l<uD;l++){const t=cD[l],{isEnabled:e,Feature:n,ProjectionNode:i,MeasureLayout:o}=RE[t];i&&(r=i),e(a)&&(!this.features[t]&&n&&(this.features[t]=new n(this)),o&&(s=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&r){this.projection=new r(this.latestValues,this.parent&&this.parent.projection);const{layoutId:t,layout:e,drag:n,dragConstraints:s,layoutScroll:o,layoutRoot:l}=a;this.projection.setOptions({layoutId:t,layout:e,alwaysMeasureLayout:Boolean(n)||s&&kE(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof e?e:"both",initialPromotionConfig:i,layoutScroll:o,layoutRoot:l})}return s}updateFeatures(){for(const t in this.features){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<hD.length;n++){const e=hD[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const i=t["on"+e];i&&(this.propEventSubscriptions[e]=this.on(e,i))}this.prevMotionValues=function(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],o=n[r];if(KE(s))t.addValue(r,s),vN(i)&&i.add(r);else if(KE(o))t.addValue(r,kN(s,{owner:t})),vN(i)&&i.remove(r);else if(o!==s)if(t.hasValue(r)){const e=t.getValue(r);!e.hasAnimated&&e.set(s)}else{const e=t.getStaticValue(r);t.addValue(r,kN(void 0!==e?e:s,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const t={};for(let e=0;e<dD;e++){const n=IE[e],i=this.props[n];(EE(i)||!1===i)&&(t[n]=i)}return t}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=kN(e,{owner:this}),this.addValue(t,n)),n}readValue(t){var e;return void 0===this.latestValues[t]&&this.current?null!==(e=this.getBaseTargetFromProps(this.props,t))&&void 0!==e?e:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props,i="string"===typeof n||"object"===typeof n?null===(e=zT(this.props,n))||void 0===e?void 0:e[t]:void 0;if(n&&void 0!==i)return i;const r=this.getBaseTargetFromProps(this.props,t);return void 0===r||KE(r)?void 0!==this.initialValues[t]&&void 0===i?void 0:this.baseTarget[t]:r}on(t,e){return this.events[t]||(this.events[t]=new wN),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.events[t].notify(...n)}}}const pD=["transition","transitionEnd"];class mD extends fD{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:i}=e;delete n[t],delete i[t]}makeTargetAnimatableFromInstance(t,e,n){let{transition:i,transitionEnd:r}=t,s=tE(t,pD),{transformValues:o}=e,a=function(t,e,n){const i={};for(const r in t){const t=MN(r,e);if(void 0!==t)i[r]=t;else{const t=n.getValue(r);t&&(i[r]=t.get())}}return i}(s,i||{},this);if(o&&(r&&(r=o(r)),s&&(s=o(s)),a&&(a=o(a))),n){!function(t,e,n){var i,r;const s=Object.keys(e).filter(e=>!t.hasValue(e)),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],l=e[o];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(r=null!==(i=n[o])&&void 0!==i?i:t.readValue(o))&&void 0!==r?r:e[o]),void 0!==c&&null!==c&&("string"===typeof c&&(yN(c)||hN(c))?c=parseFloat(c):!NN(c)&&xI.test(l)&&(c=uN(o,l)),t.addValue(o,kN(c,{owner:t})),void 0===n[o]&&(n[o]=c),null!==c&&t.setBaseTarget(o,c))}}(this,s,a);const t=((t,e,n,i)=>{const r=KA(t,e,i);return iD(t,e=r.target,n,i=r.transitionEnd)})(this,s,a,r);r=t.transitionEnd,s=t.target}return Lt({transition:i,transitionEnd:r},s)}}class gD extends mD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,e){if(qE.has(e)){const t=cN(e);return t&&t.default||0}{const i=(n=t,window.getComputedStyle(n)),r=($E(e)?i.getPropertyValue(e):i[e])||0;return"string"===typeof r?r.trim():r}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return MP(t,n)}build(t,e,n,i){yT(t,e,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,e){return VT(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;KE(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent="".concat(t))}))}renderInstance(t,e,n,i){jT(t,e,n,i)}}class vD extends mD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(qE.has(e)){const t=cN(e);return t&&t.default||0}return e=LT.has(e)?e:_E(e),t.getAttribute(e)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(t,e){return UT(t,e)}build(t,e,n,i){AT(t,e,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,n,i){FT(t,e,0,i)}mount(t){this.isSVGTag=MT(t.tagName),super.mount(t)}}const yD=(t,e)=>BE(t)?new vD(e,{enableHardwareAcceleration:!1}):new gD(e,{enableHardwareAcceleration:!0}),bD={layout:{ProjectionNode:HA,MeasureLayout:WP}},xD=Lt(Lt(Lt(Lt({},YN),EC),WA),bD),wD=UE((t,e)=>function(t,e,n,i){let{forwardMotionProps:r=!1}=e;return Lt(Lt({},BE(t)?eC:nC),{},{preloadedFeatures:n,useRender:OT(r),createVisualElement:i,Component:t})}(t,e,xD,yD));const _D=()=>(0,Rv.jsxs)("footer",{className:"app-footer",children:[(0,Rv.jsxs)("div",{className:"footer-content",children:[(0,Rv.jsxs)(wD.div,{className:"branding",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,Rv.jsxs)("p",{children:["Made with \u2764\ufe0f by ",(0,Rv.jsx)("strong",{children:"Sayeed"})]}),(0,Rv.jsx)("small",{children:"Building productive futures, one task at a time"})]}),(0,Rv.jsxs)("div",{className:"social-links",children:[(0,Rv.jsxs)(wD.a,{href:"https://www.linkedin.com/in/sayeed-here/",target:"_blank",rel:"noopener noreferrer",className:"social-link linkedin",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:[(0,Rv.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Rv.jsx)("path",{fill:"currentColor",d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]}),(0,Rv.jsxs)(wD.a,{href:"https://github.com/SAYEEDHERE",target:"_blank",rel:"noopener noreferrer",className:"social-link github",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:[(0,Rv.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Rv.jsx)("path",{fill:"currentColor",d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"GitHub"]})]})]}),(0,Rv.jsx)("div",{className:"footer-bottom",children:(0,Rv.jsxs)("div",{className:"footer-info",children:[(0,Rv.jsx)("p",{children:"\xa9 2024 Productivity App by Sayeed. Open source and privacy-focused."}),(0,Rv.jsxs)("div",{className:"footer-features",children:[(0,Rv.jsx)("span",{children:"\ud83d\udd12 Privacy First"}),(0,Rv.jsx)("span",{children:"\ud83d\ude80 Open Source"}),(0,Rv.jsx)("span",{children:"\ud83d\udcf1 Mobile Ready"})]})]})})]}),SD=()=>(0,Rv.jsx)("div",{className:"loading-screen",children:(0,Rv.jsxs)("div",{className:"loading-content",children:[(0,Rv.jsx)("div",{className:"loading-logo",children:"\ud83d\udccb"}),(0,Rv.jsx)("div",{className:"loading-spinner"}),(0,Rv.jsx)("div",{className:"loading-text",children:"Productivity App"}),(0,Rv.jsx)("div",{className:"loading-subtext",children:"Loading your workspace..."}),(0,Rv.jsxs)("div",{className:"loading-author",children:["Made with \u2764\ufe0f by ",(0,Rv.jsx)("strong",{children:"Sayeed"})]}),(0,Rv.jsx)("div",{className:"loading-progress",children:(0,Rv.jsx)("div",{className:"loading-progress-bar"})}),(0,Rv.jsxs)("div",{className:"loading-features",children:[(0,Rv.jsx)("span",{children:"\ud83c\udf45 Pomodoro"}),(0,Rv.jsx)("span",{children:"\ud83d\udccb Tasks"}),(0,Rv.jsx)("span",{children:"\ud83d\ude0a Mood"}),(0,Rv.jsx)("span",{children:"\ud83d\udcc5 Calendar"}),(0,Rv.jsx)("span",{children:"\ud83d\udcca Analytics"})]})]})});const kD=function(){const[t,e]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{const t=Mv.onAuthStateChanged(t=>{e(t),i(!1)});return()=>t()},[]),n?(0,Rv.jsx)(SD,{}):(0,Rv.jsx)(Tt,{basename:"/productivity-app",children:(0,Rv.jsxs)("div",{className:"App",children:[(0,Rv.jsx)(Xe,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff",borderRadius:"12px",fontSize:"14px"},success:{iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),(0,Rv.jsxs)(xt,{children:[(0,Rv.jsx)(yt,{path:"/login",element:t?(0,Rv.jsx)(vt,{to:"/dashboard",replace:!0}):(0,Rv.jsx)(Ov,{})}),(0,Rv.jsx)(yt,{path:"/signup",element:t?(0,Rv.jsx)(vt,{to:"/dashboard",replace:!0}):(0,Rv.jsx)(jv,{})}),(0,Rv.jsx)(yt,{path:"/forgot-password",element:t?(0,Rv.jsx)(vt,{to:"/dashboard",replace:!0}):(0,Rv.jsx)(Lv,{})}),(0,Rv.jsx)(yt,{path:"/",element:t?(0,Rv.jsx)(vt,{to:"/dashboard",replace:!0}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})}),(0,Rv.jsx)(yt,{path:"/dashboard",element:t?(0,Rv.jsx)(mE,{children:(0,Rv.jsx)(Wv,{})}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})}),(0,Rv.jsx)(yt,{path:"/todos",element:t?(0,Rv.jsx)(mE,{children:(0,Rv.jsx)(qv,{})}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})}),(0,Rv.jsx)(yt,{path:"/pomodoro",element:t?(0,Rv.jsx)(mE,{children:(0,Rv.jsx)(Gv,{})}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})}),(0,Rv.jsx)(yt,{path:"/mood",element:t?(0,Rv.jsx)(mE,{children:(0,Rv.jsx)(Kv,{})}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})}),(0,Rv.jsx)(yt,{path:"/notes",element:t?(0,Rv.jsx)(mE,{children:(0,Rv.jsx)(Qv,{})}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})}),(0,Rv.jsx)(yt,{path:"/goals",element:t?(0,Rv.jsx)(mE,{children:(0,Rv.jsx)($v,{})}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})}),(0,Rv.jsx)(yt,{path:"/analytics",element:t?(0,Rv.jsx)(mE,{children:(0,Rv.jsx)(fE,{})}):(0,Rv.jsx)(vt,{to:"/login",replace:!0})})]}),(0,Rv.jsx)(_D,{})]})})};o.createRoot(document.getElementById("root")).render((0,Rv.jsx)(r.StrictMode,{children:(0,Rv.jsx)(kD,{})})),document.body.classList.add("react-loaded")})();
//# sourceMappingURL=main.d11a5e0e.js.map